(() => {
  function t(t, n, e, r) {
    Object.defineProperty(t, n, {
      get: e,
      set: r,
      enumerable: !0,
      configurable: !0
    });
  }
  var n = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : "undefined" != typeof global ? global : {};
  function e(t) {
    return t && t.__esModule ? t.default : t;
  }
  var r = {}, a = {}, i = n.parcelRequire94c2;
  null == i && ((i = function(t) {
    if (t in r) return r[t].exports;
    if (t in a) {
      var n = a[t];
      delete a[t];
      var e = {
        id: t,
        exports: {}
      };
      return r[t] = e, n.call(e.exports, e, e.exports), e.exports;
    }
    var i = new Error("Cannot find module '" + t + "'");
    throw i.code = "MODULE_NOT_FOUND", i;
  }).register = function(t, n) {
    a[t] = n;
  }, n.parcelRequire94c2 = i), i.register("aCBW2", (function(n, e) {
    var r, a;
    t(n.exports, "register", (() => r), (t => r = t)), t(n.exports, "resolve", (() => a), (t => a = t));
    var i = {};
    r = function(t) {
      for (var n = Object.keys(t), e = 0; e < n.length; e++) i[n[e]] = t[n[e]];
    }, a = function(t) {
      var n = i[t];
      if (null == n) throw new Error("Could not resolve bundle with id " + t);
      return n;
    };
  })), i.register("1t74G", (function(t, n) {
    var e;
    "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self && self, 
    e = function(t) {
      "use strict";
      if ("undefined" == typeof browser || Object.getPrototypeOf(browser) !== Object.prototype) {
        const n = "The message port closed before a response was received.", e = "Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)", r = t => {
          const r = {
            alarms: {
              clear: {
                minArgs: 0,
                maxArgs: 1
              },
              clearAll: {
                minArgs: 0,
                maxArgs: 0
              },
              get: {
                minArgs: 0,
                maxArgs: 1
              },
              getAll: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            bookmarks: {
              create: {
                minArgs: 1,
                maxArgs: 1
              },
              get: {
                minArgs: 1,
                maxArgs: 1
              },
              getChildren: {
                minArgs: 1,
                maxArgs: 1
              },
              getRecent: {
                minArgs: 1,
                maxArgs: 1
              },
              getSubTree: {
                minArgs: 1,
                maxArgs: 1
              },
              getTree: {
                minArgs: 0,
                maxArgs: 0
              },
              move: {
                minArgs: 2,
                maxArgs: 2
              },
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              removeTree: {
                minArgs: 1,
                maxArgs: 1
              },
              search: {
                minArgs: 1,
                maxArgs: 1
              },
              update: {
                minArgs: 2,
                maxArgs: 2
              }
            },
            browserAction: {
              disable: {
                minArgs: 0,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              enable: {
                minArgs: 0,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              getBadgeBackgroundColor: {
                minArgs: 1,
                maxArgs: 1
              },
              getBadgeText: {
                minArgs: 1,
                maxArgs: 1
              },
              getPopup: {
                minArgs: 1,
                maxArgs: 1
              },
              getTitle: {
                minArgs: 1,
                maxArgs: 1
              },
              openPopup: {
                minArgs: 0,
                maxArgs: 0
              },
              setBadgeBackgroundColor: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              setBadgeText: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              setIcon: {
                minArgs: 1,
                maxArgs: 1
              },
              setPopup: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              setTitle: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              }
            },
            browsingData: {
              remove: {
                minArgs: 2,
                maxArgs: 2
              },
              removeCache: {
                minArgs: 1,
                maxArgs: 1
              },
              removeCookies: {
                minArgs: 1,
                maxArgs: 1
              },
              removeDownloads: {
                minArgs: 1,
                maxArgs: 1
              },
              removeFormData: {
                minArgs: 1,
                maxArgs: 1
              },
              removeHistory: {
                minArgs: 1,
                maxArgs: 1
              },
              removeLocalStorage: {
                minArgs: 1,
                maxArgs: 1
              },
              removePasswords: {
                minArgs: 1,
                maxArgs: 1
              },
              removePluginData: {
                minArgs: 1,
                maxArgs: 1
              },
              settings: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            commands: {
              getAll: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            contextMenus: {
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              removeAll: {
                minArgs: 0,
                maxArgs: 0
              },
              update: {
                minArgs: 2,
                maxArgs: 2
              }
            },
            cookies: {
              get: {
                minArgs: 1,
                maxArgs: 1
              },
              getAll: {
                minArgs: 1,
                maxArgs: 1
              },
              getAllCookieStores: {
                minArgs: 0,
                maxArgs: 0
              },
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              set: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            devtools: {
              inspectedWindow: {
                eval: {
                  minArgs: 1,
                  maxArgs: 2,
                  singleCallbackArg: !1
                }
              },
              panels: {
                create: {
                  minArgs: 3,
                  maxArgs: 3,
                  singleCallbackArg: !0
                },
                elements: {
                  createSidebarPane: {
                    minArgs: 1,
                    maxArgs: 1
                  }
                }
              }
            },
            downloads: {
              cancel: {
                minArgs: 1,
                maxArgs: 1
              },
              download: {
                minArgs: 1,
                maxArgs: 1
              },
              erase: {
                minArgs: 1,
                maxArgs: 1
              },
              getFileIcon: {
                minArgs: 1,
                maxArgs: 2
              },
              open: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              pause: {
                minArgs: 1,
                maxArgs: 1
              },
              removeFile: {
                minArgs: 1,
                maxArgs: 1
              },
              resume: {
                minArgs: 1,
                maxArgs: 1
              },
              search: {
                minArgs: 1,
                maxArgs: 1
              },
              show: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              }
            },
            extension: {
              isAllowedFileSchemeAccess: {
                minArgs: 0,
                maxArgs: 0
              },
              isAllowedIncognitoAccess: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            history: {
              addUrl: {
                minArgs: 1,
                maxArgs: 1
              },
              deleteAll: {
                minArgs: 0,
                maxArgs: 0
              },
              deleteRange: {
                minArgs: 1,
                maxArgs: 1
              },
              deleteUrl: {
                minArgs: 1,
                maxArgs: 1
              },
              getVisits: {
                minArgs: 1,
                maxArgs: 1
              },
              search: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            i18n: {
              detectLanguage: {
                minArgs: 1,
                maxArgs: 1
              },
              getAcceptLanguages: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            identity: {
              launchWebAuthFlow: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            idle: {
              queryState: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            management: {
              get: {
                minArgs: 1,
                maxArgs: 1
              },
              getAll: {
                minArgs: 0,
                maxArgs: 0
              },
              getSelf: {
                minArgs: 0,
                maxArgs: 0
              },
              setEnabled: {
                minArgs: 2,
                maxArgs: 2
              },
              uninstallSelf: {
                minArgs: 0,
                maxArgs: 1
              }
            },
            notifications: {
              clear: {
                minArgs: 1,
                maxArgs: 1
              },
              create: {
                minArgs: 1,
                maxArgs: 2
              },
              getAll: {
                minArgs: 0,
                maxArgs: 0
              },
              getPermissionLevel: {
                minArgs: 0,
                maxArgs: 0
              },
              update: {
                minArgs: 2,
                maxArgs: 2
              }
            },
            pageAction: {
              getPopup: {
                minArgs: 1,
                maxArgs: 1
              },
              getTitle: {
                minArgs: 1,
                maxArgs: 1
              },
              hide: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              setIcon: {
                minArgs: 1,
                maxArgs: 1
              },
              setPopup: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              setTitle: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              },
              show: {
                minArgs: 1,
                maxArgs: 1,
                fallbackToNoCallback: !0
              }
            },
            permissions: {
              contains: {
                minArgs: 1,
                maxArgs: 1
              },
              getAll: {
                minArgs: 0,
                maxArgs: 0
              },
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              request: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            runtime: {
              getBackgroundPage: {
                minArgs: 0,
                maxArgs: 0
              },
              getPlatformInfo: {
                minArgs: 0,
                maxArgs: 0
              },
              openOptionsPage: {
                minArgs: 0,
                maxArgs: 0
              },
              requestUpdateCheck: {
                minArgs: 0,
                maxArgs: 0
              },
              sendMessage: {
                minArgs: 1,
                maxArgs: 3
              },
              sendNativeMessage: {
                minArgs: 2,
                maxArgs: 2
              },
              setUninstallURL: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            sessions: {
              getDevices: {
                minArgs: 0,
                maxArgs: 1
              },
              getRecentlyClosed: {
                minArgs: 0,
                maxArgs: 1
              },
              restore: {
                minArgs: 0,
                maxArgs: 1
              }
            },
            storage: {
              local: {
                clear: {
                  minArgs: 0,
                  maxArgs: 0
                },
                get: {
                  minArgs: 0,
                  maxArgs: 1
                },
                getBytesInUse: {
                  minArgs: 0,
                  maxArgs: 1
                },
                remove: {
                  minArgs: 1,
                  maxArgs: 1
                },
                set: {
                  minArgs: 1,
                  maxArgs: 1
                }
              },
              managed: {
                get: {
                  minArgs: 0,
                  maxArgs: 1
                },
                getBytesInUse: {
                  minArgs: 0,
                  maxArgs: 1
                }
              },
              sync: {
                clear: {
                  minArgs: 0,
                  maxArgs: 0
                },
                get: {
                  minArgs: 0,
                  maxArgs: 1
                },
                getBytesInUse: {
                  minArgs: 0,
                  maxArgs: 1
                },
                remove: {
                  minArgs: 1,
                  maxArgs: 1
                },
                set: {
                  minArgs: 1,
                  maxArgs: 1
                }
              }
            },
            tabs: {
              captureVisibleTab: {
                minArgs: 0,
                maxArgs: 2
              },
              create: {
                minArgs: 1,
                maxArgs: 1
              },
              detectLanguage: {
                minArgs: 0,
                maxArgs: 1
              },
              discard: {
                minArgs: 0,
                maxArgs: 1
              },
              duplicate: {
                minArgs: 1,
                maxArgs: 1
              },
              executeScript: {
                minArgs: 1,
                maxArgs: 2
              },
              get: {
                minArgs: 1,
                maxArgs: 1
              },
              getCurrent: {
                minArgs: 0,
                maxArgs: 0
              },
              getZoom: {
                minArgs: 0,
                maxArgs: 1
              },
              getZoomSettings: {
                minArgs: 0,
                maxArgs: 1
              },
              goBack: {
                minArgs: 0,
                maxArgs: 1
              },
              goForward: {
                minArgs: 0,
                maxArgs: 1
              },
              highlight: {
                minArgs: 1,
                maxArgs: 1
              },
              insertCSS: {
                minArgs: 1,
                maxArgs: 2
              },
              move: {
                minArgs: 2,
                maxArgs: 2
              },
              query: {
                minArgs: 1,
                maxArgs: 1
              },
              reload: {
                minArgs: 0,
                maxArgs: 2
              },
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              removeCSS: {
                minArgs: 1,
                maxArgs: 2
              },
              sendMessage: {
                minArgs: 2,
                maxArgs: 3
              },
              setZoom: {
                minArgs: 1,
                maxArgs: 2
              },
              setZoomSettings: {
                minArgs: 1,
                maxArgs: 2
              },
              update: {
                minArgs: 1,
                maxArgs: 2
              }
            },
            topSites: {
              get: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            webNavigation: {
              getAllFrames: {
                minArgs: 1,
                maxArgs: 1
              },
              getFrame: {
                minArgs: 1,
                maxArgs: 1
              }
            },
            webRequest: {
              handlerBehaviorChanged: {
                minArgs: 0,
                maxArgs: 0
              }
            },
            windows: {
              create: {
                minArgs: 0,
                maxArgs: 1
              },
              get: {
                minArgs: 1,
                maxArgs: 2
              },
              getAll: {
                minArgs: 0,
                maxArgs: 1
              },
              getCurrent: {
                minArgs: 0,
                maxArgs: 1
              },
              getLastFocused: {
                minArgs: 0,
                maxArgs: 1
              },
              remove: {
                minArgs: 1,
                maxArgs: 1
              },
              update: {
                minArgs: 2,
                maxArgs: 2
              }
            }
          };
          if (0 === Object.keys(r).length) throw new Error("api-metadata.json has not been included in browser-polyfill");
          class a extends WeakMap {
            constructor(t, n) {
              super(n), this.createItem = t;
            }
            get(t) {
              return this.has(t) || this.set(t, this.createItem(t)), super.get(t);
            }
          }
          const i = (n, e) => (...r) => {
            t.runtime.lastError ? n.reject(new Error(t.runtime.lastError.message)) : e.singleCallbackArg || r.length <= 1 && !1 !== e.singleCallbackArg ? n.resolve(r[0]) : n.resolve(r);
          }, o = t => 1 == t ? "argument" : "arguments", u = (t, n, e) => new Proxy(n, {
            apply: (n, r, a) => e.call(r, t, ...a)
          });
          let s = Function.call.bind(Object.prototype.hasOwnProperty);
          const c = (t, n = {}, e = {}) => {
            let r = Object.create(null), a = {
              has: (n, e) => e in t || e in r,
              get(a, l, f) {
                if (l in r) return r[l];
                if (!(l in t)) return;
                let h = t[l];
                if ("function" == typeof h) if ("function" == typeof n[l]) h = u(t, t[l], n[l]); else if (s(e, l)) {
                  let n = ((t, n) => function(e, ...r) {
                    if (r.length < n.minArgs) throw new Error(`Expected at least ${n.minArgs} ${o(n.minArgs)} for ${t}(), got ${r.length}`);
                    if (r.length > n.maxArgs) throw new Error(`Expected at most ${n.maxArgs} ${o(n.maxArgs)} for ${t}(), got ${r.length}`);
                    return new Promise(((a, o) => {
                      if (n.fallbackToNoCallback) try {
                        e[t](...r, i({
                          resolve: a,
                          reject: o
                        }, n));
                      } catch (i) {
                        console.warn(`${t} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `, i), 
                        e[t](...r), n.fallbackToNoCallback = !1, n.noCallback = !0, a();
                      } else n.noCallback ? (e[t](...r), a()) : e[t](...r, i({
                        resolve: a,
                        reject: o
                      }, n));
                    }));
                  })(l, e[l]);
                  h = u(t, t[l], n);
                } else h = h.bind(t); else if ("object" == typeof h && null !== h && (s(n, l) || s(e, l))) h = c(h, n[l], e[l]); else {
                  if (!s(e, "*")) return Object.defineProperty(r, l, {
                    configurable: !0,
                    enumerable: !0,
                    get: () => t[l],
                    set(n) {
                      t[l] = n;
                    }
                  }), h;
                  h = c(h, n[l], e["*"]);
                }
                return r[l] = h, h;
              },
              set: (n, e, a, i) => (e in r ? r[e] = a : t[e] = a, !0),
              defineProperty: (t, n, e) => Reflect.defineProperty(r, n, e),
              deleteProperty: (t, n) => Reflect.deleteProperty(r, n)
            }, l = Object.create(t);
            return new Proxy(l, a);
          }, l = t => ({
            addListener(n, e, ...r) {
              n.addListener(t.get(e), ...r);
            },
            hasListener: (n, e) => n.hasListener(t.get(e)),
            removeListener(n, e) {
              n.removeListener(t.get(e));
            }
          }), f = new a((t => "function" != typeof t ? t : function(n) {
            const e = c(n, {}, {
              getContent: {
                minArgs: 0,
                maxArgs: 0
              }
            });
            t(e);
          }));
          let h = !1;
          const g = new a((t => "function" != typeof t ? t : function(n, r, a) {
            let i, o, u = !1, s = new Promise((t => {
              i = function(n) {
                h || (console.warn(e, (new Error).stack), h = !0), u = !0, t(n);
              };
            }));
            try {
              o = t(n, r, i);
            } catch (t) {
              o = Promise.reject(t);
            }
            const c = !0 !== o && (l = o) && "object" == typeof l && "function" == typeof l.then;
            var l;
            if (!0 !== o && !c && !u) return !1;
            const f = t => {
              t.then((t => {
                a(t);
              }), (t => {
                let n;
                n = t && (t instanceof Error || "string" == typeof t.message) ? t.message : "An unexpected error occurred", 
                a({
                  __mozWebExtensionPolyfillReject__: !0,
                  message: n
                });
              })).catch((t => {
                console.error("Failed to send onMessage rejected reply", t);
              }));
            };
            return f(c ? o : s), !0;
          })), p = ({reject: e, resolve: r}, a) => {
            t.runtime.lastError ? t.runtime.lastError.message === n ? r() : e(new Error(t.runtime.lastError.message)) : a && a.__mozWebExtensionPolyfillReject__ ? e(new Error(a.message)) : r(a);
          }, d = (t, n, e, ...r) => {
            if (r.length < n.minArgs) throw new Error(`Expected at least ${n.minArgs} ${o(n.minArgs)} for ${t}(), got ${r.length}`);
            if (r.length > n.maxArgs) throw new Error(`Expected at most ${n.maxArgs} ${o(n.maxArgs)} for ${t}(), got ${r.length}`);
            return new Promise(((t, n) => {
              const a = p.bind(null, {
                resolve: t,
                reject: n
              });
              r.push(a), e.sendMessage(...r);
            }));
          }, m = {
            devtools: {
              network: {
                onRequestFinished: l(f)
              }
            },
            runtime: {
              onMessage: l(g),
              onMessageExternal: l(g),
              sendMessage: d.bind(null, "sendMessage", {
                minArgs: 1,
                maxArgs: 3
              })
            },
            tabs: {
              sendMessage: d.bind(null, "sendMessage", {
                minArgs: 2,
                maxArgs: 3
              })
            }
          }, v = {
            clear: {
              minArgs: 1,
              maxArgs: 1
            },
            get: {
              minArgs: 1,
              maxArgs: 1
            },
            set: {
              minArgs: 1,
              maxArgs: 1
            }
          };
          return r.privacy = {
            network: {
              "*": v
            },
            services: {
              "*": v
            },
            websites: {
              "*": v
            }
          }, c(t, m, r);
        };
        if ("object" != typeof chrome || !chrome || !chrome.runtime || !chrome.runtime.id) throw new Error("This script should only be loaded in a browser extension.");
        t.exports = r(chrome);
      } else t.exports = browser;
    }, "function" == typeof define && define.amd ? define("webextension-polyfill", [ "module" ], e) : e(t);
  })), i.register("bbtrO", (function(n, e) {
    var r;
    t(n.exports, "getBundleURL", (() => r), (t => r = t));
    var a = {};
    function i(t) {
      return ("" + t).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/, "$1") + "/";
    }
    r = function(t) {
      var n = a[t];
      return n || (n = function() {
        try {
          throw new Error;
        } catch (n) {
          var t = ("" + n.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);
          if (t) return i(t[2]);
        }
        return "/";
      }(), a[t] = n), n;
    };
  })), i.register("jE1ev", (function(t, e) {
    (function() {
      var r, a = "Expected a function", i = "__lodash_hash_undefined__", o = "__lodash_placeholder__", u = 16, s = 32, c = 64, l = 128, f = 256, h = 1 / 0, g = 9007199254740991, p = NaN, d = 4294967295, m = [ [ "ary", l ], [ "bind", 1 ], [ "bindKey", 2 ], [ "curry", 8 ], [ "curryRight", u ], [ "flip", 512 ], [ "partial", s ], [ "partialRight", c ], [ "rearg", f ] ], v = "[object Arguments]", y = "[object Array]", b = "[object Boolean]", w = "[object Date]", _ = "[object Error]", x = "[object Function]", A = "[object GeneratorFunction]", k = "[object Map]", j = "[object Number]", T = "[object Object]", M = "[object Promise]", C = "[object RegExp]", I = "[object Set]", E = "[object String]", S = "[object Symbol]", z = "[object WeakMap]", O = "[object ArrayBuffer]", R = "[object DataView]", q = "[object Float32Array]", L = "[object Float64Array]", P = "[object Int8Array]", N = "[object Int16Array]", W = "[object Int32Array]", B = "[object Uint8Array]", F = "[object Uint8ClampedArray]", U = "[object Uint16Array]", $ = "[object Uint32Array]", D = /\b__p \+= '';/g, H = /\b(__p \+=) '' \+/g, G = /(__e\(.*?\)|\b__t\)) \+\n'';/g, K = /&(?:amp|lt|gt|quot|#39);/g, Z = /[&<>"']/g, J = RegExp(K.source), X = RegExp(Z.source), V = /<%-([\s\S]+?)%>/g, Y = /<%([\s\S]+?)%>/g, Q = /<%=([\s\S]+?)%>/g, tt = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, nt = /^\w*$/, et = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, rt = /[\\^$.*+?()[\]{}|]/g, at = RegExp(rt.source), it = /^\s+/, ot = /\s/, ut = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, st = /\{\n\/\* \[wrapped with (.+)\] \*/, ct = /,? & /, lt = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, ft = /[()=,{}\[\]\/\s]/, ht = /\\(\\)?/g, gt = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, pt = /\w*$/, dt = /^[-+]0x[0-9a-f]+$/i, mt = /^0b[01]+$/i, vt = /^\[object .+?Constructor\]$/, yt = /^0o[0-7]+$/i, bt = /^(?:0|[1-9]\d*)$/, wt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, _t = /($^)/, xt = /['\n\r\u2028\u2029\\]/g, At = "\ud800-\udfff", kt = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", jt = "\\u2700-\\u27bf", Tt = "a-z\\xdf-\\xf6\\xf8-\\xff", Mt = "A-Z\\xc0-\\xd6\\xd8-\\xde", Ct = "\\ufe0e\\ufe0f", It = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", Et = "['’]", St = "[\ud800-\udfff]", zt = "[" + It + "]", Ot = "[" + kt + "]", Rt = "\\d+", qt = "[" + jt + "]", Lt = "[" + Tt + "]", Pt = "[^" + At + It + Rt + jt + Tt + Mt + "]", Nt = "\ud83c[\udffb-\udfff]", Wt = "[^\ud800-\udfff]", Bt = "(?:\ud83c[\udde6-\uddff]){2}", Ft = "[\ud800-\udbff][\udc00-\udfff]", Ut = "[" + Mt + "]", $t = "\\u200d", Dt = "(?:" + Lt + "|" + Pt + ")", Ht = "(?:" + Ut + "|" + Pt + ")", Gt = "(?:['’](?:d|ll|m|re|s|t|ve))?", Kt = "(?:['’](?:D|LL|M|RE|S|T|VE))?", Zt = "(?:" + Ot + "|" + Nt + ")" + "?", Jt = "[" + Ct + "]?", Xt = Jt + Zt + ("(?:" + $t + "(?:" + [ Wt, Bt, Ft ].join("|") + ")" + Jt + Zt + ")*"), Vt = "(?:" + [ qt, Bt, Ft ].join("|") + ")" + Xt, Yt = "(?:" + [ Wt + Ot + "?", Ot, Bt, Ft, St ].join("|") + ")", Qt = RegExp(Et, "g"), tn = RegExp(Ot, "g"), nn = RegExp(Nt + "(?=" + Nt + ")|" + Yt + Xt, "g"), en = RegExp([ Ut + "?" + Lt + "+" + Gt + "(?=" + [ zt, Ut, "$" ].join("|") + ")", Ht + "+" + Kt + "(?=" + [ zt, Ut + Dt, "$" ].join("|") + ")", Ut + "?" + Dt + "+" + Gt, Ut + "+" + Kt, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", Rt, Vt ].join("|"), "g"), rn = RegExp("[" + $t + At + kt + Ct + "]"), an = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, on = [ "Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout" ], un = -1, sn = {};
      sn[q] = sn[L] = sn[P] = sn[N] = sn[W] = sn[B] = sn[F] = sn[U] = sn[$] = !0, sn[v] = sn[y] = sn[O] = sn[b] = sn[R] = sn[w] = sn[_] = sn[x] = sn[k] = sn[j] = sn[T] = sn[C] = sn[I] = sn[E] = sn[z] = !1;
      var cn = {};
      cn[v] = cn[y] = cn[O] = cn[R] = cn[b] = cn[w] = cn[q] = cn[L] = cn[P] = cn[N] = cn[W] = cn[k] = cn[j] = cn[T] = cn[C] = cn[I] = cn[E] = cn[S] = cn[B] = cn[F] = cn[U] = cn[$] = !0, 
      cn[_] = cn[x] = cn[z] = !1;
      var ln = {
        "\\": "\\",
        "'": "'",
        "\n": "n",
        "\r": "r",
        "\u2028": "u2028",
        "\u2029": "u2029"
      }, fn = parseFloat, hn = parseInt, gn = "object" == typeof n && n && n.Object === Object && n, pn = "object" == typeof self && self && self.Object === Object && self, dn = gn || pn || Function("return this")(), mn = e && !e.nodeType && e, vn = mn && t && !t.nodeType && t, yn = vn && vn.exports === mn, bn = yn && gn.process, wn = function() {
        try {
          var t = vn && vn.require && vn.require("util").types;
          return t || bn && bn.binding && bn.binding("util");
        } catch (t) {}
      }(), _n = wn && wn.isArrayBuffer, xn = wn && wn.isDate, An = wn && wn.isMap, kn = wn && wn.isRegExp, jn = wn && wn.isSet, Tn = wn && wn.isTypedArray;
      function Mn(t, n, e) {
        switch (e.length) {
         case 0:
          return t.call(n);

         case 1:
          return t.call(n, e[0]);

         case 2:
          return t.call(n, e[0], e[1]);

         case 3:
          return t.call(n, e[0], e[1], e[2]);
        }
        return t.apply(n, e);
      }
      function Cn(t, n, e, r) {
        for (var a = -1, i = null == t ? 0 : t.length; ++a < i; ) {
          var o = t[a];
          n(r, o, e(o), t);
        }
        return r;
      }
      function In(t, n) {
        for (var e = -1, r = null == t ? 0 : t.length; ++e < r && !1 !== n(t[e], e, t); ) ;
        return t;
      }
      function En(t, n) {
        for (var e = null == t ? 0 : t.length; e-- && !1 !== n(t[e], e, t); ) ;
        return t;
      }
      function Sn(t, n) {
        for (var e = -1, r = null == t ? 0 : t.length; ++e < r; ) if (!n(t[e], e, t)) return !1;
        return !0;
      }
      function zn(t, n) {
        for (var e = -1, r = null == t ? 0 : t.length, a = 0, i = []; ++e < r; ) {
          var o = t[e];
          n(o, e, t) && (i[a++] = o);
        }
        return i;
      }
      function On(t, n) {
        return !!(null == t ? 0 : t.length) && $n(t, n, 0) > -1;
      }
      function Rn(t, n, e) {
        for (var r = -1, a = null == t ? 0 : t.length; ++r < a; ) if (e(n, t[r])) return !0;
        return !1;
      }
      function qn(t, n) {
        for (var e = -1, r = null == t ? 0 : t.length, a = Array(r); ++e < r; ) a[e] = n(t[e], e, t);
        return a;
      }
      function Ln(t, n) {
        for (var e = -1, r = n.length, a = t.length; ++e < r; ) t[a + e] = n[e];
        return t;
      }
      function Pn(t, n, e, r) {
        var a = -1, i = null == t ? 0 : t.length;
        for (r && i && (e = t[++a]); ++a < i; ) e = n(e, t[a], a, t);
        return e;
      }
      function Nn(t, n, e, r) {
        var a = null == t ? 0 : t.length;
        for (r && a && (e = t[--a]); a--; ) e = n(e, t[a], a, t);
        return e;
      }
      function Wn(t, n) {
        for (var e = -1, r = null == t ? 0 : t.length; ++e < r; ) if (n(t[e], e, t)) return !0;
        return !1;
      }
      var Bn = Kn("length");
      function Fn(t, n, e) {
        var r;
        return e(t, (function(t, e, a) {
          if (n(t, e, a)) return r = e, !1;
        })), r;
      }
      function Un(t, n, e, r) {
        for (var a = t.length, i = e + (r ? 1 : -1); r ? i-- : ++i < a; ) if (n(t[i], i, t)) return i;
        return -1;
      }
      function $n(t, n, e) {
        return n == n ? function(t, n, e) {
          var r = e - 1, a = t.length;
          for (;++r < a; ) if (t[r] === n) return r;
          return -1;
        }(t, n, e) : Un(t, Hn, e);
      }
      function Dn(t, n, e, r) {
        for (var a = e - 1, i = t.length; ++a < i; ) if (r(t[a], n)) return a;
        return -1;
      }
      function Hn(t) {
        return t != t;
      }
      function Gn(t, n) {
        var e = null == t ? 0 : t.length;
        return e ? Xn(t, n) / e : p;
      }
      function Kn(t) {
        return function(n) {
          return null == n ? r : n[t];
        };
      }
      function Zn(t) {
        return function(n) {
          return null == t ? r : t[n];
        };
      }
      function Jn(t, n, e, r, a) {
        return a(t, (function(t, a, i) {
          e = r ? (r = !1, t) : n(e, t, a, i);
        })), e;
      }
      function Xn(t, n) {
        for (var e, a = -1, i = t.length; ++a < i; ) {
          var o = n(t[a]);
          o !== r && (e = e === r ? o : e + o);
        }
        return e;
      }
      function Vn(t, n) {
        for (var e = -1, r = Array(t); ++e < t; ) r[e] = n(e);
        return r;
      }
      function Yn(t) {
        return t ? t.slice(0, de(t) + 1).replace(it, "") : t;
      }
      function Qn(t) {
        return function(n) {
          return t(n);
        };
      }
      function te(t, n) {
        return qn(n, (function(n) {
          return t[n];
        }));
      }
      function ne(t, n) {
        return t.has(n);
      }
      function ee(t, n) {
        for (var e = -1, r = t.length; ++e < r && $n(n, t[e], 0) > -1; ) ;
        return e;
      }
      function re(t, n) {
        for (var e = t.length; e-- && $n(n, t[e], 0) > -1; ) ;
        return e;
      }
      function ae(t, n) {
        for (var e = t.length, r = 0; e--; ) t[e] === n && ++r;
        return r;
      }
      var ie = Zn({
        "À": "A",
        "Á": "A",
        "Â": "A",
        "Ã": "A",
        "Ä": "A",
        "Å": "A",
        "à": "a",
        "á": "a",
        "â": "a",
        "ã": "a",
        "ä": "a",
        "å": "a",
        "Ç": "C",
        "ç": "c",
        "Ð": "D",
        "ð": "d",
        "È": "E",
        "É": "E",
        "Ê": "E",
        "Ë": "E",
        "è": "e",
        "é": "e",
        "ê": "e",
        "ë": "e",
        "Ì": "I",
        "Í": "I",
        "Î": "I",
        "Ï": "I",
        "ì": "i",
        "í": "i",
        "î": "i",
        "ï": "i",
        "Ñ": "N",
        "ñ": "n",
        "Ò": "O",
        "Ó": "O",
        "Ô": "O",
        "Õ": "O",
        "Ö": "O",
        "Ø": "O",
        "ò": "o",
        "ó": "o",
        "ô": "o",
        "õ": "o",
        "ö": "o",
        "ø": "o",
        "Ù": "U",
        "Ú": "U",
        "Û": "U",
        "Ü": "U",
        "ù": "u",
        "ú": "u",
        "û": "u",
        "ü": "u",
        "Ý": "Y",
        "ý": "y",
        "ÿ": "y",
        "Æ": "Ae",
        "æ": "ae",
        "Þ": "Th",
        "þ": "th",
        "ß": "ss",
        "Ā": "A",
        "Ă": "A",
        "Ą": "A",
        "ā": "a",
        "ă": "a",
        "ą": "a",
        "Ć": "C",
        "Ĉ": "C",
        "Ċ": "C",
        "Č": "C",
        "ć": "c",
        "ĉ": "c",
        "ċ": "c",
        "č": "c",
        "Ď": "D",
        "Đ": "D",
        "ď": "d",
        "đ": "d",
        "Ē": "E",
        "Ĕ": "E",
        "Ė": "E",
        "Ę": "E",
        "Ě": "E",
        "ē": "e",
        "ĕ": "e",
        "ė": "e",
        "ę": "e",
        "ě": "e",
        "Ĝ": "G",
        "Ğ": "G",
        "Ġ": "G",
        "Ģ": "G",
        "ĝ": "g",
        "ğ": "g",
        "ġ": "g",
        "ģ": "g",
        "Ĥ": "H",
        "Ħ": "H",
        "ĥ": "h",
        "ħ": "h",
        "Ĩ": "I",
        "Ī": "I",
        "Ĭ": "I",
        "Į": "I",
        "İ": "I",
        "ĩ": "i",
        "ī": "i",
        "ĭ": "i",
        "į": "i",
        "ı": "i",
        "Ĵ": "J",
        "ĵ": "j",
        "Ķ": "K",
        "ķ": "k",
        "ĸ": "k",
        "Ĺ": "L",
        "Ļ": "L",
        "Ľ": "L",
        "Ŀ": "L",
        "Ł": "L",
        "ĺ": "l",
        "ļ": "l",
        "ľ": "l",
        "ŀ": "l",
        "ł": "l",
        "Ń": "N",
        "Ņ": "N",
        "Ň": "N",
        "Ŋ": "N",
        "ń": "n",
        "ņ": "n",
        "ň": "n",
        "ŋ": "n",
        "Ō": "O",
        "Ŏ": "O",
        "Ő": "O",
        "ō": "o",
        "ŏ": "o",
        "ő": "o",
        "Ŕ": "R",
        "Ŗ": "R",
        "Ř": "R",
        "ŕ": "r",
        "ŗ": "r",
        "ř": "r",
        "Ś": "S",
        "Ŝ": "S",
        "Ş": "S",
        "Š": "S",
        "ś": "s",
        "ŝ": "s",
        "ş": "s",
        "š": "s",
        "Ţ": "T",
        "Ť": "T",
        "Ŧ": "T",
        "ţ": "t",
        "ť": "t",
        "ŧ": "t",
        "Ũ": "U",
        "Ū": "U",
        "Ŭ": "U",
        "Ů": "U",
        "Ű": "U",
        "Ų": "U",
        "ũ": "u",
        "ū": "u",
        "ŭ": "u",
        "ů": "u",
        "ű": "u",
        "ų": "u",
        "Ŵ": "W",
        "ŵ": "w",
        "Ŷ": "Y",
        "ŷ": "y",
        "Ÿ": "Y",
        "Ź": "Z",
        "Ż": "Z",
        "Ž": "Z",
        "ź": "z",
        "ż": "z",
        "ž": "z",
        "Ĳ": "IJ",
        "ĳ": "ij",
        "Œ": "Oe",
        "œ": "oe",
        "ŉ": "'n",
        "ſ": "s"
      }), oe = Zn({
        "&": "&amp;",
        "<": "&lt;",
        ">": "&gt;",
        '"': "&quot;",
        "'": "&#39;"
      });
      function ue(t) {
        return "\\" + ln[t];
      }
      function se(t) {
        return rn.test(t);
      }
      function ce(t) {
        var n = -1, e = Array(t.size);
        return t.forEach((function(t, r) {
          e[++n] = [ r, t ];
        })), e;
      }
      function le(t, n) {
        return function(e) {
          return t(n(e));
        };
      }
      function fe(t, n) {
        for (var e = -1, r = t.length, a = 0, i = []; ++e < r; ) {
          var u = t[e];
          u !== n && u !== o || (t[e] = o, i[a++] = e);
        }
        return i;
      }
      function he(t) {
        var n = -1, e = Array(t.size);
        return t.forEach((function(t) {
          e[++n] = t;
        })), e;
      }
      function ge(t) {
        return se(t) ? function(t) {
          var n = nn.lastIndex = 0;
          for (;nn.test(t); ) ++n;
          return n;
        }(t) : Bn(t);
      }
      function pe(t) {
        return se(t) ? function(t) {
          return t.match(nn) || [];
        }(t) : function(t) {
          return t.split("");
        }(t);
      }
      function de(t) {
        for (var n = t.length; n-- && ot.test(t.charAt(n)); ) ;
        return n;
      }
      var me = Zn({
        "&amp;": "&",
        "&lt;": "<",
        "&gt;": ">",
        "&quot;": '"',
        "&#39;": "'"
      });
      var ve = function t(n) {
        var e, ot = (n = null == n ? dn : ve.defaults(dn.Object(), n, ve.pick(dn, on))).Array, At = n.Date, kt = n.Error, jt = n.Function, Tt = n.Math, Mt = n.Object, Ct = n.RegExp, It = n.String, Et = n.TypeError, St = ot.prototype, zt = jt.prototype, Ot = Mt.prototype, Rt = n["__core-js_shared__"], qt = zt.toString, Lt = Ot.hasOwnProperty, Pt = 0, Nt = (e = /[^.]+$/.exec(Rt && Rt.keys && Rt.keys.IE_PROTO || "")) ? "Symbol(src)_1." + e : "", Wt = Ot.toString, Bt = qt.call(Mt), Ft = dn._, Ut = Ct("^" + qt.call(Lt).replace(rt, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), $t = yn ? n.Buffer : r, Dt = n.Symbol, Ht = n.Uint8Array, Gt = $t ? $t.allocUnsafe : r, Kt = le(Mt.getPrototypeOf, Mt), Zt = Mt.create, Jt = Ot.propertyIsEnumerable, Xt = St.splice, Vt = Dt ? Dt.isConcatSpreadable : r, Yt = Dt ? Dt.iterator : r, nn = Dt ? Dt.toStringTag : r, rn = function() {
          try {
            var t = hi(Mt, "defineProperty");
            return t({}, "", {}), t;
          } catch (t) {}
        }(), ln = n.clearTimeout !== dn.clearTimeout && n.clearTimeout, gn = At && At.now !== dn.Date.now && At.now, pn = n.setTimeout !== dn.setTimeout && n.setTimeout, mn = Tt.ceil, vn = Tt.floor, bn = Mt.getOwnPropertySymbols, wn = $t ? $t.isBuffer : r, Bn = n.isFinite, Zn = St.join, ye = le(Mt.keys, Mt), be = Tt.max, we = Tt.min, _e = At.now, xe = n.parseInt, Ae = Tt.random, ke = St.reverse, je = hi(n, "DataView"), Te = hi(n, "Map"), Me = hi(n, "Promise"), Ce = hi(n, "Set"), Ie = hi(n, "WeakMap"), Ee = hi(Mt, "create"), Se = Ie && new Ie, ze = {}, Oe = Wi(je), Re = Wi(Te), qe = Wi(Me), Le = Wi(Ce), Pe = Wi(Ie), Ne = Dt ? Dt.prototype : r, We = Ne ? Ne.valueOf : r, Be = Ne ? Ne.toString : r;
        function Fe(t) {
          if (ru(t) && !Go(t) && !(t instanceof He)) {
            if (t instanceof De) return t;
            if (Lt.call(t, "__wrapped__")) return Bi(t);
          }
          return new De(t);
        }
        var Ue = function() {
          function t() {}
          return function(n) {
            if (!eu(n)) return {};
            if (Zt) return Zt(n);
            t.prototype = n;
            var e = new t;
            return t.prototype = r, e;
          };
        }();
        function $e() {}
        function De(t, n) {
          this.__wrapped__ = t, this.__actions__ = [], this.__chain__ = !!n, this.__index__ = 0, 
          this.__values__ = r;
        }
        function He(t) {
          this.__wrapped__ = t, this.__actions__ = [], this.__dir__ = 1, this.__filtered__ = !1, 
          this.__iteratees__ = [], this.__takeCount__ = d, this.__views__ = [];
        }
        function Ge(t) {
          var n = -1, e = null == t ? 0 : t.length;
          for (this.clear(); ++n < e; ) {
            var r = t[n];
            this.set(r[0], r[1]);
          }
        }
        function Ke(t) {
          var n = -1, e = null == t ? 0 : t.length;
          for (this.clear(); ++n < e; ) {
            var r = t[n];
            this.set(r[0], r[1]);
          }
        }
        function Ze(t) {
          var n = -1, e = null == t ? 0 : t.length;
          for (this.clear(); ++n < e; ) {
            var r = t[n];
            this.set(r[0], r[1]);
          }
        }
        function Je(t) {
          var n = -1, e = null == t ? 0 : t.length;
          for (this.__data__ = new Ze; ++n < e; ) this.add(t[n]);
        }
        function Xe(t) {
          var n = this.__data__ = new Ke(t);
          this.size = n.size;
        }
        function Ve(t, n) {
          var e = Go(t), r = !e && Ho(t), a = !e && !r && Xo(t), i = !e && !r && !a && fu(t), o = e || r || a || i, u = o ? Vn(t.length, It) : [], s = u.length;
          for (var c in t) !n && !Lt.call(t, c) || o && ("length" == c || a && ("offset" == c || "parent" == c) || i && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || bi(c, s)) || u.push(c);
          return u;
        }
        function Ye(t) {
          var n = t.length;
          return n ? t[Jr(0, n - 1)] : r;
        }
        function Qe(t, n) {
          return Li(Ea(t), sr(n, 0, t.length));
        }
        function tr(t) {
          return Li(Ea(t));
        }
        function nr(t, n, e) {
          (e !== r && !Uo(t[n], e) || e === r && !(n in t)) && or(t, n, e);
        }
        function er(t, n, e) {
          var a = t[n];
          Lt.call(t, n) && Uo(a, e) && (e !== r || n in t) || or(t, n, e);
        }
        function rr(t, n) {
          for (var e = t.length; e--; ) if (Uo(t[e][0], n)) return e;
          return -1;
        }
        function ar(t, n, e, r) {
          return gr(t, (function(t, a, i) {
            n(r, t, e(t), i);
          })), r;
        }
        function ir(t, n) {
          return t && Sa(n, Ou(n), t);
        }
        function or(t, n, e) {
          "__proto__" == n && rn ? rn(t, n, {
            configurable: !0,
            enumerable: !0,
            value: e,
            writable: !0
          }) : t[n] = e;
        }
        function ur(t, n) {
          for (var e = -1, a = n.length, i = ot(a), o = null == t; ++e < a; ) i[e] = o ? r : Cu(t, n[e]);
          return i;
        }
        function sr(t, n, e) {
          return t == t && (e !== r && (t = t <= e ? t : e), n !== r && (t = t >= n ? t : n)), 
          t;
        }
        function cr(t, n, e, a, i, o) {
          var u, s = 1 & n, c = 2 & n, l = 4 & n;
          if (e && (u = i ? e(t, a, i, o) : e(t)), u !== r) return u;
          if (!eu(t)) return t;
          var f = Go(t);
          if (f) {
            if (u = function(t) {
              var n = t.length, e = new t.constructor(n);
              n && "string" == typeof t[0] && Lt.call(t, "index") && (e.index = t.index, e.input = t.input);
              return e;
            }(t), !s) return Ea(t, u);
          } else {
            var h = di(t), g = h == x || h == A;
            if (Xo(t)) return ka(t, s);
            if (h == T || h == v || g && !i) {
              if (u = c || g ? {} : vi(t), !s) return c ? function(t, n) {
                return Sa(t, pi(t), n);
              }(t, function(t, n) {
                return t && Sa(n, Ru(n), t);
              }(u, t)) : function(t, n) {
                return Sa(t, gi(t), n);
              }(t, ir(u, t));
            } else {
              if (!cn[h]) return i ? t : {};
              u = function(t, n, e) {
                var r = t.constructor;
                switch (n) {
                 case O:
                  return ja(t);

                 case b:
                 case w:
                  return new r(+t);

                 case R:
                  return function(t, n) {
                    var e = n ? ja(t.buffer) : t.buffer;
                    return new t.constructor(e, t.byteOffset, t.byteLength);
                  }(t, e);

                 case q:
                 case L:
                 case P:
                 case N:
                 case W:
                 case B:
                 case F:
                 case U:
                 case $:
                  return Ta(t, e);

                 case k:
                  return new r;

                 case j:
                 case E:
                  return new r(t);

                 case C:
                  return function(t) {
                    var n = new t.constructor(t.source, pt.exec(t));
                    return n.lastIndex = t.lastIndex, n;
                  }(t);

                 case I:
                  return new r;

                 case S:
                  return a = t, We ? Mt(We.call(a)) : {};
                }
                var a;
              }(t, h, s);
            }
          }
          o || (o = new Xe);
          var p = o.get(t);
          if (p) return p;
          o.set(t, u), su(t) ? t.forEach((function(r) {
            u.add(cr(r, n, e, r, t, o));
          })) : au(t) && t.forEach((function(r, a) {
            u.set(a, cr(r, n, e, a, t, o));
          }));
          var d = f ? r : (l ? c ? ii : ai : c ? Ru : Ou)(t);
          return In(d || t, (function(r, a) {
            d && (r = t[a = r]), er(u, a, cr(r, n, e, a, t, o));
          })), u;
        }
        function lr(t, n, e) {
          var a = e.length;
          if (null == t) return !a;
          for (t = Mt(t); a--; ) {
            var i = e[a], o = n[i], u = t[i];
            if (u === r && !(i in t) || !o(u)) return !1;
          }
          return !0;
        }
        function fr(t, n, e) {
          if ("function" != typeof t) throw new Et(a);
          return zi((function() {
            t.apply(r, e);
          }), n);
        }
        function hr(t, n, e, r) {
          var a = -1, i = On, o = !0, u = t.length, s = [], c = n.length;
          if (!u) return s;
          e && (n = qn(n, Qn(e))), r ? (i = Rn, o = !1) : n.length >= 200 && (i = ne, o = !1, 
          n = new Je(n));
          t: for (;++a < u; ) {
            var l = t[a], f = null == e ? l : e(l);
            if (l = r || 0 !== l ? l : 0, o && f == f) {
              for (var h = c; h--; ) if (n[h] === f) continue t;
              s.push(l);
            } else i(n, f, r) || s.push(l);
          }
          return s;
        }
        Fe.templateSettings = {
          escape: V,
          evaluate: Y,
          interpolate: Q,
          variable: "",
          imports: {
            _: Fe
          }
        }, Fe.prototype = $e.prototype, Fe.prototype.constructor = Fe, De.prototype = Ue($e.prototype), 
        De.prototype.constructor = De, He.prototype = Ue($e.prototype), He.prototype.constructor = He, 
        Ge.prototype.clear = function() {
          this.__data__ = Ee ? Ee(null) : {}, this.size = 0;
        }, Ge.prototype.delete = function(t) {
          var n = this.has(t) && delete this.__data__[t];
          return this.size -= n ? 1 : 0, n;
        }, Ge.prototype.get = function(t) {
          var n = this.__data__;
          if (Ee) {
            var e = n[t];
            return e === i ? r : e;
          }
          return Lt.call(n, t) ? n[t] : r;
        }, Ge.prototype.has = function(t) {
          var n = this.__data__;
          return Ee ? n[t] !== r : Lt.call(n, t);
        }, Ge.prototype.set = function(t, n) {
          var e = this.__data__;
          return this.size += this.has(t) ? 0 : 1, e[t] = Ee && n === r ? i : n, this;
        }, Ke.prototype.clear = function() {
          this.__data__ = [], this.size = 0;
        }, Ke.prototype.delete = function(t) {
          var n = this.__data__, e = rr(n, t);
          return !(e < 0) && (e == n.length - 1 ? n.pop() : Xt.call(n, e, 1), --this.size, 
          !0);
        }, Ke.prototype.get = function(t) {
          var n = this.__data__, e = rr(n, t);
          return e < 0 ? r : n[e][1];
        }, Ke.prototype.has = function(t) {
          return rr(this.__data__, t) > -1;
        }, Ke.prototype.set = function(t, n) {
          var e = this.__data__, r = rr(e, t);
          return r < 0 ? (++this.size, e.push([ t, n ])) : e[r][1] = n, this;
        }, Ze.prototype.clear = function() {
          this.size = 0, this.__data__ = {
            hash: new Ge,
            map: new (Te || Ke),
            string: new Ge
          };
        }, Ze.prototype.delete = function(t) {
          var n = li(this, t).delete(t);
          return this.size -= n ? 1 : 0, n;
        }, Ze.prototype.get = function(t) {
          return li(this, t).get(t);
        }, Ze.prototype.has = function(t) {
          return li(this, t).has(t);
        }, Ze.prototype.set = function(t, n) {
          var e = li(this, t), r = e.size;
          return e.set(t, n), this.size += e.size == r ? 0 : 1, this;
        }, Je.prototype.add = Je.prototype.push = function(t) {
          return this.__data__.set(t, i), this;
        }, Je.prototype.has = function(t) {
          return this.__data__.has(t);
        }, Xe.prototype.clear = function() {
          this.__data__ = new Ke, this.size = 0;
        }, Xe.prototype.delete = function(t) {
          var n = this.__data__, e = n.delete(t);
          return this.size = n.size, e;
        }, Xe.prototype.get = function(t) {
          return this.__data__.get(t);
        }, Xe.prototype.has = function(t) {
          return this.__data__.has(t);
        }, Xe.prototype.set = function(t, n) {
          var e = this.__data__;
          if (e instanceof Ke) {
            var r = e.__data__;
            if (!Te || r.length < 199) return r.push([ t, n ]), this.size = ++e.size, this;
            e = this.__data__ = new Ze(r);
          }
          return e.set(t, n), this.size = e.size, this;
        };
        var gr = Ra(_r), pr = Ra(xr, !0);
        function dr(t, n) {
          var e = !0;
          return gr(t, (function(t, r, a) {
            return e = !!n(t, r, a);
          })), e;
        }
        function mr(t, n, e) {
          for (var a = -1, i = t.length; ++a < i; ) {
            var o = t[a], u = n(o);
            if (null != u && (s === r ? u == u && !lu(u) : e(u, s))) var s = u, c = o;
          }
          return c;
        }
        function vr(t, n) {
          var e = [];
          return gr(t, (function(t, r, a) {
            n(t, r, a) && e.push(t);
          })), e;
        }
        function yr(t, n, e, r, a) {
          var i = -1, o = t.length;
          for (e || (e = yi), a || (a = []); ++i < o; ) {
            var u = t[i];
            n > 0 && e(u) ? n > 1 ? yr(u, n - 1, e, r, a) : Ln(a, u) : r || (a[a.length] = u);
          }
          return a;
        }
        var br = qa(), wr = qa(!0);
        function _r(t, n) {
          return t && br(t, n, Ou);
        }
        function xr(t, n) {
          return t && wr(t, n, Ou);
        }
        function Ar(t, n) {
          return zn(n, (function(n) {
            return Qo(t[n]);
          }));
        }
        function kr(t, n) {
          for (var e = 0, a = (n = wa(n, t)).length; null != t && e < a; ) t = t[Ni(n[e++])];
          return e && e == a ? t : r;
        }
        function jr(t, n, e) {
          var r = n(t);
          return Go(t) ? r : Ln(r, e(t));
        }
        function Tr(t) {
          return null == t ? t === r ? "[object Undefined]" : "[object Null]" : nn && nn in Mt(t) ? function(t) {
            var n = Lt.call(t, nn), e = t[nn];
            try {
              t[nn] = r;
              var a = !0;
            } catch (t) {}
            var i = Wt.call(t);
            a && (n ? t[nn] = e : delete t[nn]);
            return i;
          }(t) : function(t) {
            return Wt.call(t);
          }(t);
        }
        function Mr(t, n) {
          return t > n;
        }
        function Cr(t, n) {
          return null != t && Lt.call(t, n);
        }
        function Ir(t, n) {
          return null != t && n in Mt(t);
        }
        function Er(t, n, e) {
          for (var a = e ? Rn : On, i = t[0].length, o = t.length, u = o, s = ot(o), c = 1 / 0, l = []; u--; ) {
            var f = t[u];
            u && n && (f = qn(f, Qn(n))), c = we(f.length, c), s[u] = !e && (n || i >= 120 && f.length >= 120) ? new Je(u && f) : r;
          }
          f = t[0];
          var h = -1, g = s[0];
          t: for (;++h < i && l.length < c; ) {
            var p = f[h], d = n ? n(p) : p;
            if (p = e || 0 !== p ? p : 0, !(g ? ne(g, d) : a(l, d, e))) {
              for (u = o; --u; ) {
                var m = s[u];
                if (!(m ? ne(m, d) : a(t[u], d, e))) continue t;
              }
              g && g.push(d), l.push(p);
            }
          }
          return l;
        }
        function Sr(t, n, e) {
          var a = null == (t = Ci(t, n = wa(n, t))) ? t : t[Ni(Vi(n))];
          return null == a ? r : Mn(a, t, e);
        }
        function zr(t) {
          return ru(t) && Tr(t) == v;
        }
        function Or(t, n, e, a, i) {
          return t === n || (null == t || null == n || !ru(t) && !ru(n) ? t != t && n != n : function(t, n, e, a, i, o) {
            var u = Go(t), s = Go(n), c = u ? y : di(t), l = s ? y : di(n), f = (c = c == v ? T : c) == T, h = (l = l == v ? T : l) == T, g = c == l;
            if (g && Xo(t)) {
              if (!Xo(n)) return !1;
              u = !0, f = !1;
            }
            if (g && !f) return o || (o = new Xe), u || fu(t) ? ei(t, n, e, a, i, o) : function(t, n, e, r, a, i, o) {
              switch (e) {
               case R:
                if (t.byteLength != n.byteLength || t.byteOffset != n.byteOffset) return !1;
                t = t.buffer, n = n.buffer;

               case O:
                return !(t.byteLength != n.byteLength || !i(new Ht(t), new Ht(n)));

               case b:
               case w:
               case j:
                return Uo(+t, +n);

               case _:
                return t.name == n.name && t.message == n.message;

               case C:
               case E:
                return t == n + "";

               case k:
                var u = ce;

               case I:
                var s = 1 & r;
                if (u || (u = he), t.size != n.size && !s) return !1;
                var c = o.get(t);
                if (c) return c == n;
                r |= 2, o.set(t, n);
                var l = ei(u(t), u(n), r, a, i, o);
                return o.delete(t), l;

               case S:
                if (We) return We.call(t) == We.call(n);
              }
              return !1;
            }(t, n, c, e, a, i, o);
            if (!(1 & e)) {
              var p = f && Lt.call(t, "__wrapped__"), d = h && Lt.call(n, "__wrapped__");
              if (p || d) {
                var m = p ? t.value() : t, x = d ? n.value() : n;
                return o || (o = new Xe), i(m, x, e, a, o);
              }
            }
            return !!g && (o || (o = new Xe), function(t, n, e, a, i, o) {
              var u = 1 & e, s = ai(t), c = s.length, l = ai(n), f = l.length;
              if (c != f && !u) return !1;
              var h = c;
              for (;h--; ) {
                var g = s[h];
                if (!(u ? g in n : Lt.call(n, g))) return !1;
              }
              var p = o.get(t), d = o.get(n);
              if (p && d) return p == n && d == t;
              var m = !0;
              o.set(t, n), o.set(n, t);
              var v = u;
              for (;++h < c; ) {
                var y = t[g = s[h]], b = n[g];
                if (a) var w = u ? a(b, y, g, n, t, o) : a(y, b, g, t, n, o);
                if (!(w === r ? y === b || i(y, b, e, a, o) : w)) {
                  m = !1;
                  break;
                }
                v || (v = "constructor" == g);
              }
              if (m && !v) {
                var _ = t.constructor, x = n.constructor;
                _ == x || !("constructor" in t) || !("constructor" in n) || "function" == typeof _ && _ instanceof _ && "function" == typeof x && x instanceof x || (m = !1);
              }
              return o.delete(t), o.delete(n), m;
            }(t, n, e, a, i, o));
          }(t, n, e, a, Or, i));
        }
        function Rr(t, n, e, a) {
          var i = e.length, o = i, u = !a;
          if (null == t) return !o;
          for (t = Mt(t); i--; ) {
            var s = e[i];
            if (u && s[2] ? s[1] !== t[s[0]] : !(s[0] in t)) return !1;
          }
          for (;++i < o; ) {
            var c = (s = e[i])[0], l = t[c], f = s[1];
            if (u && s[2]) {
              if (l === r && !(c in t)) return !1;
            } else {
              var h = new Xe;
              if (a) var g = a(l, f, c, t, n, h);
              if (!(g === r ? Or(f, l, 3, a, h) : g)) return !1;
            }
          }
          return !0;
        }
        function qr(t) {
          return !(!eu(t) || (n = t, Nt && Nt in n)) && (Qo(t) ? Ut : vt).test(Wi(t));
          var n;
        }
        function Lr(t) {
          return "function" == typeof t ? t : null == t ? is : "object" == typeof t ? Go(t) ? Ur(t[0], t[1]) : Fr(t) : ps(t);
        }
        function Pr(t) {
          if (!ki(t)) return ye(t);
          var n = [];
          for (var e in Mt(t)) Lt.call(t, e) && "constructor" != e && n.push(e);
          return n;
        }
        function Nr(t) {
          if (!eu(t)) return function(t) {
            var n = [];
            if (null != t) for (var e in Mt(t)) n.push(e);
            return n;
          }(t);
          var n = ki(t), e = [];
          for (var r in t) ("constructor" != r || !n && Lt.call(t, r)) && e.push(r);
          return e;
        }
        function Wr(t, n) {
          return t < n;
        }
        function Br(t, n) {
          var e = -1, r = Zo(t) ? ot(t.length) : [];
          return gr(t, (function(t, a, i) {
            r[++e] = n(t, a, i);
          })), r;
        }
        function Fr(t) {
          var n = fi(t);
          return 1 == n.length && n[0][2] ? Ti(n[0][0], n[0][1]) : function(e) {
            return e === t || Rr(e, t, n);
          };
        }
        function Ur(t, n) {
          return _i(t) && ji(n) ? Ti(Ni(t), n) : function(e) {
            var a = Cu(e, t);
            return a === r && a === n ? Iu(e, t) : Or(n, a, 3);
          };
        }
        function $r(t, n, e, a, i) {
          t !== n && br(n, (function(o, u) {
            if (i || (i = new Xe), eu(o)) !function(t, n, e, a, i, o, u) {
              var s = Ei(t, e), c = Ei(n, e), l = u.get(c);
              if (l) return void nr(t, e, l);
              var f = o ? o(s, c, e + "", t, n, u) : r, h = f === r;
              if (h) {
                var g = Go(c), p = !g && Xo(c), d = !g && !p && fu(c);
                f = c, g || p || d ? Go(s) ? f = s : Jo(s) ? f = Ea(s) : p ? (h = !1, f = ka(c, !0)) : d ? (h = !1, 
                f = Ta(c, !0)) : f = [] : ou(c) || Ho(c) ? (f = s, Ho(s) ? f = bu(s) : eu(s) && !Qo(s) || (f = vi(c))) : h = !1;
              }
              h && (u.set(c, f), i(f, c, a, o, u), u.delete(c));
              nr(t, e, f);
            }(t, n, u, e, $r, a, i); else {
              var s = a ? a(Ei(t, u), o, u + "", t, n, i) : r;
              s === r && (s = o), nr(t, u, s);
            }
          }), Ru);
        }
        function Dr(t, n) {
          var e = t.length;
          if (e) return bi(n += n < 0 ? e : 0, e) ? t[n] : r;
        }
        function Hr(t, n, e) {
          n = n.length ? qn(n, (function(t) {
            return Go(t) ? function(n) {
              return kr(n, 1 === t.length ? t[0] : t);
            } : t;
          })) : [ is ];
          var r = -1;
          n = qn(n, Qn(ci()));
          var a = Br(t, (function(t, e, a) {
            var i = qn(n, (function(n) {
              return n(t);
            }));
            return {
              criteria: i,
              index: ++r,
              value: t
            };
          }));
          return function(t, n) {
            var e = t.length;
            for (t.sort(n); e--; ) t[e] = t[e].value;
            return t;
          }(a, (function(t, n) {
            return function(t, n, e) {
              var r = -1, a = t.criteria, i = n.criteria, o = a.length, u = e.length;
              for (;++r < o; ) {
                var s = Ma(a[r], i[r]);
                if (s) return r >= u ? s : s * ("desc" == e[r] ? -1 : 1);
              }
              return t.index - n.index;
            }(t, n, e);
          }));
        }
        function Gr(t, n, e) {
          for (var r = -1, a = n.length, i = {}; ++r < a; ) {
            var o = n[r], u = kr(t, o);
            e(u, o) && ta(i, wa(o, t), u);
          }
          return i;
        }
        function Kr(t, n, e, r) {
          var a = r ? Dn : $n, i = -1, o = n.length, u = t;
          for (t === n && (n = Ea(n)), e && (u = qn(t, Qn(e))); ++i < o; ) for (var s = 0, c = n[i], l = e ? e(c) : c; (s = a(u, l, s, r)) > -1; ) u !== t && Xt.call(u, s, 1), 
          Xt.call(t, s, 1);
          return t;
        }
        function Zr(t, n) {
          for (var e = t ? n.length : 0, r = e - 1; e--; ) {
            var a = n[e];
            if (e == r || a !== i) {
              var i = a;
              bi(a) ? Xt.call(t, a, 1) : ha(t, a);
            }
          }
          return t;
        }
        function Jr(t, n) {
          return t + vn(Ae() * (n - t + 1));
        }
        function Xr(t, n) {
          var e = "";
          if (!t || n < 1 || n > g) return e;
          do {
            n % 2 && (e += t), (n = vn(n / 2)) && (t += t);
          } while (n);
          return e;
        }
        function Vr(t, n) {
          return Oi(Mi(t, n, is), t + "");
        }
        function Yr(t) {
          return Ye(Uu(t));
        }
        function Qr(t, n) {
          var e = Uu(t);
          return Li(e, sr(n, 0, e.length));
        }
        function ta(t, n, e, a) {
          if (!eu(t)) return t;
          for (var i = -1, o = (n = wa(n, t)).length, u = o - 1, s = t; null != s && ++i < o; ) {
            var c = Ni(n[i]), l = e;
            if ("__proto__" === c || "constructor" === c || "prototype" === c) return t;
            if (i != u) {
              var f = s[c];
              (l = a ? a(f, c, s) : r) === r && (l = eu(f) ? f : bi(n[i + 1]) ? [] : {});
            }
            er(s, c, l), s = s[c];
          }
          return t;
        }
        var na = Se ? function(t, n) {
          return Se.set(t, n), t;
        } : is, ea = rn ? function(t, n) {
          return rn(t, "toString", {
            configurable: !0,
            enumerable: !1,
            value: es(n),
            writable: !0
          });
        } : is;
        function ra(t) {
          return Li(Uu(t));
        }
        function aa(t, n, e) {
          var r = -1, a = t.length;
          n < 0 && (n = -n > a ? 0 : a + n), (e = e > a ? a : e) < 0 && (e += a), a = n > e ? 0 : e - n >>> 0, 
          n >>>= 0;
          for (var i = ot(a); ++r < a; ) i[r] = t[r + n];
          return i;
        }
        function ia(t, n) {
          var e;
          return gr(t, (function(t, r, a) {
            return !(e = n(t, r, a));
          })), !!e;
        }
        function oa(t, n, e) {
          var r = 0, a = null == t ? r : t.length;
          if ("number" == typeof n && n == n && a <= 2147483647) {
            for (;r < a; ) {
              var i = r + a >>> 1, o = t[i];
              null !== o && !lu(o) && (e ? o <= n : o < n) ? r = i + 1 : a = i;
            }
            return a;
          }
          return ua(t, n, is, e);
        }
        function ua(t, n, e, a) {
          var i = 0, o = null == t ? 0 : t.length;
          if (0 === o) return 0;
          for (var u = (n = e(n)) != n, s = null === n, c = lu(n), l = n === r; i < o; ) {
            var f = vn((i + o) / 2), h = e(t[f]), g = h !== r, p = null === h, d = h == h, m = lu(h);
            if (u) var v = a || d; else v = l ? d && (a || g) : s ? d && g && (a || !p) : c ? d && g && !p && (a || !m) : !p && !m && (a ? h <= n : h < n);
            v ? i = f + 1 : o = f;
          }
          return we(o, 4294967294);
        }
        function sa(t, n) {
          for (var e = -1, r = t.length, a = 0, i = []; ++e < r; ) {
            var o = t[e], u = n ? n(o) : o;
            if (!e || !Uo(u, s)) {
              var s = u;
              i[a++] = 0 === o ? 0 : o;
            }
          }
          return i;
        }
        function ca(t) {
          return "number" == typeof t ? t : lu(t) ? p : +t;
        }
        function la(t) {
          if ("string" == typeof t) return t;
          if (Go(t)) return qn(t, la) + "";
          if (lu(t)) return Be ? Be.call(t) : "";
          var n = t + "";
          return "0" == n && 1 / t == -1 / 0 ? "-0" : n;
        }
        function fa(t, n, e) {
          var r = -1, a = On, i = t.length, o = !0, u = [], s = u;
          if (e) o = !1, a = Rn; else if (i >= 200) {
            var c = n ? null : Xa(t);
            if (c) return he(c);
            o = !1, a = ne, s = new Je;
          } else s = n ? [] : u;
          t: for (;++r < i; ) {
            var l = t[r], f = n ? n(l) : l;
            if (l = e || 0 !== l ? l : 0, o && f == f) {
              for (var h = s.length; h--; ) if (s[h] === f) continue t;
              n && s.push(f), u.push(l);
            } else a(s, f, e) || (s !== u && s.push(f), u.push(l));
          }
          return u;
        }
        function ha(t, n) {
          return null == (t = Ci(t, n = wa(n, t))) || delete t[Ni(Vi(n))];
        }
        function ga(t, n, e, r) {
          return ta(t, n, e(kr(t, n)), r);
        }
        function pa(t, n, e, r) {
          for (var a = t.length, i = r ? a : -1; (r ? i-- : ++i < a) && n(t[i], i, t); ) ;
          return e ? aa(t, r ? 0 : i, r ? i + 1 : a) : aa(t, r ? i + 1 : 0, r ? a : i);
        }
        function da(t, n) {
          var e = t;
          return e instanceof He && (e = e.value()), Pn(n, (function(t, n) {
            return n.func.apply(n.thisArg, Ln([ t ], n.args));
          }), e);
        }
        function ma(t, n, e) {
          var r = t.length;
          if (r < 2) return r ? fa(t[0]) : [];
          for (var a = -1, i = ot(r); ++a < r; ) for (var o = t[a], u = -1; ++u < r; ) u != a && (i[a] = hr(i[a] || o, t[u], n, e));
          return fa(yr(i, 1), n, e);
        }
        function va(t, n, e) {
          for (var a = -1, i = t.length, o = n.length, u = {}; ++a < i; ) {
            var s = a < o ? n[a] : r;
            e(u, t[a], s);
          }
          return u;
        }
        function ya(t) {
          return Jo(t) ? t : [];
        }
        function ba(t) {
          return "function" == typeof t ? t : is;
        }
        function wa(t, n) {
          return Go(t) ? t : _i(t, n) ? [ t ] : Pi(wu(t));
        }
        var _a = Vr;
        function xa(t, n, e) {
          var a = t.length;
          return e = e === r ? a : e, !n && e >= a ? t : aa(t, n, e);
        }
        var Aa = ln || function(t) {
          return dn.clearTimeout(t);
        };
        function ka(t, n) {
          if (n) return t.slice();
          var e = t.length, r = Gt ? Gt(e) : new t.constructor(e);
          return t.copy(r), r;
        }
        function ja(t) {
          var n = new t.constructor(t.byteLength);
          return new Ht(n).set(new Ht(t)), n;
        }
        function Ta(t, n) {
          var e = n ? ja(t.buffer) : t.buffer;
          return new t.constructor(e, t.byteOffset, t.length);
        }
        function Ma(t, n) {
          if (t !== n) {
            var e = t !== r, a = null === t, i = t == t, o = lu(t), u = n !== r, s = null === n, c = n == n, l = lu(n);
            if (!s && !l && !o && t > n || o && u && c && !s && !l || a && u && c || !e && c || !i) return 1;
            if (!a && !o && !l && t < n || l && e && i && !a && !o || s && e && i || !u && i || !c) return -1;
          }
          return 0;
        }
        function Ca(t, n, e, r) {
          for (var a = -1, i = t.length, o = e.length, u = -1, s = n.length, c = be(i - o, 0), l = ot(s + c), f = !r; ++u < s; ) l[u] = n[u];
          for (;++a < o; ) (f || a < i) && (l[e[a]] = t[a]);
          for (;c--; ) l[u++] = t[a++];
          return l;
        }
        function Ia(t, n, e, r) {
          for (var a = -1, i = t.length, o = -1, u = e.length, s = -1, c = n.length, l = be(i - u, 0), f = ot(l + c), h = !r; ++a < l; ) f[a] = t[a];
          for (var g = a; ++s < c; ) f[g + s] = n[s];
          for (;++o < u; ) (h || a < i) && (f[g + e[o]] = t[a++]);
          return f;
        }
        function Ea(t, n) {
          var e = -1, r = t.length;
          for (n || (n = ot(r)); ++e < r; ) n[e] = t[e];
          return n;
        }
        function Sa(t, n, e, a) {
          var i = !e;
          e || (e = {});
          for (var o = -1, u = n.length; ++o < u; ) {
            var s = n[o], c = a ? a(e[s], t[s], s, e, t) : r;
            c === r && (c = t[s]), i ? or(e, s, c) : er(e, s, c);
          }
          return e;
        }
        function za(t, n) {
          return function(e, r) {
            var a = Go(e) ? Cn : ar, i = n ? n() : {};
            return a(e, t, ci(r, 2), i);
          };
        }
        function Oa(t) {
          return Vr((function(n, e) {
            var a = -1, i = e.length, o = i > 1 ? e[i - 1] : r, u = i > 2 ? e[2] : r;
            for (o = t.length > 3 && "function" == typeof o ? (i--, o) : r, u && wi(e[0], e[1], u) && (o = i < 3 ? r : o, 
            i = 1), n = Mt(n); ++a < i; ) {
              var s = e[a];
              s && t(n, s, a, o);
            }
            return n;
          }));
        }
        function Ra(t, n) {
          return function(e, r) {
            if (null == e) return e;
            if (!Zo(e)) return t(e, r);
            for (var a = e.length, i = n ? a : -1, o = Mt(e); (n ? i-- : ++i < a) && !1 !== r(o[i], i, o); ) ;
            return e;
          };
        }
        function qa(t) {
          return function(n, e, r) {
            for (var a = -1, i = Mt(n), o = r(n), u = o.length; u--; ) {
              var s = o[t ? u : ++a];
              if (!1 === e(i[s], s, i)) break;
            }
            return n;
          };
        }
        function La(t) {
          return function(n) {
            var e = se(n = wu(n)) ? pe(n) : r, a = e ? e[0] : n.charAt(0), i = e ? xa(e, 1).join("") : n.slice(1);
            return a[t]() + i;
          };
        }
        function Pa(t) {
          return function(n) {
            return Pn(Qu(Hu(n).replace(Qt, "")), t, "");
          };
        }
        function Na(t) {
          return function() {
            var n = arguments;
            switch (n.length) {
             case 0:
              return new t;

             case 1:
              return new t(n[0]);

             case 2:
              return new t(n[0], n[1]);

             case 3:
              return new t(n[0], n[1], n[2]);

             case 4:
              return new t(n[0], n[1], n[2], n[3]);

             case 5:
              return new t(n[0], n[1], n[2], n[3], n[4]);

             case 6:
              return new t(n[0], n[1], n[2], n[3], n[4], n[5]);

             case 7:
              return new t(n[0], n[1], n[2], n[3], n[4], n[5], n[6]);
            }
            var e = Ue(t.prototype), r = t.apply(e, n);
            return eu(r) ? r : e;
          };
        }
        function Wa(t) {
          return function(n, e, a) {
            var i = Mt(n);
            if (!Zo(n)) {
              var o = ci(e, 3);
              n = Ou(n), e = function(t) {
                return o(i[t], t, i);
              };
            }
            var u = t(n, e, a);
            return u > -1 ? i[o ? n[u] : u] : r;
          };
        }
        function Ba(t) {
          return ri((function(n) {
            var e = n.length, i = e, o = De.prototype.thru;
            for (t && n.reverse(); i--; ) {
              var u = n[i];
              if ("function" != typeof u) throw new Et(a);
              if (o && !s && "wrapper" == ui(u)) var s = new De([], !0);
            }
            for (i = s ? i : e; ++i < e; ) {
              var c = ui(u = n[i]), l = "wrapper" == c ? oi(u) : r;
              s = l && xi(l[0]) && 424 == l[1] && !l[4].length && 1 == l[9] ? s[ui(l[0])].apply(s, l[3]) : 1 == u.length && xi(u) ? s[c]() : s.thru(u);
            }
            return function() {
              var t = arguments, r = t[0];
              if (s && 1 == t.length && Go(r)) return s.plant(r).value();
              for (var a = 0, i = e ? n[a].apply(this, t) : r; ++a < e; ) i = n[a].call(this, i);
              return i;
            };
          }));
        }
        function Fa(t, n, e, a, i, o, u, s, c, f) {
          var h = n & l, g = 1 & n, p = 2 & n, d = 24 & n, m = 512 & n, v = p ? r : Na(t);
          return function r() {
            for (var l = arguments.length, y = ot(l), b = l; b--; ) y[b] = arguments[b];
            if (d) var w = si(r), _ = ae(y, w);
            if (a && (y = Ca(y, a, i, d)), o && (y = Ia(y, o, u, d)), l -= _, d && l < f) {
              var x = fe(y, w);
              return Za(t, n, Fa, r.placeholder, e, y, x, s, c, f - l);
            }
            var A = g ? e : this, k = p ? A[t] : t;
            return l = y.length, s ? y = Ii(y, s) : m && l > 1 && y.reverse(), h && c < l && (y.length = c), 
            this && this !== dn && this instanceof r && (k = v || Na(k)), k.apply(A, y);
          };
        }
        function Ua(t, n) {
          return function(e, r) {
            return function(t, n, e, r) {
              return _r(t, (function(t, a, i) {
                n(r, e(t), a, i);
              })), r;
            }(e, t, n(r), {});
          };
        }
        function $a(t, n) {
          return function(e, a) {
            var i;
            if (e === r && a === r) return n;
            if (e !== r && (i = e), a !== r) {
              if (i === r) return a;
              "string" == typeof e || "string" == typeof a ? (e = la(e), a = la(a)) : (e = ca(e), 
              a = ca(a)), i = t(e, a);
            }
            return i;
          };
        }
        function Da(t) {
          return ri((function(n) {
            return n = qn(n, Qn(ci())), Vr((function(e) {
              var r = this;
              return t(n, (function(t) {
                return Mn(t, r, e);
              }));
            }));
          }));
        }
        function Ha(t, n) {
          var e = (n = n === r ? " " : la(n)).length;
          if (e < 2) return e ? Xr(n, t) : n;
          var a = Xr(n, mn(t / ge(n)));
          return se(n) ? xa(pe(a), 0, t).join("") : a.slice(0, t);
        }
        function Ga(t) {
          return function(n, e, a) {
            return a && "number" != typeof a && wi(n, e, a) && (e = a = r), n = du(n), e === r ? (e = n, 
            n = 0) : e = du(e), function(t, n, e, r) {
              for (var a = -1, i = be(mn((n - t) / (e || 1)), 0), o = ot(i); i--; ) o[r ? i : ++a] = t, 
              t += e;
              return o;
            }(n, e, a = a === r ? n < e ? 1 : -1 : du(a), t);
          };
        }
        function Ka(t) {
          return function(n, e) {
            return "string" == typeof n && "string" == typeof e || (n = yu(n), e = yu(e)), t(n, e);
          };
        }
        function Za(t, n, e, a, i, o, u, l, f, h) {
          var g = 8 & n;
          n |= g ? s : c, 4 & (n &= ~(g ? c : s)) || (n &= -4);
          var p = [ t, n, i, g ? o : r, g ? u : r, g ? r : o, g ? r : u, l, f, h ], d = e.apply(r, p);
          return xi(t) && Si(d, p), d.placeholder = a, Ri(d, t, n);
        }
        function Ja(t) {
          var n = Tt[t];
          return function(t, e) {
            if (t = yu(t), (e = null == e ? 0 : we(mu(e), 292)) && Bn(t)) {
              var r = (wu(t) + "e").split("e");
              return +((r = (wu(n(r[0] + "e" + (+r[1] + e))) + "e").split("e"))[0] + "e" + (+r[1] - e));
            }
            return n(t);
          };
        }
        var Xa = Ce && 1 / he(new Ce([ , -0 ]))[1] == h ? function(t) {
          return new Ce(t);
        } : ls;
        function Va(t) {
          return function(n) {
            var e = di(n);
            return e == k ? ce(n) : e == I ? function(t) {
              var n = -1, e = Array(t.size);
              return t.forEach((function(t) {
                e[++n] = [ t, t ];
              })), e;
            }(n) : function(t, n) {
              return qn(n, (function(n) {
                return [ n, t[n] ];
              }));
            }(n, t(n));
          };
        }
        function Ya(t, n, e, i, h, g, p, d) {
          var m = 2 & n;
          if (!m && "function" != typeof t) throw new Et(a);
          var v = i ? i.length : 0;
          if (v || (n &= -97, i = h = r), p = p === r ? p : be(mu(p), 0), d = d === r ? d : mu(d), 
          v -= h ? h.length : 0, n & c) {
            var y = i, b = h;
            i = h = r;
          }
          var w = m ? r : oi(t), _ = [ t, n, e, i, h, y, b, g, p, d ];
          if (w && function(t, n) {
            var e = t[1], r = n[1], a = e | r, i = a < 131, u = r == l && 8 == e || r == l && e == f && t[7].length <= n[8] || 384 == r && n[7].length <= n[8] && 8 == e;
            if (!i && !u) return t;
            1 & r && (t[2] = n[2], a |= 1 & e ? 0 : 4);
            var s = n[3];
            if (s) {
              var c = t[3];
              t[3] = c ? Ca(c, s, n[4]) : s, t[4] = c ? fe(t[3], o) : n[4];
            }
            (s = n[5]) && (c = t[5], t[5] = c ? Ia(c, s, n[6]) : s, t[6] = c ? fe(t[5], o) : n[6]);
            (s = n[7]) && (t[7] = s);
            r & l && (t[8] = null == t[8] ? n[8] : we(t[8], n[8]));
            null == t[9] && (t[9] = n[9]);
            t[0] = n[0], t[1] = a;
          }(_, w), t = _[0], n = _[1], e = _[2], i = _[3], h = _[4], !(d = _[9] = _[9] === r ? m ? 0 : t.length : be(_[9] - v, 0)) && 24 & n && (n &= -25), 
          n && 1 != n) x = 8 == n || n == u ? function(t, n, e) {
            var a = Na(t);
            return function i() {
              for (var o = arguments.length, u = ot(o), s = o, c = si(i); s--; ) u[s] = arguments[s];
              var l = o < 3 && u[0] !== c && u[o - 1] !== c ? [] : fe(u, c);
              return (o -= l.length) < e ? Za(t, n, Fa, i.placeholder, r, u, l, r, r, e - o) : Mn(this && this !== dn && this instanceof i ? a : t, this, u);
            };
          }(t, n, d) : n != s && 33 != n || h.length ? Fa.apply(r, _) : function(t, n, e, r) {
            var a = 1 & n, i = Na(t);
            return function n() {
              for (var o = -1, u = arguments.length, s = -1, c = r.length, l = ot(c + u), f = this && this !== dn && this instanceof n ? i : t; ++s < c; ) l[s] = r[s];
              for (;u--; ) l[s++] = arguments[++o];
              return Mn(f, a ? e : this, l);
            };
          }(t, n, e, i); else var x = function(t, n, e) {
            var r = 1 & n, a = Na(t);
            return function n() {
              return (this && this !== dn && this instanceof n ? a : t).apply(r ? e : this, arguments);
            };
          }(t, n, e);
          return Ri((w ? na : Si)(x, _), t, n);
        }
        function Qa(t, n, e, a) {
          return t === r || Uo(t, Ot[e]) && !Lt.call(a, e) ? n : t;
        }
        function ti(t, n, e, a, i, o) {
          return eu(t) && eu(n) && (o.set(n, t), $r(t, n, r, ti, o), o.delete(n)), t;
        }
        function ni(t) {
          return ou(t) ? r : t;
        }
        function ei(t, n, e, a, i, o) {
          var u = 1 & e, s = t.length, c = n.length;
          if (s != c && !(u && c > s)) return !1;
          var l = o.get(t), f = o.get(n);
          if (l && f) return l == n && f == t;
          var h = -1, g = !0, p = 2 & e ? new Je : r;
          for (o.set(t, n), o.set(n, t); ++h < s; ) {
            var d = t[h], m = n[h];
            if (a) var v = u ? a(m, d, h, n, t, o) : a(d, m, h, t, n, o);
            if (v !== r) {
              if (v) continue;
              g = !1;
              break;
            }
            if (p) {
              if (!Wn(n, (function(t, n) {
                if (!ne(p, n) && (d === t || i(d, t, e, a, o))) return p.push(n);
              }))) {
                g = !1;
                break;
              }
            } else if (d !== m && !i(d, m, e, a, o)) {
              g = !1;
              break;
            }
          }
          return o.delete(t), o.delete(n), g;
        }
        function ri(t) {
          return Oi(Mi(t, r, Gi), t + "");
        }
        function ai(t) {
          return jr(t, Ou, gi);
        }
        function ii(t) {
          return jr(t, Ru, pi);
        }
        var oi = Se ? function(t) {
          return Se.get(t);
        } : ls;
        function ui(t) {
          for (var n = t.name + "", e = ze[n], r = Lt.call(ze, n) ? e.length : 0; r--; ) {
            var a = e[r], i = a.func;
            if (null == i || i == t) return a.name;
          }
          return n;
        }
        function si(t) {
          return (Lt.call(Fe, "placeholder") ? Fe : t).placeholder;
        }
        function ci() {
          var t = Fe.iteratee || os;
          return t = t === os ? Lr : t, arguments.length ? t(arguments[0], arguments[1]) : t;
        }
        function li(t, n) {
          var e, r, a = t.__data__;
          return ("string" == (r = typeof (e = n)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== e : null === e) ? a["string" == typeof n ? "string" : "hash"] : a.map;
        }
        function fi(t) {
          for (var n = Ou(t), e = n.length; e--; ) {
            var r = n[e], a = t[r];
            n[e] = [ r, a, ji(a) ];
          }
          return n;
        }
        function hi(t, n) {
          var e = function(t, n) {
            return null == t ? r : t[n];
          }(t, n);
          return qr(e) ? e : r;
        }
        var gi = bn ? function(t) {
          return null == t ? [] : (t = Mt(t), zn(bn(t), (function(n) {
            return Jt.call(t, n);
          })));
        } : vs, pi = bn ? function(t) {
          for (var n = []; t; ) Ln(n, gi(t)), t = Kt(t);
          return n;
        } : vs, di = Tr;
        function mi(t, n, e) {
          for (var r = -1, a = (n = wa(n, t)).length, i = !1; ++r < a; ) {
            var o = Ni(n[r]);
            if (!(i = null != t && e(t, o))) break;
            t = t[o];
          }
          return i || ++r != a ? i : !!(a = null == t ? 0 : t.length) && nu(a) && bi(o, a) && (Go(t) || Ho(t));
        }
        function vi(t) {
          return "function" != typeof t.constructor || ki(t) ? {} : Ue(Kt(t));
        }
        function yi(t) {
          return Go(t) || Ho(t) || !!(Vt && t && t[Vt]);
        }
        function bi(t, n) {
          var e = typeof t;
          return !!(n = null == n ? g : n) && ("number" == e || "symbol" != e && bt.test(t)) && t > -1 && t % 1 == 0 && t < n;
        }
        function wi(t, n, e) {
          if (!eu(e)) return !1;
          var r = typeof n;
          return !!("number" == r ? Zo(e) && bi(n, e.length) : "string" == r && n in e) && Uo(e[n], t);
        }
        function _i(t, n) {
          if (Go(t)) return !1;
          var e = typeof t;
          return !("number" != e && "symbol" != e && "boolean" != e && null != t && !lu(t)) || (nt.test(t) || !tt.test(t) || null != n && t in Mt(n));
        }
        function xi(t) {
          var n = ui(t), e = Fe[n];
          if ("function" != typeof e || !(n in He.prototype)) return !1;
          if (t === e) return !0;
          var r = oi(e);
          return !!r && t === r[0];
        }
        (je && di(new je(new ArrayBuffer(1))) != R || Te && di(new Te) != k || Me && di(Me.resolve()) != M || Ce && di(new Ce) != I || Ie && di(new Ie) != z) && (di = function(t) {
          var n = Tr(t), e = n == T ? t.constructor : r, a = e ? Wi(e) : "";
          if (a) switch (a) {
           case Oe:
            return R;

           case Re:
            return k;

           case qe:
            return M;

           case Le:
            return I;

           case Pe:
            return z;
          }
          return n;
        });
        var Ai = Rt ? Qo : ys;
        function ki(t) {
          var n = t && t.constructor;
          return t === ("function" == typeof n && n.prototype || Ot);
        }
        function ji(t) {
          return t == t && !eu(t);
        }
        function Ti(t, n) {
          return function(e) {
            return null != e && (e[t] === n && (n !== r || t in Mt(e)));
          };
        }
        function Mi(t, n, e) {
          return n = be(n === r ? t.length - 1 : n, 0), function() {
            for (var r = arguments, a = -1, i = be(r.length - n, 0), o = ot(i); ++a < i; ) o[a] = r[n + a];
            a = -1;
            for (var u = ot(n + 1); ++a < n; ) u[a] = r[a];
            return u[n] = e(o), Mn(t, this, u);
          };
        }
        function Ci(t, n) {
          return n.length < 2 ? t : kr(t, aa(n, 0, -1));
        }
        function Ii(t, n) {
          for (var e = t.length, a = we(n.length, e), i = Ea(t); a--; ) {
            var o = n[a];
            t[a] = bi(o, e) ? i[o] : r;
          }
          return t;
        }
        function Ei(t, n) {
          if (("constructor" !== n || "function" != typeof t[n]) && "__proto__" != n) return t[n];
        }
        var Si = qi(na), zi = pn || function(t, n) {
          return dn.setTimeout(t, n);
        }, Oi = qi(ea);
        function Ri(t, n, e) {
          var r = n + "";
          return Oi(t, function(t, n) {
            var e = n.length;
            if (!e) return t;
            var r = e - 1;
            return n[r] = (e > 1 ? "& " : "") + n[r], n = n.join(e > 2 ? ", " : " "), t.replace(ut, "{\n/* [wrapped with " + n + "] */\n");
          }(r, function(t, n) {
            return In(m, (function(e) {
              var r = "_." + e[0];
              n & e[1] && !On(t, r) && t.push(r);
            })), t.sort();
          }(function(t) {
            var n = t.match(st);
            return n ? n[1].split(ct) : [];
          }(r), e)));
        }
        function qi(t) {
          var n = 0, e = 0;
          return function() {
            var a = _e(), i = 16 - (a - e);
            if (e = a, i > 0) {
              if (++n >= 800) return arguments[0];
            } else n = 0;
            return t.apply(r, arguments);
          };
        }
        function Li(t, n) {
          var e = -1, a = t.length, i = a - 1;
          for (n = n === r ? a : n; ++e < n; ) {
            var o = Jr(e, i), u = t[o];
            t[o] = t[e], t[e] = u;
          }
          return t.length = n, t;
        }
        var Pi = function(t) {
          var n = Lo(t, (function(t) {
            return 500 === e.size && e.clear(), t;
          })), e = n.cache;
          return n;
        }((function(t) {
          var n = [];
          return 46 === t.charCodeAt(0) && n.push(""), t.replace(et, (function(t, e, r, a) {
            n.push(r ? a.replace(ht, "$1") : e || t);
          })), n;
        }));
        function Ni(t) {
          if ("string" == typeof t || lu(t)) return t;
          var n = t + "";
          return "0" == n && 1 / t == -1 / 0 ? "-0" : n;
        }
        function Wi(t) {
          if (null != t) {
            try {
              return qt.call(t);
            } catch (t) {}
            try {
              return t + "";
            } catch (t) {}
          }
          return "";
        }
        function Bi(t) {
          if (t instanceof He) return t.clone();
          var n = new De(t.__wrapped__, t.__chain__);
          return n.__actions__ = Ea(t.__actions__), n.__index__ = t.__index__, n.__values__ = t.__values__, 
          n;
        }
        var Fi = Vr((function(t, n) {
          return Jo(t) ? hr(t, yr(n, 1, Jo, !0)) : [];
        })), Ui = Vr((function(t, n) {
          var e = Vi(n);
          return Jo(e) && (e = r), Jo(t) ? hr(t, yr(n, 1, Jo, !0), ci(e, 2)) : [];
        })), $i = Vr((function(t, n) {
          var e = Vi(n);
          return Jo(e) && (e = r), Jo(t) ? hr(t, yr(n, 1, Jo, !0), r, e) : [];
        }));
        function Di(t, n, e) {
          var r = null == t ? 0 : t.length;
          if (!r) return -1;
          var a = null == e ? 0 : mu(e);
          return a < 0 && (a = be(r + a, 0)), Un(t, ci(n, 3), a);
        }
        function Hi(t, n, e) {
          var a = null == t ? 0 : t.length;
          if (!a) return -1;
          var i = a - 1;
          return e !== r && (i = mu(e), i = e < 0 ? be(a + i, 0) : we(i, a - 1)), Un(t, ci(n, 3), i, !0);
        }
        function Gi(t) {
          return (null == t ? 0 : t.length) ? yr(t, 1) : [];
        }
        function Ki(t) {
          return t && t.length ? t[0] : r;
        }
        var Zi = Vr((function(t) {
          var n = qn(t, ya);
          return n.length && n[0] === t[0] ? Er(n) : [];
        })), Ji = Vr((function(t) {
          var n = Vi(t), e = qn(t, ya);
          return n === Vi(e) ? n = r : e.pop(), e.length && e[0] === t[0] ? Er(e, ci(n, 2)) : [];
        })), Xi = Vr((function(t) {
          var n = Vi(t), e = qn(t, ya);
          return (n = "function" == typeof n ? n : r) && e.pop(), e.length && e[0] === t[0] ? Er(e, r, n) : [];
        }));
        function Vi(t) {
          var n = null == t ? 0 : t.length;
          return n ? t[n - 1] : r;
        }
        var Yi = Vr(Qi);
        function Qi(t, n) {
          return t && t.length && n && n.length ? Kr(t, n) : t;
        }
        var to = ri((function(t, n) {
          var e = null == t ? 0 : t.length, r = ur(t, n);
          return Zr(t, qn(n, (function(t) {
            return bi(t, e) ? +t : t;
          })).sort(Ma)), r;
        }));
        function no(t) {
          return null == t ? t : ke.call(t);
        }
        var eo = Vr((function(t) {
          return fa(yr(t, 1, Jo, !0));
        })), ro = Vr((function(t) {
          var n = Vi(t);
          return Jo(n) && (n = r), fa(yr(t, 1, Jo, !0), ci(n, 2));
        })), ao = Vr((function(t) {
          var n = Vi(t);
          return n = "function" == typeof n ? n : r, fa(yr(t, 1, Jo, !0), r, n);
        }));
        function io(t) {
          if (!t || !t.length) return [];
          var n = 0;
          return t = zn(t, (function(t) {
            if (Jo(t)) return n = be(t.length, n), !0;
          })), Vn(n, (function(n) {
            return qn(t, Kn(n));
          }));
        }
        function oo(t, n) {
          if (!t || !t.length) return [];
          var e = io(t);
          return null == n ? e : qn(e, (function(t) {
            return Mn(n, r, t);
          }));
        }
        var uo = Vr((function(t, n) {
          return Jo(t) ? hr(t, n) : [];
        })), so = Vr((function(t) {
          return ma(zn(t, Jo));
        })), co = Vr((function(t) {
          var n = Vi(t);
          return Jo(n) && (n = r), ma(zn(t, Jo), ci(n, 2));
        })), lo = Vr((function(t) {
          var n = Vi(t);
          return n = "function" == typeof n ? n : r, ma(zn(t, Jo), r, n);
        })), fo = Vr(io);
        var ho = Vr((function(t) {
          var n = t.length, e = n > 1 ? t[n - 1] : r;
          return e = "function" == typeof e ? (t.pop(), e) : r, oo(t, e);
        }));
        function go(t) {
          var n = Fe(t);
          return n.__chain__ = !0, n;
        }
        function po(t, n) {
          return n(t);
        }
        var mo = ri((function(t) {
          var n = t.length, e = n ? t[0] : 0, a = this.__wrapped__, i = function(n) {
            return ur(n, t);
          };
          return !(n > 1 || this.__actions__.length) && a instanceof He && bi(e) ? ((a = a.slice(e, +e + (n ? 1 : 0))).__actions__.push({
            func: po,
            args: [ i ],
            thisArg: r
          }), new De(a, this.__chain__).thru((function(t) {
            return n && !t.length && t.push(r), t;
          }))) : this.thru(i);
        }));
        var vo = za((function(t, n, e) {
          Lt.call(t, e) ? ++t[e] : or(t, e, 1);
        }));
        var yo = Wa(Di), bo = Wa(Hi);
        function wo(t, n) {
          return (Go(t) ? In : gr)(t, ci(n, 3));
        }
        function _o(t, n) {
          return (Go(t) ? En : pr)(t, ci(n, 3));
        }
        var xo = za((function(t, n, e) {
          Lt.call(t, e) ? t[e].push(n) : or(t, e, [ n ]);
        }));
        var Ao = Vr((function(t, n, e) {
          var r = -1, a = "function" == typeof n, i = Zo(t) ? ot(t.length) : [];
          return gr(t, (function(t) {
            i[++r] = a ? Mn(n, t, e) : Sr(t, n, e);
          })), i;
        })), ko = za((function(t, n, e) {
          or(t, e, n);
        }));
        function jo(t, n) {
          return (Go(t) ? qn : Br)(t, ci(n, 3));
        }
        var To = za((function(t, n, e) {
          t[e ? 0 : 1].push(n);
        }), (function() {
          return [ [], [] ];
        }));
        var Mo = Vr((function(t, n) {
          if (null == t) return [];
          var e = n.length;
          return e > 1 && wi(t, n[0], n[1]) ? n = [] : e > 2 && wi(n[0], n[1], n[2]) && (n = [ n[0] ]), 
          Hr(t, yr(n, 1), []);
        })), Co = gn || function() {
          return dn.Date.now();
        };
        function Io(t, n, e) {
          return n = e ? r : n, n = t && null == n ? t.length : n, Ya(t, l, r, r, r, r, n);
        }
        function Eo(t, n) {
          var e;
          if ("function" != typeof n) throw new Et(a);
          return t = mu(t), function() {
            return --t > 0 && (e = n.apply(this, arguments)), t <= 1 && (n = r), e;
          };
        }
        var So = Vr((function(t, n, e) {
          var r = 1;
          if (e.length) {
            var a = fe(e, si(So));
            r |= s;
          }
          return Ya(t, r, n, e, a);
        })), zo = Vr((function(t, n, e) {
          var r = 3;
          if (e.length) {
            var a = fe(e, si(zo));
            r |= s;
          }
          return Ya(n, r, t, e, a);
        }));
        function Oo(t, n, e) {
          var i, o, u, s, c, l, f = 0, h = !1, g = !1, p = !0;
          if ("function" != typeof t) throw new Et(a);
          function d(n) {
            var e = i, a = o;
            return i = o = r, f = n, s = t.apply(a, e);
          }
          function m(t) {
            return f = t, c = zi(y, n), h ? d(t) : s;
          }
          function v(t) {
            var e = t - l;
            return l === r || e >= n || e < 0 || g && t - f >= u;
          }
          function y() {
            var t = Co();
            if (v(t)) return b(t);
            c = zi(y, function(t) {
              var e = n - (t - l);
              return g ? we(e, u - (t - f)) : e;
            }(t));
          }
          function b(t) {
            return c = r, p && i ? d(t) : (i = o = r, s);
          }
          function w() {
            var t = Co(), e = v(t);
            if (i = arguments, o = this, l = t, e) {
              if (c === r) return m(l);
              if (g) return Aa(c), c = zi(y, n), d(l);
            }
            return c === r && (c = zi(y, n)), s;
          }
          return n = yu(n) || 0, eu(e) && (h = !!e.leading, u = (g = "maxWait" in e) ? be(yu(e.maxWait) || 0, n) : u, 
          p = "trailing" in e ? !!e.trailing : p), w.cancel = function() {
            c !== r && Aa(c), f = 0, i = l = o = c = r;
          }, w.flush = function() {
            return c === r ? s : b(Co());
          }, w;
        }
        var Ro = Vr((function(t, n) {
          return fr(t, 1, n);
        })), qo = Vr((function(t, n, e) {
          return fr(t, yu(n) || 0, e);
        }));
        function Lo(t, n) {
          if ("function" != typeof t || null != n && "function" != typeof n) throw new Et(a);
          var e = function() {
            var r = arguments, a = n ? n.apply(this, r) : r[0], i = e.cache;
            if (i.has(a)) return i.get(a);
            var o = t.apply(this, r);
            return e.cache = i.set(a, o) || i, o;
          };
          return e.cache = new (Lo.Cache || Ze), e;
        }
        function Po(t) {
          if ("function" != typeof t) throw new Et(a);
          return function() {
            var n = arguments;
            switch (n.length) {
             case 0:
              return !t.call(this);

             case 1:
              return !t.call(this, n[0]);

             case 2:
              return !t.call(this, n[0], n[1]);

             case 3:
              return !t.call(this, n[0], n[1], n[2]);
            }
            return !t.apply(this, n);
          };
        }
        Lo.Cache = Ze;
        var No = _a((function(t, n) {
          var e = (n = 1 == n.length && Go(n[0]) ? qn(n[0], Qn(ci())) : qn(yr(n, 1), Qn(ci()))).length;
          return Vr((function(r) {
            for (var a = -1, i = we(r.length, e); ++a < i; ) r[a] = n[a].call(this, r[a]);
            return Mn(t, this, r);
          }));
        })), Wo = Vr((function(t, n) {
          var e = fe(n, si(Wo));
          return Ya(t, s, r, n, e);
        })), Bo = Vr((function(t, n) {
          var e = fe(n, si(Bo));
          return Ya(t, c, r, n, e);
        })), Fo = ri((function(t, n) {
          return Ya(t, f, r, r, r, n);
        }));
        function Uo(t, n) {
          return t === n || t != t && n != n;
        }
        var $o = Ka(Mr), Do = Ka((function(t, n) {
          return t >= n;
        })), Ho = zr(function() {
          return arguments;
        }()) ? zr : function(t) {
          return ru(t) && Lt.call(t, "callee") && !Jt.call(t, "callee");
        }, Go = ot.isArray, Ko = _n ? Qn(_n) : function(t) {
          return ru(t) && Tr(t) == O;
        };
        function Zo(t) {
          return null != t && nu(t.length) && !Qo(t);
        }
        function Jo(t) {
          return ru(t) && Zo(t);
        }
        var Xo = wn || ys, Vo = xn ? Qn(xn) : function(t) {
          return ru(t) && Tr(t) == w;
        };
        function Yo(t) {
          if (!ru(t)) return !1;
          var n = Tr(t);
          return n == _ || "[object DOMException]" == n || "string" == typeof t.message && "string" == typeof t.name && !ou(t);
        }
        function Qo(t) {
          if (!eu(t)) return !1;
          var n = Tr(t);
          return n == x || n == A || "[object AsyncFunction]" == n || "[object Proxy]" == n;
        }
        function tu(t) {
          return "number" == typeof t && t == mu(t);
        }
        function nu(t) {
          return "number" == typeof t && t > -1 && t % 1 == 0 && t <= g;
        }
        function eu(t) {
          var n = typeof t;
          return null != t && ("object" == n || "function" == n);
        }
        function ru(t) {
          return null != t && "object" == typeof t;
        }
        var au = An ? Qn(An) : function(t) {
          return ru(t) && di(t) == k;
        };
        function iu(t) {
          return "number" == typeof t || ru(t) && Tr(t) == j;
        }
        function ou(t) {
          if (!ru(t) || Tr(t) != T) return !1;
          var n = Kt(t);
          if (null === n) return !0;
          var e = Lt.call(n, "constructor") && n.constructor;
          return "function" == typeof e && e instanceof e && qt.call(e) == Bt;
        }
        var uu = kn ? Qn(kn) : function(t) {
          return ru(t) && Tr(t) == C;
        };
        var su = jn ? Qn(jn) : function(t) {
          return ru(t) && di(t) == I;
        };
        function cu(t) {
          return "string" == typeof t || !Go(t) && ru(t) && Tr(t) == E;
        }
        function lu(t) {
          return "symbol" == typeof t || ru(t) && Tr(t) == S;
        }
        var fu = Tn ? Qn(Tn) : function(t) {
          return ru(t) && nu(t.length) && !!sn[Tr(t)];
        };
        var hu = Ka(Wr), gu = Ka((function(t, n) {
          return t <= n;
        }));
        function pu(t) {
          if (!t) return [];
          if (Zo(t)) return cu(t) ? pe(t) : Ea(t);
          if (Yt && t[Yt]) return function(t) {
            for (var n, e = []; !(n = t.next()).done; ) e.push(n.value);
            return e;
          }(t[Yt]());
          var n = di(t);
          return (n == k ? ce : n == I ? he : Uu)(t);
        }
        function du(t) {
          return t ? (t = yu(t)) === h || t === -1 / 0 ? 17976931348623157e292 * (t < 0 ? -1 : 1) : t == t ? t : 0 : 0 === t ? t : 0;
        }
        function mu(t) {
          var n = du(t), e = n % 1;
          return n == n ? e ? n - e : n : 0;
        }
        function vu(t) {
          return t ? sr(mu(t), 0, d) : 0;
        }
        function yu(t) {
          if ("number" == typeof t) return t;
          if (lu(t)) return p;
          if (eu(t)) {
            var n = "function" == typeof t.valueOf ? t.valueOf() : t;
            t = eu(n) ? n + "" : n;
          }
          if ("string" != typeof t) return 0 === t ? t : +t;
          t = Yn(t);
          var e = mt.test(t);
          return e || yt.test(t) ? hn(t.slice(2), e ? 2 : 8) : dt.test(t) ? p : +t;
        }
        function bu(t) {
          return Sa(t, Ru(t));
        }
        function wu(t) {
          return null == t ? "" : la(t);
        }
        var _u = Oa((function(t, n) {
          if (ki(n) || Zo(n)) Sa(n, Ou(n), t); else for (var e in n) Lt.call(n, e) && er(t, e, n[e]);
        })), xu = Oa((function(t, n) {
          Sa(n, Ru(n), t);
        })), Au = Oa((function(t, n, e, r) {
          Sa(n, Ru(n), t, r);
        })), ku = Oa((function(t, n, e, r) {
          Sa(n, Ou(n), t, r);
        })), ju = ri(ur);
        var Tu = Vr((function(t, n) {
          t = Mt(t);
          var e = -1, a = n.length, i = a > 2 ? n[2] : r;
          for (i && wi(n[0], n[1], i) && (a = 1); ++e < a; ) for (var o = n[e], u = Ru(o), s = -1, c = u.length; ++s < c; ) {
            var l = u[s], f = t[l];
            (f === r || Uo(f, Ot[l]) && !Lt.call(t, l)) && (t[l] = o[l]);
          }
          return t;
        })), Mu = Vr((function(t) {
          return t.push(r, ti), Mn(Lu, r, t);
        }));
        function Cu(t, n, e) {
          var a = null == t ? r : kr(t, n);
          return a === r ? e : a;
        }
        function Iu(t, n) {
          return null != t && mi(t, n, Ir);
        }
        var Eu = Ua((function(t, n, e) {
          null != n && "function" != typeof n.toString && (n = Wt.call(n)), t[n] = e;
        }), es(is)), Su = Ua((function(t, n, e) {
          null != n && "function" != typeof n.toString && (n = Wt.call(n)), Lt.call(t, n) ? t[n].push(e) : t[n] = [ e ];
        }), ci), zu = Vr(Sr);
        function Ou(t) {
          return Zo(t) ? Ve(t) : Pr(t);
        }
        function Ru(t) {
          return Zo(t) ? Ve(t, !0) : Nr(t);
        }
        var qu = Oa((function(t, n, e) {
          $r(t, n, e);
        })), Lu = Oa((function(t, n, e, r) {
          $r(t, n, e, r);
        })), Pu = ri((function(t, n) {
          var e = {};
          if (null == t) return e;
          var r = !1;
          n = qn(n, (function(n) {
            return n = wa(n, t), r || (r = n.length > 1), n;
          })), Sa(t, ii(t), e), r && (e = cr(e, 7, ni));
          for (var a = n.length; a--; ) ha(e, n[a]);
          return e;
        }));
        var Nu = ri((function(t, n) {
          return null == t ? {} : function(t, n) {
            return Gr(t, n, (function(n, e) {
              return Iu(t, e);
            }));
          }(t, n);
        }));
        function Wu(t, n) {
          if (null == t) return {};
          var e = qn(ii(t), (function(t) {
            return [ t ];
          }));
          return n = ci(n), Gr(t, e, (function(t, e) {
            return n(t, e[0]);
          }));
        }
        var Bu = Va(Ou), Fu = Va(Ru);
        function Uu(t) {
          return null == t ? [] : te(t, Ou(t));
        }
        var $u = Pa((function(t, n, e) {
          return n = n.toLowerCase(), t + (e ? Du(n) : n);
        }));
        function Du(t) {
          return Yu(wu(t).toLowerCase());
        }
        function Hu(t) {
          return (t = wu(t)) && t.replace(wt, ie).replace(tn, "");
        }
        var Gu = Pa((function(t, n, e) {
          return t + (e ? "-" : "") + n.toLowerCase();
        })), Ku = Pa((function(t, n, e) {
          return t + (e ? " " : "") + n.toLowerCase();
        })), Zu = La("toLowerCase");
        var Ju = Pa((function(t, n, e) {
          return t + (e ? "_" : "") + n.toLowerCase();
        }));
        var Xu = Pa((function(t, n, e) {
          return t + (e ? " " : "") + Yu(n);
        }));
        var Vu = Pa((function(t, n, e) {
          return t + (e ? " " : "") + n.toUpperCase();
        })), Yu = La("toUpperCase");
        function Qu(t, n, e) {
          return t = wu(t), (n = e ? r : n) === r ? function(t) {
            return an.test(t);
          }(t) ? function(t) {
            return t.match(en) || [];
          }(t) : function(t) {
            return t.match(lt) || [];
          }(t) : t.match(n) || [];
        }
        var ts = Vr((function(t, n) {
          try {
            return Mn(t, r, n);
          } catch (t) {
            return Yo(t) ? t : new kt(t);
          }
        })), ns = ri((function(t, n) {
          return In(n, (function(n) {
            n = Ni(n), or(t, n, So(t[n], t));
          })), t;
        }));
        function es(t) {
          return function() {
            return t;
          };
        }
        var rs = Ba(), as = Ba(!0);
        function is(t) {
          return t;
        }
        function os(t) {
          return Lr("function" == typeof t ? t : cr(t, 1));
        }
        var us = Vr((function(t, n) {
          return function(e) {
            return Sr(e, t, n);
          };
        })), ss = Vr((function(t, n) {
          return function(e) {
            return Sr(t, e, n);
          };
        }));
        function cs(t, n, e) {
          var r = Ou(n), a = Ar(n, r);
          null != e || eu(n) && (a.length || !r.length) || (e = n, n = t, t = this, a = Ar(n, Ou(n)));
          var i = !(eu(e) && "chain" in e && !e.chain), o = Qo(t);
          return In(a, (function(e) {
            var r = n[e];
            t[e] = r, o && (t.prototype[e] = function() {
              var n = this.__chain__;
              if (i || n) {
                var e = t(this.__wrapped__), a = e.__actions__ = Ea(this.__actions__);
                return a.push({
                  func: r,
                  args: arguments,
                  thisArg: t
                }), e.__chain__ = n, e;
              }
              return r.apply(t, Ln([ this.value() ], arguments));
            });
          })), t;
        }
        function ls() {}
        var fs = Da(qn), hs = Da(Sn), gs = Da(Wn);
        function ps(t) {
          return _i(t) ? Kn(Ni(t)) : function(t) {
            return function(n) {
              return kr(n, t);
            };
          }(t);
        }
        var ds = Ga(), ms = Ga(!0);
        function vs() {
          return [];
        }
        function ys() {
          return !1;
        }
        var bs = $a((function(t, n) {
          return t + n;
        }), 0), ws = Ja("ceil"), _s = $a((function(t, n) {
          return t / n;
        }), 1), xs = Ja("floor");
        var As, ks = $a((function(t, n) {
          return t * n;
        }), 1), js = Ja("round"), Ts = $a((function(t, n) {
          return t - n;
        }), 0);
        return Fe.after = function(t, n) {
          if ("function" != typeof n) throw new Et(a);
          return t = mu(t), function() {
            if (--t < 1) return n.apply(this, arguments);
          };
        }, Fe.ary = Io, Fe.assign = _u, Fe.assignIn = xu, Fe.assignInWith = Au, Fe.assignWith = ku, 
        Fe.at = ju, Fe.before = Eo, Fe.bind = So, Fe.bindAll = ns, Fe.bindKey = zo, Fe.castArray = function() {
          if (!arguments.length) return [];
          var t = arguments[0];
          return Go(t) ? t : [ t ];
        }, Fe.chain = go, Fe.chunk = function(t, n, e) {
          n = (e ? wi(t, n, e) : n === r) ? 1 : be(mu(n), 0);
          var a = null == t ? 0 : t.length;
          if (!a || n < 1) return [];
          for (var i = 0, o = 0, u = ot(mn(a / n)); i < a; ) u[o++] = aa(t, i, i += n);
          return u;
        }, Fe.compact = function(t) {
          for (var n = -1, e = null == t ? 0 : t.length, r = 0, a = []; ++n < e; ) {
            var i = t[n];
            i && (a[r++] = i);
          }
          return a;
        }, Fe.concat = function() {
          var t = arguments.length;
          if (!t) return [];
          for (var n = ot(t - 1), e = arguments[0], r = t; r--; ) n[r - 1] = arguments[r];
          return Ln(Go(e) ? Ea(e) : [ e ], yr(n, 1));
        }, Fe.cond = function(t) {
          var n = null == t ? 0 : t.length, e = ci();
          return t = n ? qn(t, (function(t) {
            if ("function" != typeof t[1]) throw new Et(a);
            return [ e(t[0]), t[1] ];
          })) : [], Vr((function(e) {
            for (var r = -1; ++r < n; ) {
              var a = t[r];
              if (Mn(a[0], this, e)) return Mn(a[1], this, e);
            }
          }));
        }, Fe.conforms = function(t) {
          return function(t) {
            var n = Ou(t);
            return function(e) {
              return lr(e, t, n);
            };
          }(cr(t, 1));
        }, Fe.constant = es, Fe.countBy = vo, Fe.create = function(t, n) {
          var e = Ue(t);
          return null == n ? e : ir(e, n);
        }, Fe.curry = function t(n, e, a) {
          var i = Ya(n, 8, r, r, r, r, r, e = a ? r : e);
          return i.placeholder = t.placeholder, i;
        }, Fe.curryRight = function t(n, e, a) {
          var i = Ya(n, u, r, r, r, r, r, e = a ? r : e);
          return i.placeholder = t.placeholder, i;
        }, Fe.debounce = Oo, Fe.defaults = Tu, Fe.defaultsDeep = Mu, Fe.defer = Ro, Fe.delay = qo, 
        Fe.difference = Fi, Fe.differenceBy = Ui, Fe.differenceWith = $i, Fe.drop = function(t, n, e) {
          var a = null == t ? 0 : t.length;
          return a ? aa(t, (n = e || n === r ? 1 : mu(n)) < 0 ? 0 : n, a) : [];
        }, Fe.dropRight = function(t, n, e) {
          var a = null == t ? 0 : t.length;
          return a ? aa(t, 0, (n = a - (n = e || n === r ? 1 : mu(n))) < 0 ? 0 : n) : [];
        }, Fe.dropRightWhile = function(t, n) {
          return t && t.length ? pa(t, ci(n, 3), !0, !0) : [];
        }, Fe.dropWhile = function(t, n) {
          return t && t.length ? pa(t, ci(n, 3), !0) : [];
        }, Fe.fill = function(t, n, e, a) {
          var i = null == t ? 0 : t.length;
          return i ? (e && "number" != typeof e && wi(t, n, e) && (e = 0, a = i), function(t, n, e, a) {
            var i = t.length;
            for ((e = mu(e)) < 0 && (e = -e > i ? 0 : i + e), (a = a === r || a > i ? i : mu(a)) < 0 && (a += i), 
            a = e > a ? 0 : vu(a); e < a; ) t[e++] = n;
            return t;
          }(t, n, e, a)) : [];
        }, Fe.filter = function(t, n) {
          return (Go(t) ? zn : vr)(t, ci(n, 3));
        }, Fe.flatMap = function(t, n) {
          return yr(jo(t, n), 1);
        }, Fe.flatMapDeep = function(t, n) {
          return yr(jo(t, n), h);
        }, Fe.flatMapDepth = function(t, n, e) {
          return e = e === r ? 1 : mu(e), yr(jo(t, n), e);
        }, Fe.flatten = Gi, Fe.flattenDeep = function(t) {
          return (null == t ? 0 : t.length) ? yr(t, h) : [];
        }, Fe.flattenDepth = function(t, n) {
          return (null == t ? 0 : t.length) ? yr(t, n = n === r ? 1 : mu(n)) : [];
        }, Fe.flip = function(t) {
          return Ya(t, 512);
        }, Fe.flow = rs, Fe.flowRight = as, Fe.fromPairs = function(t) {
          for (var n = -1, e = null == t ? 0 : t.length, r = {}; ++n < e; ) {
            var a = t[n];
            r[a[0]] = a[1];
          }
          return r;
        }, Fe.functions = function(t) {
          return null == t ? [] : Ar(t, Ou(t));
        }, Fe.functionsIn = function(t) {
          return null == t ? [] : Ar(t, Ru(t));
        }, Fe.groupBy = xo, Fe.initial = function(t) {
          return (null == t ? 0 : t.length) ? aa(t, 0, -1) : [];
        }, Fe.intersection = Zi, Fe.intersectionBy = Ji, Fe.intersectionWith = Xi, Fe.invert = Eu, 
        Fe.invertBy = Su, Fe.invokeMap = Ao, Fe.iteratee = os, Fe.keyBy = ko, Fe.keys = Ou, 
        Fe.keysIn = Ru, Fe.map = jo, Fe.mapKeys = function(t, n) {
          var e = {};
          return n = ci(n, 3), _r(t, (function(t, r, a) {
            or(e, n(t, r, a), t);
          })), e;
        }, Fe.mapValues = function(t, n) {
          var e = {};
          return n = ci(n, 3), _r(t, (function(t, r, a) {
            or(e, r, n(t, r, a));
          })), e;
        }, Fe.matches = function(t) {
          return Fr(cr(t, 1));
        }, Fe.matchesProperty = function(t, n) {
          return Ur(t, cr(n, 1));
        }, Fe.memoize = Lo, Fe.merge = qu, Fe.mergeWith = Lu, Fe.method = us, Fe.methodOf = ss, 
        Fe.mixin = cs, Fe.negate = Po, Fe.nthArg = function(t) {
          return t = mu(t), Vr((function(n) {
            return Dr(n, t);
          }));
        }, Fe.omit = Pu, Fe.omitBy = function(t, n) {
          return Wu(t, Po(ci(n)));
        }, Fe.once = function(t) {
          return Eo(2, t);
        }, Fe.orderBy = function(t, n, e, a) {
          return null == t ? [] : (Go(n) || (n = null == n ? [] : [ n ]), Go(e = a ? r : e) || (e = null == e ? [] : [ e ]), 
          Hr(t, n, e));
        }, Fe.over = fs, Fe.overArgs = No, Fe.overEvery = hs, Fe.overSome = gs, Fe.partial = Wo, 
        Fe.partialRight = Bo, Fe.partition = To, Fe.pick = Nu, Fe.pickBy = Wu, Fe.property = ps, 
        Fe.propertyOf = function(t) {
          return function(n) {
            return null == t ? r : kr(t, n);
          };
        }, Fe.pull = Yi, Fe.pullAll = Qi, Fe.pullAllBy = function(t, n, e) {
          return t && t.length && n && n.length ? Kr(t, n, ci(e, 2)) : t;
        }, Fe.pullAllWith = function(t, n, e) {
          return t && t.length && n && n.length ? Kr(t, n, r, e) : t;
        }, Fe.pullAt = to, Fe.range = ds, Fe.rangeRight = ms, Fe.rearg = Fo, Fe.reject = function(t, n) {
          return (Go(t) ? zn : vr)(t, Po(ci(n, 3)));
        }, Fe.remove = function(t, n) {
          var e = [];
          if (!t || !t.length) return e;
          var r = -1, a = [], i = t.length;
          for (n = ci(n, 3); ++r < i; ) {
            var o = t[r];
            n(o, r, t) && (e.push(o), a.push(r));
          }
          return Zr(t, a), e;
        }, Fe.rest = function(t, n) {
          if ("function" != typeof t) throw new Et(a);
          return Vr(t, n = n === r ? n : mu(n));
        }, Fe.reverse = no, Fe.sampleSize = function(t, n, e) {
          return n = (e ? wi(t, n, e) : n === r) ? 1 : mu(n), (Go(t) ? Qe : Qr)(t, n);
        }, Fe.set = function(t, n, e) {
          return null == t ? t : ta(t, n, e);
        }, Fe.setWith = function(t, n, e, a) {
          return a = "function" == typeof a ? a : r, null == t ? t : ta(t, n, e, a);
        }, Fe.shuffle = function(t) {
          return (Go(t) ? tr : ra)(t);
        }, Fe.slice = function(t, n, e) {
          var a = null == t ? 0 : t.length;
          return a ? (e && "number" != typeof e && wi(t, n, e) ? (n = 0, e = a) : (n = null == n ? 0 : mu(n), 
          e = e === r ? a : mu(e)), aa(t, n, e)) : [];
        }, Fe.sortBy = Mo, Fe.sortedUniq = function(t) {
          return t && t.length ? sa(t) : [];
        }, Fe.sortedUniqBy = function(t, n) {
          return t && t.length ? sa(t, ci(n, 2)) : [];
        }, Fe.split = function(t, n, e) {
          return e && "number" != typeof e && wi(t, n, e) && (n = e = r), (e = e === r ? d : e >>> 0) ? (t = wu(t)) && ("string" == typeof n || null != n && !uu(n)) && !(n = la(n)) && se(t) ? xa(pe(t), 0, e) : t.split(n, e) : [];
        }, Fe.spread = function(t, n) {
          if ("function" != typeof t) throw new Et(a);
          return n = null == n ? 0 : be(mu(n), 0), Vr((function(e) {
            var r = e[n], a = xa(e, 0, n);
            return r && Ln(a, r), Mn(t, this, a);
          }));
        }, Fe.tail = function(t) {
          var n = null == t ? 0 : t.length;
          return n ? aa(t, 1, n) : [];
        }, Fe.take = function(t, n, e) {
          return t && t.length ? aa(t, 0, (n = e || n === r ? 1 : mu(n)) < 0 ? 0 : n) : [];
        }, Fe.takeRight = function(t, n, e) {
          var a = null == t ? 0 : t.length;
          return a ? aa(t, (n = a - (n = e || n === r ? 1 : mu(n))) < 0 ? 0 : n, a) : [];
        }, Fe.takeRightWhile = function(t, n) {
          return t && t.length ? pa(t, ci(n, 3), !1, !0) : [];
        }, Fe.takeWhile = function(t, n) {
          return t && t.length ? pa(t, ci(n, 3)) : [];
        }, Fe.tap = function(t, n) {
          return n(t), t;
        }, Fe.throttle = function(t, n, e) {
          var r = !0, i = !0;
          if ("function" != typeof t) throw new Et(a);
          return eu(e) && (r = "leading" in e ? !!e.leading : r, i = "trailing" in e ? !!e.trailing : i), 
          Oo(t, n, {
            leading: r,
            maxWait: n,
            trailing: i
          });
        }, Fe.thru = po, Fe.toArray = pu, Fe.toPairs = Bu, Fe.toPairsIn = Fu, Fe.toPath = function(t) {
          return Go(t) ? qn(t, Ni) : lu(t) ? [ t ] : Ea(Pi(wu(t)));
        }, Fe.toPlainObject = bu, Fe.transform = function(t, n, e) {
          var r = Go(t), a = r || Xo(t) || fu(t);
          if (n = ci(n, 4), null == e) {
            var i = t && t.constructor;
            e = a ? r ? new i : [] : eu(t) && Qo(i) ? Ue(Kt(t)) : {};
          }
          return (a ? In : _r)(t, (function(t, r, a) {
            return n(e, t, r, a);
          })), e;
        }, Fe.unary = function(t) {
          return Io(t, 1);
        }, Fe.union = eo, Fe.unionBy = ro, Fe.unionWith = ao, Fe.uniq = function(t) {
          return t && t.length ? fa(t) : [];
        }, Fe.uniqBy = function(t, n) {
          return t && t.length ? fa(t, ci(n, 2)) : [];
        }, Fe.uniqWith = function(t, n) {
          return n = "function" == typeof n ? n : r, t && t.length ? fa(t, r, n) : [];
        }, Fe.unset = function(t, n) {
          return null == t || ha(t, n);
        }, Fe.unzip = io, Fe.unzipWith = oo, Fe.update = function(t, n, e) {
          return null == t ? t : ga(t, n, ba(e));
        }, Fe.updateWith = function(t, n, e, a) {
          return a = "function" == typeof a ? a : r, null == t ? t : ga(t, n, ba(e), a);
        }, Fe.values = Uu, Fe.valuesIn = function(t) {
          return null == t ? [] : te(t, Ru(t));
        }, Fe.without = uo, Fe.words = Qu, Fe.wrap = function(t, n) {
          return Wo(ba(n), t);
        }, Fe.xor = so, Fe.xorBy = co, Fe.xorWith = lo, Fe.zip = fo, Fe.zipObject = function(t, n) {
          return va(t || [], n || [], er);
        }, Fe.zipObjectDeep = function(t, n) {
          return va(t || [], n || [], ta);
        }, Fe.zipWith = ho, Fe.entries = Bu, Fe.entriesIn = Fu, Fe.extend = xu, Fe.extendWith = Au, 
        cs(Fe, Fe), Fe.add = bs, Fe.attempt = ts, Fe.camelCase = $u, Fe.capitalize = Du, 
        Fe.ceil = ws, Fe.clamp = function(t, n, e) {
          return e === r && (e = n, n = r), e !== r && (e = (e = yu(e)) == e ? e : 0), n !== r && (n = (n = yu(n)) == n ? n : 0), 
          sr(yu(t), n, e);
        }, Fe.clone = function(t) {
          return cr(t, 4);
        }, Fe.cloneDeep = function(t) {
          return cr(t, 5);
        }, Fe.cloneDeepWith = function(t, n) {
          return cr(t, 5, n = "function" == typeof n ? n : r);
        }, Fe.cloneWith = function(t, n) {
          return cr(t, 4, n = "function" == typeof n ? n : r);
        }, Fe.conformsTo = function(t, n) {
          return null == n || lr(t, n, Ou(n));
        }, Fe.deburr = Hu, Fe.defaultTo = function(t, n) {
          return null == t || t != t ? n : t;
        }, Fe.divide = _s, Fe.endsWith = function(t, n, e) {
          t = wu(t), n = la(n);
          var a = t.length, i = e = e === r ? a : sr(mu(e), 0, a);
          return (e -= n.length) >= 0 && t.slice(e, i) == n;
        }, Fe.eq = Uo, Fe.escape = function(t) {
          return (t = wu(t)) && X.test(t) ? t.replace(Z, oe) : t;
        }, Fe.escapeRegExp = function(t) {
          return (t = wu(t)) && at.test(t) ? t.replace(rt, "\\$&") : t;
        }, Fe.every = function(t, n, e) {
          var a = Go(t) ? Sn : dr;
          return e && wi(t, n, e) && (n = r), a(t, ci(n, 3));
        }, Fe.find = yo, Fe.findIndex = Di, Fe.findKey = function(t, n) {
          return Fn(t, ci(n, 3), _r);
        }, Fe.findLast = bo, Fe.findLastIndex = Hi, Fe.findLastKey = function(t, n) {
          return Fn(t, ci(n, 3), xr);
        }, Fe.floor = xs, Fe.forEach = wo, Fe.forEachRight = _o, Fe.forIn = function(t, n) {
          return null == t ? t : br(t, ci(n, 3), Ru);
        }, Fe.forInRight = function(t, n) {
          return null == t ? t : wr(t, ci(n, 3), Ru);
        }, Fe.forOwn = function(t, n) {
          return t && _r(t, ci(n, 3));
        }, Fe.forOwnRight = function(t, n) {
          return t && xr(t, ci(n, 3));
        }, Fe.get = Cu, Fe.gt = $o, Fe.gte = Do, Fe.has = function(t, n) {
          return null != t && mi(t, n, Cr);
        }, Fe.hasIn = Iu, Fe.head = Ki, Fe.identity = is, Fe.includes = function(t, n, e, r) {
          t = Zo(t) ? t : Uu(t), e = e && !r ? mu(e) : 0;
          var a = t.length;
          return e < 0 && (e = be(a + e, 0)), cu(t) ? e <= a && t.indexOf(n, e) > -1 : !!a && $n(t, n, e) > -1;
        }, Fe.indexOf = function(t, n, e) {
          var r = null == t ? 0 : t.length;
          if (!r) return -1;
          var a = null == e ? 0 : mu(e);
          return a < 0 && (a = be(r + a, 0)), $n(t, n, a);
        }, Fe.inRange = function(t, n, e) {
          return n = du(n), e === r ? (e = n, n = 0) : e = du(e), function(t, n, e) {
            return t >= we(n, e) && t < be(n, e);
          }(t = yu(t), n, e);
        }, Fe.invoke = zu, Fe.isArguments = Ho, Fe.isArray = Go, Fe.isArrayBuffer = Ko, 
        Fe.isArrayLike = Zo, Fe.isArrayLikeObject = Jo, Fe.isBoolean = function(t) {
          return !0 === t || !1 === t || ru(t) && Tr(t) == b;
        }, Fe.isBuffer = Xo, Fe.isDate = Vo, Fe.isElement = function(t) {
          return ru(t) && 1 === t.nodeType && !ou(t);
        }, Fe.isEmpty = function(t) {
          if (null == t) return !0;
          if (Zo(t) && (Go(t) || "string" == typeof t || "function" == typeof t.splice || Xo(t) || fu(t) || Ho(t))) return !t.length;
          var n = di(t);
          if (n == k || n == I) return !t.size;
          if (ki(t)) return !Pr(t).length;
          for (var e in t) if (Lt.call(t, e)) return !1;
          return !0;
        }, Fe.isEqual = function(t, n) {
          return Or(t, n);
        }, Fe.isEqualWith = function(t, n, e) {
          var a = (e = "function" == typeof e ? e : r) ? e(t, n) : r;
          return a === r ? Or(t, n, r, e) : !!a;
        }, Fe.isError = Yo, Fe.isFinite = function(t) {
          return "number" == typeof t && Bn(t);
        }, Fe.isFunction = Qo, Fe.isInteger = tu, Fe.isLength = nu, Fe.isMap = au, Fe.isMatch = function(t, n) {
          return t === n || Rr(t, n, fi(n));
        }, Fe.isMatchWith = function(t, n, e) {
          return e = "function" == typeof e ? e : r, Rr(t, n, fi(n), e);
        }, Fe.isNaN = function(t) {
          return iu(t) && t != +t;
        }, Fe.isNative = function(t) {
          if (Ai(t)) throw new kt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
          return qr(t);
        }, Fe.isNil = function(t) {
          return null == t;
        }, Fe.isNull = function(t) {
          return null === t;
        }, Fe.isNumber = iu, Fe.isObject = eu, Fe.isObjectLike = ru, Fe.isPlainObject = ou, 
        Fe.isRegExp = uu, Fe.isSafeInteger = function(t) {
          return tu(t) && t >= -9007199254740991 && t <= g;
        }, Fe.isSet = su, Fe.isString = cu, Fe.isSymbol = lu, Fe.isTypedArray = fu, Fe.isUndefined = function(t) {
          return t === r;
        }, Fe.isWeakMap = function(t) {
          return ru(t) && di(t) == z;
        }, Fe.isWeakSet = function(t) {
          return ru(t) && "[object WeakSet]" == Tr(t);
        }, Fe.join = function(t, n) {
          return null == t ? "" : Zn.call(t, n);
        }, Fe.kebabCase = Gu, Fe.last = Vi, Fe.lastIndexOf = function(t, n, e) {
          var a = null == t ? 0 : t.length;
          if (!a) return -1;
          var i = a;
          return e !== r && (i = (i = mu(e)) < 0 ? be(a + i, 0) : we(i, a - 1)), n == n ? function(t, n, e) {
            for (var r = e + 1; r--; ) if (t[r] === n) return r;
            return r;
          }(t, n, i) : Un(t, Hn, i, !0);
        }, Fe.lowerCase = Ku, Fe.lowerFirst = Zu, Fe.lt = hu, Fe.lte = gu, Fe.max = function(t) {
          return t && t.length ? mr(t, is, Mr) : r;
        }, Fe.maxBy = function(t, n) {
          return t && t.length ? mr(t, ci(n, 2), Mr) : r;
        }, Fe.mean = function(t) {
          return Gn(t, is);
        }, Fe.meanBy = function(t, n) {
          return Gn(t, ci(n, 2));
        }, Fe.min = function(t) {
          return t && t.length ? mr(t, is, Wr) : r;
        }, Fe.minBy = function(t, n) {
          return t && t.length ? mr(t, ci(n, 2), Wr) : r;
        }, Fe.stubArray = vs, Fe.stubFalse = ys, Fe.stubObject = function() {
          return {};
        }, Fe.stubString = function() {
          return "";
        }, Fe.stubTrue = function() {
          return !0;
        }, Fe.multiply = ks, Fe.nth = function(t, n) {
          return t && t.length ? Dr(t, mu(n)) : r;
        }, Fe.noConflict = function() {
          return dn._ === this && (dn._ = Ft), this;
        }, Fe.noop = ls, Fe.now = Co, Fe.pad = function(t, n, e) {
          t = wu(t);
          var r = (n = mu(n)) ? ge(t) : 0;
          if (!n || r >= n) return t;
          var a = (n - r) / 2;
          return Ha(vn(a), e) + t + Ha(mn(a), e);
        }, Fe.padEnd = function(t, n, e) {
          t = wu(t);
          var r = (n = mu(n)) ? ge(t) : 0;
          return n && r < n ? t + Ha(n - r, e) : t;
        }, Fe.padStart = function(t, n, e) {
          t = wu(t);
          var r = (n = mu(n)) ? ge(t) : 0;
          return n && r < n ? Ha(n - r, e) + t : t;
        }, Fe.parseInt = function(t, n, e) {
          return e || null == n ? n = 0 : n && (n = +n), xe(wu(t).replace(it, ""), n || 0);
        }, Fe.random = function(t, n, e) {
          if (e && "boolean" != typeof e && wi(t, n, e) && (n = e = r), e === r && ("boolean" == typeof n ? (e = n, 
          n = r) : "boolean" == typeof t && (e = t, t = r)), t === r && n === r ? (t = 0, 
          n = 1) : (t = du(t), n === r ? (n = t, t = 0) : n = du(n)), t > n) {
            var a = t;
            t = n, n = a;
          }
          if (e || t % 1 || n % 1) {
            var i = Ae();
            return we(t + i * (n - t + fn("1e-" + ((i + "").length - 1))), n);
          }
          return Jr(t, n);
        }, Fe.reduce = function(t, n, e) {
          var r = Go(t) ? Pn : Jn, a = arguments.length < 3;
          return r(t, ci(n, 4), e, a, gr);
        }, Fe.reduceRight = function(t, n, e) {
          var r = Go(t) ? Nn : Jn, a = arguments.length < 3;
          return r(t, ci(n, 4), e, a, pr);
        }, Fe.repeat = function(t, n, e) {
          return n = (e ? wi(t, n, e) : n === r) ? 1 : mu(n), Xr(wu(t), n);
        }, Fe.replace = function() {
          var t = arguments, n = wu(t[0]);
          return t.length < 3 ? n : n.replace(t[1], t[2]);
        }, Fe.result = function(t, n, e) {
          var a = -1, i = (n = wa(n, t)).length;
          for (i || (i = 1, t = r); ++a < i; ) {
            var o = null == t ? r : t[Ni(n[a])];
            o === r && (a = i, o = e), t = Qo(o) ? o.call(t) : o;
          }
          return t;
        }, Fe.round = js, Fe.runInContext = t, Fe.sample = function(t) {
          return (Go(t) ? Ye : Yr)(t);
        }, Fe.size = function(t) {
          if (null == t) return 0;
          if (Zo(t)) return cu(t) ? ge(t) : t.length;
          var n = di(t);
          return n == k || n == I ? t.size : Pr(t).length;
        }, Fe.snakeCase = Ju, Fe.some = function(t, n, e) {
          var a = Go(t) ? Wn : ia;
          return e && wi(t, n, e) && (n = r), a(t, ci(n, 3));
        }, Fe.sortedIndex = function(t, n) {
          return oa(t, n);
        }, Fe.sortedIndexBy = function(t, n, e) {
          return ua(t, n, ci(e, 2));
        }, Fe.sortedIndexOf = function(t, n) {
          var e = null == t ? 0 : t.length;
          if (e) {
            var r = oa(t, n);
            if (r < e && Uo(t[r], n)) return r;
          }
          return -1;
        }, Fe.sortedLastIndex = function(t, n) {
          return oa(t, n, !0);
        }, Fe.sortedLastIndexBy = function(t, n, e) {
          return ua(t, n, ci(e, 2), !0);
        }, Fe.sortedLastIndexOf = function(t, n) {
          if (null == t ? 0 : t.length) {
            var e = oa(t, n, !0) - 1;
            if (Uo(t[e], n)) return e;
          }
          return -1;
        }, Fe.startCase = Xu, Fe.startsWith = function(t, n, e) {
          return t = wu(t), e = null == e ? 0 : sr(mu(e), 0, t.length), n = la(n), t.slice(e, e + n.length) == n;
        }, Fe.subtract = Ts, Fe.sum = function(t) {
          return t && t.length ? Xn(t, is) : 0;
        }, Fe.sumBy = function(t, n) {
          return t && t.length ? Xn(t, ci(n, 2)) : 0;
        }, Fe.template = function(t, n, e) {
          var a = Fe.templateSettings;
          e && wi(t, n, e) && (n = r), t = wu(t), n = Au({}, n, a, Qa);
          var i, o, u = Au({}, n.imports, a.imports, Qa), s = Ou(u), c = te(u, s), l = 0, f = n.interpolate || _t, h = "__p += '", g = Ct((n.escape || _t).source + "|" + f.source + "|" + (f === Q ? gt : _t).source + "|" + (n.evaluate || _t).source + "|$", "g"), p = "//# sourceURL=" + (Lt.call(n, "sourceURL") ? (n.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++un + "]") + "\n";
          t.replace(g, (function(n, e, r, a, u, s) {
            return r || (r = a), h += t.slice(l, s).replace(xt, ue), e && (i = !0, h += "' +\n__e(" + e + ") +\n'"), 
            u && (o = !0, h += "';\n" + u + ";\n__p += '"), r && (h += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"), 
            l = s + n.length, n;
          })), h += "';\n";
          var d = Lt.call(n, "variable") && n.variable;
          if (d) {
            if (ft.test(d)) throw new kt("Invalid `variable` option passed into `_.template`");
          } else h = "with (obj) {\n" + h + "\n}\n";
          h = (o ? h.replace(D, "") : h).replace(H, "$1").replace(G, "$1;"), h = "function(" + (d || "obj") + ") {\n" + (d ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (i ? ", __e = _.escape" : "") + (o ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + h + "return __p\n}";
          var m = ts((function() {
            return jt(s, p + "return " + h).apply(r, c);
          }));
          if (m.source = h, Yo(m)) throw m;
          return m;
        }, Fe.times = function(t, n) {
          if ((t = mu(t)) < 1 || t > g) return [];
          var e = d, r = we(t, d);
          n = ci(n), t -= d;
          for (var a = Vn(r, n); ++e < t; ) n(e);
          return a;
        }, Fe.toFinite = du, Fe.toInteger = mu, Fe.toLength = vu, Fe.toLower = function(t) {
          return wu(t).toLowerCase();
        }, Fe.toNumber = yu, Fe.toSafeInteger = function(t) {
          return t ? sr(mu(t), -9007199254740991, g) : 0 === t ? t : 0;
        }, Fe.toString = wu, Fe.toUpper = function(t) {
          return wu(t).toUpperCase();
        }, Fe.trim = function(t, n, e) {
          if ((t = wu(t)) && (e || n === r)) return Yn(t);
          if (!t || !(n = la(n))) return t;
          var a = pe(t), i = pe(n);
          return xa(a, ee(a, i), re(a, i) + 1).join("");
        }, Fe.trimEnd = function(t, n, e) {
          if ((t = wu(t)) && (e || n === r)) return t.slice(0, de(t) + 1);
          if (!t || !(n = la(n))) return t;
          var a = pe(t);
          return xa(a, 0, re(a, pe(n)) + 1).join("");
        }, Fe.trimStart = function(t, n, e) {
          if ((t = wu(t)) && (e || n === r)) return t.replace(it, "");
          if (!t || !(n = la(n))) return t;
          var a = pe(t);
          return xa(a, ee(a, pe(n))).join("");
        }, Fe.truncate = function(t, n) {
          var e = 30, a = "...";
          if (eu(n)) {
            var i = "separator" in n ? n.separator : i;
            e = "length" in n ? mu(n.length) : e, a = "omission" in n ? la(n.omission) : a;
          }
          var o = (t = wu(t)).length;
          if (se(t)) {
            var u = pe(t);
            o = u.length;
          }
          if (e >= o) return t;
          var s = e - ge(a);
          if (s < 1) return a;
          var c = u ? xa(u, 0, s).join("") : t.slice(0, s);
          if (i === r) return c + a;
          if (u && (s += c.length - s), uu(i)) {
            if (t.slice(s).search(i)) {
              var l, f = c;
              for (i.global || (i = Ct(i.source, wu(pt.exec(i)) + "g")), i.lastIndex = 0; l = i.exec(f); ) var h = l.index;
              c = c.slice(0, h === r ? s : h);
            }
          } else if (t.indexOf(la(i), s) != s) {
            var g = c.lastIndexOf(i);
            g > -1 && (c = c.slice(0, g));
          }
          return c + a;
        }, Fe.unescape = function(t) {
          return (t = wu(t)) && J.test(t) ? t.replace(K, me) : t;
        }, Fe.uniqueId = function(t) {
          var n = ++Pt;
          return wu(t) + n;
        }, Fe.upperCase = Vu, Fe.upperFirst = Yu, Fe.each = wo, Fe.eachRight = _o, Fe.first = Ki, 
        cs(Fe, (As = {}, _r(Fe, (function(t, n) {
          Lt.call(Fe.prototype, n) || (As[n] = t);
        })), As), {
          chain: !1
        }), Fe.VERSION = "4.17.21", In([ "bind", "bindKey", "curry", "curryRight", "partial", "partialRight" ], (function(t) {
          Fe[t].placeholder = Fe;
        })), In([ "drop", "take" ], (function(t, n) {
          He.prototype[t] = function(e) {
            e = e === r ? 1 : be(mu(e), 0);
            var a = this.__filtered__ && !n ? new He(this) : this.clone();
            return a.__filtered__ ? a.__takeCount__ = we(e, a.__takeCount__) : a.__views__.push({
              size: we(e, d),
              type: t + (a.__dir__ < 0 ? "Right" : "")
            }), a;
          }, He.prototype[t + "Right"] = function(n) {
            return this.reverse()[t](n).reverse();
          };
        })), In([ "filter", "map", "takeWhile" ], (function(t, n) {
          var e = n + 1, r = 1 == e || 3 == e;
          He.prototype[t] = function(t) {
            var n = this.clone();
            return n.__iteratees__.push({
              iteratee: ci(t, 3),
              type: e
            }), n.__filtered__ = n.__filtered__ || r, n;
          };
        })), In([ "head", "last" ], (function(t, n) {
          var e = "take" + (n ? "Right" : "");
          He.prototype[t] = function() {
            return this[e](1).value()[0];
          };
        })), In([ "initial", "tail" ], (function(t, n) {
          var e = "drop" + (n ? "" : "Right");
          He.prototype[t] = function() {
            return this.__filtered__ ? new He(this) : this[e](1);
          };
        })), He.prototype.compact = function() {
          return this.filter(is);
        }, He.prototype.find = function(t) {
          return this.filter(t).head();
        }, He.prototype.findLast = function(t) {
          return this.reverse().find(t);
        }, He.prototype.invokeMap = Vr((function(t, n) {
          return "function" == typeof t ? new He(this) : this.map((function(e) {
            return Sr(e, t, n);
          }));
        })), He.prototype.reject = function(t) {
          return this.filter(Po(ci(t)));
        }, He.prototype.slice = function(t, n) {
          t = mu(t);
          var e = this;
          return e.__filtered__ && (t > 0 || n < 0) ? new He(e) : (t < 0 ? e = e.takeRight(-t) : t && (e = e.drop(t)), 
          n !== r && (e = (n = mu(n)) < 0 ? e.dropRight(-n) : e.take(n - t)), e);
        }, He.prototype.takeRightWhile = function(t) {
          return this.reverse().takeWhile(t).reverse();
        }, He.prototype.toArray = function() {
          return this.take(d);
        }, _r(He.prototype, (function(t, n) {
          var e = /^(?:filter|find|map|reject)|While$/.test(n), a = /^(?:head|last)$/.test(n), i = Fe[a ? "take" + ("last" == n ? "Right" : "") : n], o = a || /^find/.test(n);
          i && (Fe.prototype[n] = function() {
            var n = this.__wrapped__, u = a ? [ 1 ] : arguments, s = n instanceof He, c = u[0], l = s || Go(n), f = function(t) {
              var n = i.apply(Fe, Ln([ t ], u));
              return a && h ? n[0] : n;
            };
            l && e && "function" == typeof c && 1 != c.length && (s = l = !1);
            var h = this.__chain__, g = !!this.__actions__.length, p = o && !h, d = s && !g;
            if (!o && l) {
              n = d ? n : new He(this);
              var m = t.apply(n, u);
              return m.__actions__.push({
                func: po,
                args: [ f ],
                thisArg: r
              }), new De(m, h);
            }
            return p && d ? t.apply(this, u) : (m = this.thru(f), p ? a ? m.value()[0] : m.value() : m);
          });
        })), In([ "pop", "push", "shift", "sort", "splice", "unshift" ], (function(t) {
          var n = St[t], e = /^(?:push|sort|unshift)$/.test(t) ? "tap" : "thru", r = /^(?:pop|shift)$/.test(t);
          Fe.prototype[t] = function() {
            var t = arguments;
            if (r && !this.__chain__) {
              var a = this.value();
              return n.apply(Go(a) ? a : [], t);
            }
            return this[e]((function(e) {
              return n.apply(Go(e) ? e : [], t);
            }));
          };
        })), _r(He.prototype, (function(t, n) {
          var e = Fe[n];
          if (e) {
            var r = e.name + "";
            Lt.call(ze, r) || (ze[r] = []), ze[r].push({
              name: n,
              func: e
            });
          }
        })), ze[Fa(r, 2).name] = [ {
          name: "wrapper",
          func: r
        } ], He.prototype.clone = function() {
          var t = new He(this.__wrapped__);
          return t.__actions__ = Ea(this.__actions__), t.__dir__ = this.__dir__, t.__filtered__ = this.__filtered__, 
          t.__iteratees__ = Ea(this.__iteratees__), t.__takeCount__ = this.__takeCount__, 
          t.__views__ = Ea(this.__views__), t;
        }, He.prototype.reverse = function() {
          if (this.__filtered__) {
            var t = new He(this);
            t.__dir__ = -1, t.__filtered__ = !0;
          } else (t = this.clone()).__dir__ *= -1;
          return t;
        }, He.prototype.value = function() {
          var t = this.__wrapped__.value(), n = this.__dir__, e = Go(t), r = n < 0, a = e ? t.length : 0, i = function(t, n, e) {
            var r = -1, a = e.length;
            for (;++r < a; ) {
              var i = e[r], o = i.size;
              switch (i.type) {
               case "drop":
                t += o;
                break;

               case "dropRight":
                n -= o;
                break;

               case "take":
                n = we(n, t + o);
                break;

               case "takeRight":
                t = be(t, n - o);
              }
            }
            return {
              start: t,
              end: n
            };
          }(0, a, this.__views__), o = i.start, u = i.end, s = u - o, c = r ? u : o - 1, l = this.__iteratees__, f = l.length, h = 0, g = we(s, this.__takeCount__);
          if (!e || !r && a == s && g == s) return da(t, this.__actions__);
          var p = [];
          t: for (;s-- && h < g; ) {
            for (var d = -1, m = t[c += n]; ++d < f; ) {
              var v = l[d], y = v.iteratee, b = v.type, w = y(m);
              if (2 == b) m = w; else if (!w) {
                if (1 == b) continue t;
                break t;
              }
            }
            p[h++] = m;
          }
          return p;
        }, Fe.prototype.at = mo, Fe.prototype.chain = function() {
          return go(this);
        }, Fe.prototype.commit = function() {
          return new De(this.value(), this.__chain__);
        }, Fe.prototype.next = function() {
          this.__values__ === r && (this.__values__ = pu(this.value()));
          var t = this.__index__ >= this.__values__.length;
          return {
            done: t,
            value: t ? r : this.__values__[this.__index__++]
          };
        }, Fe.prototype.plant = function(t) {
          for (var n, e = this; e instanceof $e; ) {
            var a = Bi(e);
            a.__index__ = 0, a.__values__ = r, n ? i.__wrapped__ = a : n = a;
            var i = a;
            e = e.__wrapped__;
          }
          return i.__wrapped__ = t, n;
        }, Fe.prototype.reverse = function() {
          var t = this.__wrapped__;
          if (t instanceof He) {
            var n = t;
            return this.__actions__.length && (n = new He(this)), (n = n.reverse()).__actions__.push({
              func: po,
              args: [ no ],
              thisArg: r
            }), new De(n, this.__chain__);
          }
          return this.thru(no);
        }, Fe.prototype.toJSON = Fe.prototype.valueOf = Fe.prototype.value = function() {
          return da(this.__wrapped__, this.__actions__);
        }, Fe.prototype.first = Fe.prototype.head, Yt && (Fe.prototype[Yt] = function() {
          return this;
        }), Fe;
      }();
      "function" == typeof define && "object" == typeof define.amd && define.amd ? (dn._ = ve, 
      define((function() {
        return ve;
      }))) : vn ? ((vn.exports = ve)._ = ve, mn._ = ve) : dn._ = ve;
    }).call(this);
  })), i("aCBW2").register(JSON.parse('{"2xXxC":"background.c37f66b3.js","eDuZR":"icon48.c254de62.png","ib01S":"icon128.7f544e21.png","aqImY":"icon.1eb08798.svg","3an9X":"icon-keyboard-clicking48.ba63116d.png","2T6ly":"offscreen.4471d2b7.html","a4etS":"offscreen.86fbd6ce.js","bzwoj":"whatsNew.bc02af78.html","1AIAE":"whatsNew.f3afe381.css","bYGSi":"onboarding.9f1b2119.html"}'));
  var o, u, s = i("1t74G"), c = (s = i("1t74G"), {});
  u = {
    aliceblue: [ 240, 248, 255 ],
    antiquewhite: [ 250, 235, 215 ],
    aqua: [ 0, 255, 255 ],
    aquamarine: [ 127, 255, 212 ],
    azure: [ 240, 255, 255 ],
    beige: [ 245, 245, 220 ],
    bisque: [ 255, 228, 196 ],
    black: [ 0, 0, 0 ],
    blanchedalmond: [ 255, 235, 205 ],
    blue: [ 0, 0, 255 ],
    blueviolet: [ 138, 43, 226 ],
    brown: [ 165, 42, 42 ],
    burlywood: [ 222, 184, 135 ],
    cadetblue: [ 95, 158, 160 ],
    chartreuse: [ 127, 255, 0 ],
    chocolate: [ 210, 105, 30 ],
    coral: [ 255, 127, 80 ],
    cornflowerblue: [ 100, 149, 237 ],
    cornsilk: [ 255, 248, 220 ],
    crimson: [ 220, 20, 60 ],
    cyan: [ 0, 255, 255 ],
    darkblue: [ 0, 0, 139 ],
    darkcyan: [ 0, 139, 139 ],
    darkgoldenrod: [ 184, 134, 11 ],
    darkgray: [ 169, 169, 169 ],
    darkgreen: [ 0, 100, 0 ],
    darkgrey: [ 169, 169, 169 ],
    darkkhaki: [ 189, 183, 107 ],
    darkmagenta: [ 139, 0, 139 ],
    darkolivegreen: [ 85, 107, 47 ],
    darkorange: [ 255, 140, 0 ],
    darkorchid: [ 153, 50, 204 ],
    darkred: [ 139, 0, 0 ],
    darksalmon: [ 233, 150, 122 ],
    darkseagreen: [ 143, 188, 143 ],
    darkslateblue: [ 72, 61, 139 ],
    darkslategray: [ 47, 79, 79 ],
    darkslategrey: [ 47, 79, 79 ],
    darkturquoise: [ 0, 206, 209 ],
    darkviolet: [ 148, 0, 211 ],
    deeppink: [ 255, 20, 147 ],
    deepskyblue: [ 0, 191, 255 ],
    dimgray: [ 105, 105, 105 ],
    dimgrey: [ 105, 105, 105 ],
    dodgerblue: [ 30, 144, 255 ],
    firebrick: [ 178, 34, 34 ],
    floralwhite: [ 255, 250, 240 ],
    forestgreen: [ 34, 139, 34 ],
    fuchsia: [ 255, 0, 255 ],
    gainsboro: [ 220, 220, 220 ],
    ghostwhite: [ 248, 248, 255 ],
    gold: [ 255, 215, 0 ],
    goldenrod: [ 218, 165, 32 ],
    gray: [ 128, 128, 128 ],
    green: [ 0, 128, 0 ],
    greenyellow: [ 173, 255, 47 ],
    grey: [ 128, 128, 128 ],
    honeydew: [ 240, 255, 240 ],
    hotpink: [ 255, 105, 180 ],
    indianred: [ 205, 92, 92 ],
    indigo: [ 75, 0, 130 ],
    ivory: [ 255, 255, 240 ],
    khaki: [ 240, 230, 140 ],
    lavender: [ 230, 230, 250 ],
    lavenderblush: [ 255, 240, 245 ],
    lawngreen: [ 124, 252, 0 ],
    lemonchiffon: [ 255, 250, 205 ],
    lightblue: [ 173, 216, 230 ],
    lightcoral: [ 240, 128, 128 ],
    lightcyan: [ 224, 255, 255 ],
    lightgoldenrodyellow: [ 250, 250, 210 ],
    lightgray: [ 211, 211, 211 ],
    lightgreen: [ 144, 238, 144 ],
    lightgrey: [ 211, 211, 211 ],
    lightpink: [ 255, 182, 193 ],
    lightsalmon: [ 255, 160, 122 ],
    lightseagreen: [ 32, 178, 170 ],
    lightskyblue: [ 135, 206, 250 ],
    lightslategray: [ 119, 136, 153 ],
    lightslategrey: [ 119, 136, 153 ],
    lightsteelblue: [ 176, 196, 222 ],
    lightyellow: [ 255, 255, 224 ],
    lime: [ 0, 255, 0 ],
    limegreen: [ 50, 205, 50 ],
    linen: [ 250, 240, 230 ],
    magenta: [ 255, 0, 255 ],
    maroon: [ 128, 0, 0 ],
    mediumaquamarine: [ 102, 205, 170 ],
    mediumblue: [ 0, 0, 205 ],
    mediumorchid: [ 186, 85, 211 ],
    mediumpurple: [ 147, 112, 219 ],
    mediumseagreen: [ 60, 179, 113 ],
    mediumslateblue: [ 123, 104, 238 ],
    mediumspringgreen: [ 0, 250, 154 ],
    mediumturquoise: [ 72, 209, 204 ],
    mediumvioletred: [ 199, 21, 133 ],
    midnightblue: [ 25, 25, 112 ],
    mintcream: [ 245, 255, 250 ],
    mistyrose: [ 255, 228, 225 ],
    moccasin: [ 255, 228, 181 ],
    navajowhite: [ 255, 222, 173 ],
    navy: [ 0, 0, 128 ],
    oldlace: [ 253, 245, 230 ],
    olive: [ 128, 128, 0 ],
    olivedrab: [ 107, 142, 35 ],
    orange: [ 255, 165, 0 ],
    orangered: [ 255, 69, 0 ],
    orchid: [ 218, 112, 214 ],
    palegoldenrod: [ 238, 232, 170 ],
    palegreen: [ 152, 251, 152 ],
    paleturquoise: [ 175, 238, 238 ],
    palevioletred: [ 219, 112, 147 ],
    papayawhip: [ 255, 239, 213 ],
    peachpuff: [ 255, 218, 185 ],
    peru: [ 205, 133, 63 ],
    pink: [ 255, 192, 203 ],
    plum: [ 221, 160, 221 ],
    powderblue: [ 176, 224, 230 ],
    purple: [ 128, 0, 128 ],
    rebeccapurple: [ 102, 51, 153 ],
    red: [ 255, 0, 0 ],
    rosybrown: [ 188, 143, 143 ],
    royalblue: [ 65, 105, 225 ],
    saddlebrown: [ 139, 69, 19 ],
    salmon: [ 250, 128, 114 ],
    sandybrown: [ 244, 164, 96 ],
    seagreen: [ 46, 139, 87 ],
    seashell: [ 255, 245, 238 ],
    sienna: [ 160, 82, 45 ],
    silver: [ 192, 192, 192 ],
    skyblue: [ 135, 206, 235 ],
    slateblue: [ 106, 90, 205 ],
    slategray: [ 112, 128, 144 ],
    slategrey: [ 112, 128, 144 ],
    snow: [ 255, 250, 250 ],
    springgreen: [ 0, 255, 127 ],
    steelblue: [ 70, 130, 180 ],
    tan: [ 210, 180, 140 ],
    teal: [ 0, 128, 128 ],
    thistle: [ 216, 191, 216 ],
    tomato: [ 255, 99, 71 ],
    turquoise: [ 64, 224, 208 ],
    violet: [ 238, 130, 238 ],
    wheat: [ 245, 222, 179 ],
    white: [ 255, 255, 255 ],
    whitesmoke: [ 245, 245, 245 ],
    yellow: [ 255, 255, 0 ],
    yellowgreen: [ 154, 205, 50 ]
  };
  var l, f;
  f = function(t) {
    return !(!t || "string" == typeof t) && (t instanceof Array || Array.isArray(t) || t.length >= 0 && (t.splice instanceof Function || Object.getOwnPropertyDescriptor(t, t.length - 1) && "String" !== t.constructor.name));
  };
  var h = Array.prototype.concat, g = Array.prototype.slice, p = l = function(t) {
    for (var n = [], e = 0, r = t.length; e < r; e++) {
      var a = t[e];
      f(a) ? n = h.call(n, g.call(a)) : n.push(a);
    }
    return n;
  };
  p.wrap = function(t) {
    return function() {
      return t(p(arguments));
    };
  };
  var d = Object.hasOwnProperty, m = Object.create(null);
  for (var v in u) d.call(u, v) && (m[u[v]] = v);
  var y = c = {
    to: {},
    get: {}
  };
  function b(t, n, e) {
    return Math.min(Math.max(n, t), e);
  }
  function w(t) {
    var n = Math.round(t).toString(16).toUpperCase();
    return n.length < 2 ? "0" + n : n;
  }
  y.get = function(t) {
    var n, e;
    switch (t.substring(0, 3).toLowerCase()) {
     case "hsl":
      n = y.get.hsl(t), e = "hsl";
      break;

     case "hwb":
      n = y.get.hwb(t), e = "hwb";
      break;

     default:
      n = y.get.rgb(t), e = "rgb";
    }
    return n ? {
      model: e,
      value: n
    } : null;
  }, y.get.rgb = function(t) {
    if (!t) return null;
    var n, e, r, a = [ 0, 0, 0, 1 ];
    if (n = t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)) {
      for (r = n[2], n = n[1], e = 0; e < 3; e++) {
        var i = 2 * e;
        a[e] = parseInt(n.slice(i, i + 2), 16);
      }
      r && (a[3] = parseInt(r, 16) / 255);
    } else if (n = t.match(/^#([a-f0-9]{3,4})$/i)) {
      for (r = (n = n[1])[3], e = 0; e < 3; e++) a[e] = parseInt(n[e] + n[e], 16);
      r && (a[3] = parseInt(r + r, 16) / 255);
    } else if (n = t.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)) {
      for (e = 0; e < 3; e++) a[e] = parseInt(n[e + 1], 0);
      n[4] && (n[5] ? a[3] = .01 * parseFloat(n[4]) : a[3] = parseFloat(n[4]));
    } else {
      if (!(n = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/))) return (n = t.match(/^(\w+)$/)) ? "transparent" === n[1] ? [ 0, 0, 0, 0 ] : d.call(u, n[1]) ? ((a = u[n[1]])[3] = 1, 
      a) : null : null;
      for (e = 0; e < 3; e++) a[e] = Math.round(2.55 * parseFloat(n[e + 1]));
      n[4] && (n[5] ? a[3] = .01 * parseFloat(n[4]) : a[3] = parseFloat(n[4]));
    }
    for (e = 0; e < 3; e++) a[e] = b(a[e], 0, 255);
    return a[3] = b(a[3], 0, 1), a;
  }, y.get.hsl = function(t) {
    if (!t) return null;
    var n = t.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);
    if (n) {
      var e = parseFloat(n[4]);
      return [ (parseFloat(n[1]) % 360 + 360) % 360, b(parseFloat(n[2]), 0, 100), b(parseFloat(n[3]), 0, 100), b(isNaN(e) ? 1 : e, 0, 1) ];
    }
    return null;
  }, y.get.hwb = function(t) {
    if (!t) return null;
    var n = t.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);
    if (n) {
      var e = parseFloat(n[4]);
      return [ (parseFloat(n[1]) % 360 + 360) % 360, b(parseFloat(n[2]), 0, 100), b(parseFloat(n[3]), 0, 100), b(isNaN(e) ? 1 : e, 0, 1) ];
    }
    return null;
  }, y.to.hex = function() {
    var t = l(arguments);
    return "#" + w(t[0]) + w(t[1]) + w(t[2]) + (t[3] < 1 ? w(Math.round(255 * t[3])) : "");
  }, y.to.rgb = function() {
    var t = l(arguments);
    return t.length < 4 || 1 === t[3] ? "rgb(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ")" : "rgba(" + Math.round(t[0]) + ", " + Math.round(t[1]) + ", " + Math.round(t[2]) + ", " + t[3] + ")";
  }, y.to.rgb.percent = function() {
    var t = l(arguments), n = Math.round(t[0] / 255 * 100), e = Math.round(t[1] / 255 * 100), r = Math.round(t[2] / 255 * 100);
    return t.length < 4 || 1 === t[3] ? "rgb(" + n + "%, " + e + "%, " + r + "%)" : "rgba(" + n + "%, " + e + "%, " + r + "%, " + t[3] + ")";
  }, y.to.hsl = function() {
    var t = l(arguments);
    return t.length < 4 || 1 === t[3] ? "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" : "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + t[3] + ")";
  }, y.to.hwb = function() {
    var t = l(arguments), n = "";
    return t.length >= 4 && 1 !== t[3] && (n = ", " + t[3]), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + n + ")";
  }, y.to.keyword = function(t) {
    return m[t.slice(0, 3)];
  };
  var _, x = {};
  const A = {};
  for (const t of Object.keys(u)) A[u[t]] = t;
  const k = {
    rgb: {
      channels: 3,
      labels: "rgb"
    },
    hsl: {
      channels: 3,
      labels: "hsl"
    },
    hsv: {
      channels: 3,
      labels: "hsv"
    },
    hwb: {
      channels: 3,
      labels: "hwb"
    },
    cmyk: {
      channels: 4,
      labels: "cmyk"
    },
    xyz: {
      channels: 3,
      labels: "xyz"
    },
    lab: {
      channels: 3,
      labels: "lab"
    },
    lch: {
      channels: 3,
      labels: "lch"
    },
    hex: {
      channels: 1,
      labels: [ "hex" ]
    },
    keyword: {
      channels: 1,
      labels: [ "keyword" ]
    },
    ansi16: {
      channels: 1,
      labels: [ "ansi16" ]
    },
    ansi256: {
      channels: 1,
      labels: [ "ansi256" ]
    },
    hcg: {
      channels: 3,
      labels: [ "h", "c", "g" ]
    },
    apple: {
      channels: 3,
      labels: [ "r16", "g16", "b16" ]
    },
    gray: {
      channels: 1,
      labels: [ "gray" ]
    }
  };
  _ = k;
  for (const t of Object.keys(k)) {
    if (!("channels" in k[t])) throw new Error("missing channels property: " + t);
    if (!("labels" in k[t])) throw new Error("missing channel labels property: " + t);
    if (k[t].labels.length !== k[t].channels) throw new Error("channel and label counts mismatch: " + t);
    const {channels: n, labels: e} = k[t];
    delete k[t].channels, delete k[t].labels, Object.defineProperty(k[t], "channels", {
      value: n
    }), Object.defineProperty(k[t], "labels", {
      value: e
    });
  }
  k.rgb.hsl = function(t) {
    const n = t[0] / 255, e = t[1] / 255, r = t[2] / 255, a = Math.min(n, e, r), i = Math.max(n, e, r), o = i - a;
    let u, s;
    i === a ? u = 0 : n === i ? u = (e - r) / o : e === i ? u = 2 + (r - n) / o : r === i && (u = 4 + (n - e) / o), 
    u = Math.min(60 * u, 360), u < 0 && (u += 360);
    const c = (a + i) / 2;
    return s = i === a ? 0 : c <= .5 ? o / (i + a) : o / (2 - i - a), [ u, 100 * s, 100 * c ];
  }, k.rgb.hsv = function(t) {
    let n, e, r, a, i;
    const o = t[0] / 255, u = t[1] / 255, s = t[2] / 255, c = Math.max(o, u, s), l = c - Math.min(o, u, s), f = function(t) {
      return (c - t) / 6 / l + .5;
    };
    return 0 === l ? (a = 0, i = 0) : (i = l / c, n = f(o), e = f(u), r = f(s), o === c ? a = r - e : u === c ? a = 1 / 3 + n - r : s === c && (a = 2 / 3 + e - n), 
    a < 0 ? a += 1 : a > 1 && (a -= 1)), [ 360 * a, 100 * i, 100 * c ];
  }, k.rgb.hwb = function(t) {
    const n = t[0], e = t[1];
    let r = t[2];
    const a = k.rgb.hsl(t)[0], i = 1 / 255 * Math.min(n, Math.min(e, r));
    return r = 1 - 1 / 255 * Math.max(n, Math.max(e, r)), [ a, 100 * i, 100 * r ];
  }, k.rgb.cmyk = function(t) {
    const n = t[0] / 255, e = t[1] / 255, r = t[2] / 255, a = Math.min(1 - n, 1 - e, 1 - r);
    return [ 100 * ((1 - n - a) / (1 - a) || 0), 100 * ((1 - e - a) / (1 - a) || 0), 100 * ((1 - r - a) / (1 - a) || 0), 100 * a ];
  }, k.rgb.keyword = function(t) {
    const n = A[t];
    if (n) return n;
    let e, r = 1 / 0;
    for (const n of Object.keys(u)) {
      const o = (i = u[n], ((a = t)[0] - i[0]) ** 2 + (a[1] - i[1]) ** 2 + (a[2] - i[2]) ** 2);
      o < r && (r = o, e = n);
    }
    var a, i;
    return e;
  }, k.keyword.rgb = function(t) {
    return u[t];
  }, k.rgb.xyz = function(t) {
    let n = t[0] / 255, e = t[1] / 255, r = t[2] / 255;
    n = n > .04045 ? ((n + .055) / 1.055) ** 2.4 : n / 12.92, e = e > .04045 ? ((e + .055) / 1.055) ** 2.4 : e / 12.92, 
    r = r > .04045 ? ((r + .055) / 1.055) ** 2.4 : r / 12.92;
    return [ 100 * (.4124 * n + .3576 * e + .1805 * r), 100 * (.2126 * n + .7152 * e + .0722 * r), 100 * (.0193 * n + .1192 * e + .9505 * r) ];
  }, k.rgb.lab = function(t) {
    const n = k.rgb.xyz(t);
    let e = n[0], r = n[1], a = n[2];
    e /= 95.047, r /= 100, a /= 108.883, e = e > .008856 ? e ** (1 / 3) : 7.787 * e + 16 / 116, 
    r = r > .008856 ? r ** (1 / 3) : 7.787 * r + 16 / 116, a = a > .008856 ? a ** (1 / 3) : 7.787 * a + 16 / 116;
    return [ 116 * r - 16, 500 * (e - r), 200 * (r - a) ];
  }, k.hsl.rgb = function(t) {
    const n = t[0] / 360, e = t[1] / 100, r = t[2] / 100;
    let a, i, o;
    if (0 === e) return o = 255 * r, [ o, o, o ];
    a = r < .5 ? r * (1 + e) : r + e - r * e;
    const u = 2 * r - a, s = [ 0, 0, 0 ];
    for (let t = 0; t < 3; t++) i = n + 1 / 3 * -(t - 1), i < 0 && i++, i > 1 && i--, 
    o = 6 * i < 1 ? u + 6 * (a - u) * i : 2 * i < 1 ? a : 3 * i < 2 ? u + (a - u) * (2 / 3 - i) * 6 : u, 
    s[t] = 255 * o;
    return s;
  }, k.hsl.hsv = function(t) {
    const n = t[0];
    let e = t[1] / 100, r = t[2] / 100, a = e;
    const i = Math.max(r, .01);
    r *= 2, e *= r <= 1 ? r : 2 - r, a *= i <= 1 ? i : 2 - i;
    return [ n, 100 * (0 === r ? 2 * a / (i + a) : 2 * e / (r + e)), 100 * ((r + e) / 2) ];
  }, k.hsv.rgb = function(t) {
    const n = t[0] / 60, e = t[1] / 100;
    let r = t[2] / 100;
    const a = Math.floor(n) % 6, i = n - Math.floor(n), o = 255 * r * (1 - e), u = 255 * r * (1 - e * i), s = 255 * r * (1 - e * (1 - i));
    switch (r *= 255, a) {
     case 0:
      return [ r, s, o ];

     case 1:
      return [ u, r, o ];

     case 2:
      return [ o, r, s ];

     case 3:
      return [ o, u, r ];

     case 4:
      return [ s, o, r ];

     case 5:
      return [ r, o, u ];
    }
  }, k.hsv.hsl = function(t) {
    const n = t[0], e = t[1] / 100, r = t[2] / 100, a = Math.max(r, .01);
    let i, o;
    o = (2 - e) * r;
    const u = (2 - e) * a;
    return i = e * a, i /= u <= 1 ? u : 2 - u, i = i || 0, o /= 2, [ n, 100 * i, 100 * o ];
  }, k.hwb.rgb = function(t) {
    const n = t[0] / 360;
    let e = t[1] / 100, r = t[2] / 100;
    const a = e + r;
    let i;
    a > 1 && (e /= a, r /= a);
    const o = Math.floor(6 * n), u = 1 - r;
    i = 6 * n - o, 0 != (1 & o) && (i = 1 - i);
    const s = e + i * (u - e);
    let c, l, f;
    switch (o) {
     default:
     case 6:
     case 0:
      c = u, l = s, f = e;
      break;

     case 1:
      c = s, l = u, f = e;
      break;

     case 2:
      c = e, l = u, f = s;
      break;

     case 3:
      c = e, l = s, f = u;
      break;

     case 4:
      c = s, l = e, f = u;
      break;

     case 5:
      c = u, l = e, f = s;
    }
    return [ 255 * c, 255 * l, 255 * f ];
  }, k.cmyk.rgb = function(t) {
    const n = t[0] / 100, e = t[1] / 100, r = t[2] / 100, a = t[3] / 100;
    return [ 255 * (1 - Math.min(1, n * (1 - a) + a)), 255 * (1 - Math.min(1, e * (1 - a) + a)), 255 * (1 - Math.min(1, r * (1 - a) + a)) ];
  }, k.xyz.rgb = function(t) {
    const n = t[0] / 100, e = t[1] / 100, r = t[2] / 100;
    let a, i, o;
    return a = 3.2406 * n + -1.5372 * e + -.4986 * r, i = -.9689 * n + 1.8758 * e + .0415 * r, 
    o = .0557 * n + -.204 * e + 1.057 * r, a = a > .0031308 ? 1.055 * a ** (1 / 2.4) - .055 : 12.92 * a, 
    i = i > .0031308 ? 1.055 * i ** (1 / 2.4) - .055 : 12.92 * i, o = o > .0031308 ? 1.055 * o ** (1 / 2.4) - .055 : 12.92 * o, 
    a = Math.min(Math.max(0, a), 1), i = Math.min(Math.max(0, i), 1), o = Math.min(Math.max(0, o), 1), 
    [ 255 * a, 255 * i, 255 * o ];
  }, k.xyz.lab = function(t) {
    let n = t[0], e = t[1], r = t[2];
    n /= 95.047, e /= 100, r /= 108.883, n = n > .008856 ? n ** (1 / 3) : 7.787 * n + 16 / 116, 
    e = e > .008856 ? e ** (1 / 3) : 7.787 * e + 16 / 116, r = r > .008856 ? r ** (1 / 3) : 7.787 * r + 16 / 116;
    return [ 116 * e - 16, 500 * (n - e), 200 * (e - r) ];
  }, k.lab.xyz = function(t) {
    let n, e, r;
    e = (t[0] + 16) / 116, n = t[1] / 500 + e, r = e - t[2] / 200;
    const a = e ** 3, i = n ** 3, o = r ** 3;
    return e = a > .008856 ? a : (e - 16 / 116) / 7.787, n = i > .008856 ? i : (n - 16 / 116) / 7.787, 
    r = o > .008856 ? o : (r - 16 / 116) / 7.787, n *= 95.047, e *= 100, r *= 108.883, 
    [ n, e, r ];
  }, k.lab.lch = function(t) {
    const n = t[0], e = t[1], r = t[2];
    let a;
    a = 360 * Math.atan2(r, e) / 2 / Math.PI, a < 0 && (a += 360);
    return [ n, Math.sqrt(e * e + r * r), a ];
  }, k.lch.lab = function(t) {
    const n = t[0], e = t[1], r = t[2] / 360 * 2 * Math.PI;
    return [ n, e * Math.cos(r), e * Math.sin(r) ];
  }, k.rgb.ansi16 = function(t, n = null) {
    const [e, r, a] = t;
    let i = null === n ? k.rgb.hsv(t)[2] : n;
    if (i = Math.round(i / 50), 0 === i) return 30;
    let o = 30 + (Math.round(a / 255) << 2 | Math.round(r / 255) << 1 | Math.round(e / 255));
    return 2 === i && (o += 60), o;
  }, k.hsv.ansi16 = function(t) {
    return k.rgb.ansi16(k.hsv.rgb(t), t[2]);
  }, k.rgb.ansi256 = function(t) {
    const n = t[0], e = t[1], r = t[2];
    if (n === e && e === r) return n < 8 ? 16 : n > 248 ? 231 : Math.round((n - 8) / 247 * 24) + 232;
    return 16 + 36 * Math.round(n / 255 * 5) + 6 * Math.round(e / 255 * 5) + Math.round(r / 255 * 5);
  }, k.ansi16.rgb = function(t) {
    let n = t % 10;
    if (0 === n || 7 === n) return t > 50 && (n += 3.5), n = n / 10.5 * 255, [ n, n, n ];
    const e = .5 * (1 + ~~(t > 50));
    return [ (1 & n) * e * 255, (n >> 1 & 1) * e * 255, (n >> 2 & 1) * e * 255 ];
  }, k.ansi256.rgb = function(t) {
    if (t >= 232) {
      const n = 10 * (t - 232) + 8;
      return [ n, n, n ];
    }
    let n;
    t -= 16;
    return [ Math.floor(t / 36) / 5 * 255, Math.floor((n = t % 36) / 6) / 5 * 255, n % 6 / 5 * 255 ];
  }, k.rgb.hex = function(t) {
    const n = (((255 & Math.round(t[0])) << 16) + ((255 & Math.round(t[1])) << 8) + (255 & Math.round(t[2]))).toString(16).toUpperCase();
    return "000000".substring(n.length) + n;
  }, k.hex.rgb = function(t) {
    const n = t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
    if (!n) return [ 0, 0, 0 ];
    let e = n[0];
    3 === n[0].length && (e = e.split("").map((t => t + t)).join(""));
    const r = parseInt(e, 16);
    return [ r >> 16 & 255, r >> 8 & 255, 255 & r ];
  }, k.rgb.hcg = function(t) {
    const n = t[0] / 255, e = t[1] / 255, r = t[2] / 255, a = Math.max(Math.max(n, e), r), i = Math.min(Math.min(n, e), r), o = a - i;
    let u, s;
    return u = o < 1 ? i / (1 - o) : 0, s = o <= 0 ? 0 : a === n ? (e - r) / o % 6 : a === e ? 2 + (r - n) / o : 4 + (n - e) / o, 
    s /= 6, s %= 1, [ 360 * s, 100 * o, 100 * u ];
  }, k.hsl.hcg = function(t) {
    const n = t[1] / 100, e = t[2] / 100, r = e < .5 ? 2 * n * e : 2 * n * (1 - e);
    let a = 0;
    return r < 1 && (a = (e - .5 * r) / (1 - r)), [ t[0], 100 * r, 100 * a ];
  }, k.hsv.hcg = function(t) {
    const n = t[1] / 100, e = t[2] / 100, r = n * e;
    let a = 0;
    return r < 1 && (a = (e - r) / (1 - r)), [ t[0], 100 * r, 100 * a ];
  }, k.hcg.rgb = function(t) {
    const n = t[0] / 360, e = t[1] / 100, r = t[2] / 100;
    if (0 === e) return [ 255 * r, 255 * r, 255 * r ];
    const a = [ 0, 0, 0 ], i = n % 1 * 6, o = i % 1, u = 1 - o;
    let s = 0;
    switch (Math.floor(i)) {
     case 0:
      a[0] = 1, a[1] = o, a[2] = 0;
      break;

     case 1:
      a[0] = u, a[1] = 1, a[2] = 0;
      break;

     case 2:
      a[0] = 0, a[1] = 1, a[2] = o;
      break;

     case 3:
      a[0] = 0, a[1] = u, a[2] = 1;
      break;

     case 4:
      a[0] = o, a[1] = 0, a[2] = 1;
      break;

     default:
      a[0] = 1, a[1] = 0, a[2] = u;
    }
    return s = (1 - e) * r, [ 255 * (e * a[0] + s), 255 * (e * a[1] + s), 255 * (e * a[2] + s) ];
  }, k.hcg.hsv = function(t) {
    const n = t[1] / 100, e = n + t[2] / 100 * (1 - n);
    let r = 0;
    return e > 0 && (r = n / e), [ t[0], 100 * r, 100 * e ];
  }, k.hcg.hsl = function(t) {
    const n = t[1] / 100, e = t[2] / 100 * (1 - n) + .5 * n;
    let r = 0;
    return e > 0 && e < .5 ? r = n / (2 * e) : e >= .5 && e < 1 && (r = n / (2 * (1 - e))), 
    [ t[0], 100 * r, 100 * e ];
  }, k.hcg.hwb = function(t) {
    const n = t[1] / 100, e = n + t[2] / 100 * (1 - n);
    return [ t[0], 100 * (e - n), 100 * (1 - e) ];
  }, k.hwb.hcg = function(t) {
    const n = t[1] / 100, e = 1 - t[2] / 100, r = e - n;
    let a = 0;
    return r < 1 && (a = (e - r) / (1 - r)), [ t[0], 100 * r, 100 * a ];
  }, k.apple.rgb = function(t) {
    return [ t[0] / 65535 * 255, t[1] / 65535 * 255, t[2] / 65535 * 255 ];
  }, k.rgb.apple = function(t) {
    return [ t[0] / 255 * 65535, t[1] / 255 * 65535, t[2] / 255 * 65535 ];
  }, k.gray.rgb = function(t) {
    return [ t[0] / 100 * 255, t[0] / 100 * 255, t[0] / 100 * 255 ];
  }, k.gray.hsl = function(t) {
    return [ 0, 0, t[0] ];
  }, k.gray.hsv = k.gray.hsl, k.gray.hwb = function(t) {
    return [ 0, 100, t[0] ];
  }, k.gray.cmyk = function(t) {
    return [ 0, 0, 0, t[0] ];
  }, k.gray.lab = function(t) {
    return [ t[0], 0, 0 ];
  }, k.gray.hex = function(t) {
    const n = 255 & Math.round(t[0] / 100 * 255), e = ((n << 16) + (n << 8) + n).toString(16).toUpperCase();
    return "000000".substring(e.length) + e;
  }, k.rgb.gray = function(t) {
    return [ (t[0] + t[1] + t[2]) / 3 / 255 * 100 ];
  };
  var j;
  function T(t) {
    const n = function() {
      const t = {}, n = Object.keys(_);
      for (let e = n.length, r = 0; r < e; r++) t[n[r]] = {
        distance: -1,
        parent: null
      };
      return t;
    }(), e = [ t ];
    for (n[t].distance = 0; e.length; ) {
      const t = e.pop(), r = Object.keys(_[t]);
      for (let a = r.length, i = 0; i < a; i++) {
        const a = r[i], o = n[a];
        -1 === o.distance && (o.distance = n[t].distance + 1, o.parent = t, e.unshift(a));
      }
    }
    return n;
  }
  function M(t, n) {
    return function(e) {
      return n(t(e));
    };
  }
  function C(t, n) {
    const e = [ n[t].parent, t ];
    let r = _[n[t].parent][t], a = n[t].parent;
    for (;n[a].parent; ) e.unshift(n[a].parent), r = M(_[n[a].parent][a], r), a = n[a].parent;
    return r.conversion = e, r;
  }
  j = function(t) {
    const n = T(t), e = {}, r = Object.keys(n);
    for (let t = r.length, a = 0; a < t; a++) {
      const t = r[a];
      null !== n[t].parent && (e[t] = C(t, n));
    }
    return e;
  };
  const I = {};
  Object.keys(_).forEach((t => {
    I[t] = {}, Object.defineProperty(I[t], "channels", {
      value: _[t].channels
    }), Object.defineProperty(I[t], "labels", {
      value: _[t].labels
    });
    const n = j(t);
    Object.keys(n).forEach((e => {
      const r = n[e];
      I[t][e] = function(t) {
        const n = function(...n) {
          const e = n[0];
          if (null == e) return e;
          e.length > 1 && (n = e);
          const r = t(n);
          if ("object" == typeof r) for (let t = r.length, n = 0; n < t; n++) r[n] = Math.round(r[n]);
          return r;
        };
        return "conversion" in t && (n.conversion = t.conversion), n;
      }(r), I[t][e].raw = function(t) {
        const n = function(...n) {
          const e = n[0];
          return null == e ? e : (e.length > 1 && (n = e), t(n));
        };
        return "conversion" in t && (n.conversion = t.conversion), n;
      }(r);
    }));
  })), x = I;
  const E = [ "keyword", "gray", "hex" ], S = {};
  for (const t of Object.keys(x)) S[[ ...x[t].labels ].sort().join("")] = t;
  const z = {};
  function O(t, n) {
    if (!(this instanceof O)) return new O(t, n);
    if (n && n in E && (n = null), n && !(n in x)) throw new Error("Unknown model: " + n);
    let e, r;
    if (null == t) this.model = "rgb", this.color = [ 0, 0, 0 ], this.valpha = 1; else if (t instanceof O) this.model = t.model, 
    this.color = [ ...t.color ], this.valpha = t.valpha; else if ("string" == typeof t) {
      const n = c.get(t);
      if (null === n) throw new Error("Unable to parse color from string: " + t);
      this.model = n.model, r = x[this.model].channels, this.color = n.value.slice(0, r), 
      this.valpha = "number" == typeof n.value[r] ? n.value[r] : 1;
    } else if (t.length > 0) {
      this.model = n || "rgb", r = x[this.model].channels;
      const e = Array.prototype.slice.call(t, 0, r);
      this.color = P(e, r), this.valpha = "number" == typeof t[r] ? t[r] : 1;
    } else if ("number" == typeof t) this.model = "rgb", this.color = [ t >> 16 & 255, t >> 8 & 255, 255 & t ], 
    this.valpha = 1; else {
      this.valpha = 1;
      const n = Object.keys(t);
      "alpha" in t && (n.splice(n.indexOf("alpha"), 1), this.valpha = "number" == typeof t.alpha ? t.alpha : 0);
      const r = n.sort().join("");
      if (!(r in S)) throw new Error("Unable to parse color from object: " + JSON.stringify(t));
      this.model = S[r];
      const {labels: a} = x[this.model], i = [];
      for (e = 0; e < a.length; e++) i.push(t[a[e]]);
      this.color = P(i);
    }
    if (z[this.model]) for (r = x[this.model].channels, e = 0; e < r; e++) {
      const t = z[this.model][e];
      t && (this.color[e] = t(this.color[e]));
    }
    this.valpha = Math.max(0, Math.min(1, this.valpha)), Object.freeze && Object.freeze(this);
  }
  O.prototype = {
    toString() {
      return this.string();
    },
    toJSON() {
      return this[this.model]();
    },
    string(t) {
      let n = this.model in c.to ? this : this.rgb();
      n = n.round("number" == typeof t ? t : 1);
      const e = 1 === n.valpha ? n.color : [ ...n.color, this.valpha ];
      return c.to[n.model](e);
    },
    percentString(t) {
      const n = this.rgb().round("number" == typeof t ? t : 1), e = 1 === n.valpha ? n.color : [ ...n.color, this.valpha ];
      return c.to.rgb.percent(e);
    },
    array() {
      return 1 === this.valpha ? [ ...this.color ] : [ ...this.color, this.valpha ];
    },
    object() {
      const t = {}, {channels: n} = x[this.model], {labels: e} = x[this.model];
      for (let r = 0; r < n; r++) t[e[r]] = this.color[r];
      return 1 !== this.valpha && (t.alpha = this.valpha), t;
    },
    unitArray() {
      const t = this.rgb().color;
      return t[0] /= 255, t[1] /= 255, t[2] /= 255, 1 !== this.valpha && t.push(this.valpha), 
      t;
    },
    unitObject() {
      const t = this.rgb().object();
      return t.r /= 255, t.g /= 255, t.b /= 255, 1 !== this.valpha && (t.alpha = this.valpha), 
      t;
    },
    round(t) {
      return t = Math.max(t || 0, 0), new O([ ...this.color.map(R(t)), this.valpha ], this.model);
    },
    alpha(t) {
      return void 0 !== t ? new O([ ...this.color, Math.max(0, Math.min(1, t)) ], this.model) : this.valpha;
    },
    red: q("rgb", 0, L(255)),
    green: q("rgb", 1, L(255)),
    blue: q("rgb", 2, L(255)),
    hue: q([ "hsl", "hsv", "hsl", "hwb", "hcg" ], 0, (t => (t % 360 + 360) % 360)),
    saturationl: q("hsl", 1, L(100)),
    lightness: q("hsl", 2, L(100)),
    saturationv: q("hsv", 1, L(100)),
    value: q("hsv", 2, L(100)),
    chroma: q("hcg", 1, L(100)),
    gray: q("hcg", 2, L(100)),
    white: q("hwb", 1, L(100)),
    wblack: q("hwb", 2, L(100)),
    cyan: q("cmyk", 0, L(100)),
    magenta: q("cmyk", 1, L(100)),
    yellow: q("cmyk", 2, L(100)),
    black: q("cmyk", 3, L(100)),
    x: q("xyz", 0, L(95.047)),
    y: q("xyz", 1, L(100)),
    z: q("xyz", 2, L(108.833)),
    l: q("lab", 0, L(100)),
    a: q("lab", 1),
    b: q("lab", 2),
    keyword(t) {
      return void 0 !== t ? new O(t) : x[this.model].keyword(this.color);
    },
    hex(t) {
      return void 0 !== t ? new O(t) : c.to.hex(this.rgb().round().color);
    },
    hexa(t) {
      if (void 0 !== t) return new O(t);
      const n = this.rgb().round().color;
      let e = Math.round(255 * this.valpha).toString(16).toUpperCase();
      return 1 === e.length && (e = "0" + e), c.to.hex(n) + e;
    },
    rgbNumber() {
      const t = this.rgb().color;
      return (255 & t[0]) << 16 | (255 & t[1]) << 8 | 255 & t[2];
    },
    luminosity() {
      const t = this.rgb().color, n = [];
      for (const [e, r] of t.entries()) {
        const t = r / 255;
        n[e] = t <= .04045 ? t / 12.92 : ((t + .055) / 1.055) ** 2.4;
      }
      return .2126 * n[0] + .7152 * n[1] + .0722 * n[2];
    },
    contrast(t) {
      const n = this.luminosity(), e = t.luminosity();
      return n > e ? (n + .05) / (e + .05) : (e + .05) / (n + .05);
    },
    level(t) {
      const n = this.contrast(t);
      return n >= 7 ? "AAA" : n >= 4.5 ? "AA" : "";
    },
    isDark() {
      const t = this.rgb().color;
      return (2126 * t[0] + 7152 * t[1] + 722 * t[2]) / 1e4 < 128;
    },
    isLight() {
      return !this.isDark();
    },
    negate() {
      const t = this.rgb();
      for (let n = 0; n < 3; n++) t.color[n] = 255 - t.color[n];
      return t;
    },
    lighten(t) {
      const n = this.hsl();
      return n.color[2] += n.color[2] * t, n;
    },
    darken(t) {
      const n = this.hsl();
      return n.color[2] -= n.color[2] * t, n;
    },
    saturate(t) {
      const n = this.hsl();
      return n.color[1] += n.color[1] * t, n;
    },
    desaturate(t) {
      const n = this.hsl();
      return n.color[1] -= n.color[1] * t, n;
    },
    whiten(t) {
      const n = this.hwb();
      return n.color[1] += n.color[1] * t, n;
    },
    blacken(t) {
      const n = this.hwb();
      return n.color[2] += n.color[2] * t, n;
    },
    grayscale() {
      const t = this.rgb().color, n = .3 * t[0] + .59 * t[1] + .11 * t[2];
      return O.rgb(n, n, n);
    },
    fade(t) {
      return this.alpha(this.valpha - this.valpha * t);
    },
    opaquer(t) {
      return this.alpha(this.valpha + this.valpha * t);
    },
    rotate(t) {
      const n = this.hsl();
      let e = n.color[0];
      return e = (e + t) % 360, e = e < 0 ? 360 + e : e, n.color[0] = e, n;
    },
    mix(t, n) {
      if (!t || !t.rgb) throw new Error('Argument to "mix" was not a Color instance, but rather an instance of ' + typeof t);
      const e = t.rgb(), r = this.rgb(), a = void 0 === n ? .5 : n, i = 2 * a - 1, o = e.alpha() - r.alpha(), u = ((i * o == -1 ? i : (i + o) / (1 + i * o)) + 1) / 2, s = 1 - u;
      return O.rgb(u * e.red() + s * r.red(), u * e.green() + s * r.green(), u * e.blue() + s * r.blue(), e.alpha() * a + r.alpha() * (1 - a));
    }
  };
  for (const t of Object.keys(x)) {
    if (E.includes(t)) continue;
    const {channels: n} = x[t];
    O.prototype[t] = function(...n) {
      return this.model === t ? new O(this) : n.length > 0 ? new O(n, t) : new O([ ...(e = x[this.model][t].raw(this.color), 
      Array.isArray(e) ? e : [ e ]), this.valpha ], t);
      var e;
    }, O[t] = function(...e) {
      let r = e[0];
      return "number" == typeof r && (r = P(e, n)), new O(r, t);
    };
  }
  function R(t) {
    return function(n) {
      return function(t, n) {
        return Number(t.toFixed(n));
      }(n, t);
    };
  }
  function q(t, n, e) {
    t = Array.isArray(t) ? t : [ t ];
    for (const r of t) (z[r] || (z[r] = []))[n] = e;
    return t = t[0], function(r) {
      let a;
      return void 0 !== r ? (e && (r = e(r)), a = this[t](), a.color[n] = r, a) : (a = this[t]().color[n], 
      e && (a = e(a)), a);
    };
  }
  function L(t) {
    return function(n) {
      return Math.max(0, Math.min(t, n));
    };
  }
  function P(t, n) {
    for (let e = 0; e < n; e++) "number" != typeof t[e] && (t[e] = 0);
    return t;
  }
  o = O;
  const N = {
    hintUppercaseLetters: !1,
    hintFontFamily: "source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace",
    hintFontSize: 10,
    hintWeight: "auto",
    hintBackgroundColor: "",
    hintBackgroundOpacity: 1,
    hintFontColor: "",
    hintBorderWidth: 1,
    hintBorderRadius: 3,
    hintMinimumContrastRatio: 4,
    scrollBehavior: "auto",
    hintsToggleGlobal: !0,
    hintsToggleHosts: new Map,
    hintsTogglePaths: new Map,
    hintsToggleTabs: new Map,
    enableNotifications: !0,
    toastPosition: "top-center",
    toastTransition: "bounce",
    toastDuration: 5e3,
    includeSingleLetterHints: !0,
    urlInTitle: !0,
    includeTabMarkers: !0,
    uppercaseTabMarkers: !0,
    keyboardClicking: !1,
    customSelectors: new Map,
    showWhatsNewPageOnUpdate: !0,
    newTabPosition: "relatedAfterCurrent",
    hasSeenSettingsPage: !1,
    directClickWithNoFocusedDocument: !1,
    directClickWhenEditing: !0
  };
  function W(t) {
    if (!t) return !0;
    try {
      new (e(o))(t);
    } catch {
      return !1;
    }
    return !0;
  }
  function B(t, n, e) {
    return t >= n && t <= e;
  }
  const F = {
    hintBackgroundColor: W,
    hintFontColor: W,
    hintFontSize: t => B(t, 6, 72),
    hintBorderRadius: t => B(t, 0, 72),
    hintBorderWidth: t => B(t, 0, 72),
    hintBackgroundOpacity: t => "" !== t && B(t, 0, 1),
    hintMinimumContrastRatio: t => B(t, 2.5, 21)
  };
  function U(t) {
    return t in N;
  }
  function $(t, n) {
    if (!U(t)) return !1;
    const e = F[t];
    return void 0 === e || e(n);
  }
  s = i("1t74G");
  const D = new Set([ "hintsToggleTabs", "tabsByRecency", "hintsStacks", "tabMarkers" ]);
  function H(t, n) {
    return n instanceof Map ? {
      dataType: "Map",
      value: Array.from(n.entries())
    } : n;
  }
  function G(t, n) {
    return "object" == typeof n && null !== n && "Map" === n.dataType && n.value ? new Map(n.value) : n;
  }
  async function K(t, n, r) {
    if (U(t) && !$(t, n)) return;
    const a = JSON.stringify(n, H);
    await (!1 === r || void 0 === r && D.has(t) ? e(s).storage.local.set({
      [t]: a
    }) : e(s).storage.sync.set({
      [t]: a
    }));
  }
  async function Z(t, n) {
    return void 0 !== (!1 === n || void 0 === n && D.has(t) ? await e(s).storage.local.get(t) : await e(s).storage.sync.get(t))[t];
  }
  async function J(t, n, e) {
    await Z(t, e) || await K(t, n, e);
  }
  async function X(t, n) {
    const r = !1 === n || void 0 === n && D.has(t) ? await e(s).storage.local.get(t) : await e(s).storage.sync.get(t), [a] = Object.values(r);
    try {
      const e = JSON.parse(a, G);
      if ("customSelectors" === t && !(e instanceof Map)) {
        const r = new Map(Object.entries(e));
        return await K(t, r, n), r;
      }
      return e;
    } catch {
      return a;
    }
  }
  var V;
  V = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("eDuZR");
  var Y;
  Y = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("ib01S");
  var Q;
  Q = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("aqImY");
  var tt;
  tt = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("3an9X");
  var nt;
  nt = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("2T6ly");
  var et;
  et = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("bzwoj");
  var rt;
  rt = i("bbtrO").getBundleURL("2xXxC") + i("aCBW2").resolve("bYGSi");
  const at = {
    icon48: new URL(V),
    icon128: new URL(Y),
    iconSvg: new URL(Q),
    iconKeyboard48: new URL(tt),
    offscreenDocument: new URL(nt),
    whatsNewPage: new URL(et),
    onboarding: new URL(rt)
  };
  s = i("1t74G"), s = i("1t74G");
  function it(t) {
    if (null == t) throw new Error("Fatal error: value must not be null/undefined.");
  }
  function ot(t) {
    return "fulfilled" === t.status;
  }
  s = i("1t74G");
  async function ut() {
    const t = (await e(s).tabs.query({
      currentWindow: !0,
      active: !0
    }))[0];
    if (!t) throw new Error("Unable to retrieve the current tab");
    return t;
  }
  async function st() {
    const t = await ut();
    if (!t.id) throw new Error("Unable to retrieve the current tab id");
    return t.id;
  }
  s = i("1t74G");
  function ct(t, n, e, r) {
    return new (e || (e = Promise))((function(a, i) {
      function o(t) {
        try {
          s(r.next(t));
        } catch (t) {
          i(t);
        }
      }
      function u(t) {
        try {
          s(r.throw(t));
        } catch (t) {
          i(t);
        }
      }
      function s(t) {
        var n;
        t.done ? a(t.value) : (n = t.value, n instanceof e ? n : new e((function(t) {
          t(n);
        }))).then(o, u);
      }
      s((r = r.apply(t, n || [])).next());
    }));
  }
  function lt(t, n) {
    var e, r, a, i, o = {
      label: 0,
      sent: function() {
        if (1 & a[0]) throw a[1];
        return a[1];
      },
      trys: [],
      ops: []
    };
    return i = {
      next: u(0),
      throw: u(1),
      return: u(2)
    }, "function" == typeof Symbol && (i[Symbol.iterator] = function() {
      return this;
    }), i;
    function u(u) {
      return function(s) {
        return function(u) {
          if (e) throw new TypeError("Generator is already executing.");
          for (;i && (i = 0, u[0] && (o = 0)), o; ) try {
            if (e = 1, r && (a = 2 & u[0] ? r.return : u[0] ? r.throw || ((a = r.return) && a.call(r), 
            0) : r.next) && !(a = a.call(r, u[1])).done) return a;
            switch (r = 0, a && (u = [ 2 & u[0], a.value ]), u[0]) {
             case 0:
             case 1:
              a = u;
              break;

             case 4:
              return o.label++, {
                value: u[1],
                done: !1
              };

             case 5:
              o.label++, r = u[1], u = [ 0 ];
              continue;

             case 7:
              u = o.ops.pop(), o.trys.pop();
              continue;

             default:
              if (!(a = o.trys, (a = a.length > 0 && a[a.length - 1]) || 6 !== u[0] && 2 !== u[0])) {
                o = 0;
                continue;
              }
              if (3 === u[0] && (!a || u[1] > a[0] && u[1] < a[3])) {
                o.label = u[1];
                break;
              }
              if (6 === u[0] && o.label < a[1]) {
                o.label = a[1], a = u;
                break;
              }
              if (a && o.label < a[2]) {
                o.label = a[2], o.ops.push(u);
                break;
              }
              a[2] && o.ops.pop(), o.trys.pop();
              continue;
            }
            u = n.call(t, o);
          } catch (t) {
            u = [ 6, t ], r = 0;
          } finally {
            e = a = 0;
          }
          if (5 & u[0]) throw u[1];
          return {
            value: u[0] ? u[1] : void 0,
            done: !0
          };
        }([ u, s ]);
      };
    }
  }
  Object.create;
  Object.create;
  new Error("timeout while waiting for mutex to become available"), new Error("mutex already locked");
  var ft = new Error("request for lock canceled"), ht = function() {
    function t(t, n) {
      if (void 0 === n && (n = ft), this._maxConcurrency = t, this._cancelError = n, this._queue = [], 
      this._waiters = [], t <= 0) throw new Error("semaphore must be initialized to a positive value");
      this._value = t;
    }
    return t.prototype.acquire = function() {
      var t = this, n = this.isLocked(), e = new Promise((function(n, e) {
        return t._queue.push({
          resolve: n,
          reject: e
        });
      }));
      return n || this._dispatch(), e;
    }, t.prototype.runExclusive = function(t) {
      return ct(this, void 0, void 0, (function() {
        var n, e, r;
        return lt(this, (function(a) {
          switch (a.label) {
           case 0:
            return [ 4, this.acquire() ];

           case 1:
            n = a.sent(), e = n[0], r = n[1], a.label = 2;

           case 2:
            return a.trys.push([ 2, , 4, 5 ]), [ 4, t(e) ];

           case 3:
            return [ 2, a.sent() ];

           case 4:
            return r(), [ 7 ];

           case 5:
            return [ 2 ];
          }
        }));
      }));
    }, t.prototype.waitForUnlock = function() {
      return ct(this, void 0, void 0, (function() {
        var t = this;
        return lt(this, (function(n) {
          return this.isLocked() ? [ 2, new Promise((function(n) {
            return t._waiters.push({
              resolve: n
            });
          })) ] : [ 2, Promise.resolve() ];
        }));
      }));
    }, t.prototype.isLocked = function() {
      return this._value <= 0;
    }, t.prototype.release = function() {
      if (this._maxConcurrency > 1) throw new Error("this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead");
      if (this._currentReleaser) {
        var t = this._currentReleaser;
        this._currentReleaser = void 0, t();
      }
    }, t.prototype.cancel = function() {
      var t = this;
      this._queue.forEach((function(n) {
        return n.reject(t._cancelError);
      })), this._queue = [];
    }, t.prototype._dispatch = function() {
      var t = this, n = this._queue.shift();
      if (n) {
        var e = !1;
        this._currentReleaser = function() {
          e || (e = !0, t._value++, t._resolveWaiters(), t._dispatch());
        }, n.resolve([ this._value--, this._currentReleaser ]);
      }
    }, t.prototype._resolveWaiters = function() {
      this._waiters.forEach((function(t) {
        return t.resolve();
      })), this._waiters = [];
    }, t;
  }(), gt = function() {
    function t(t) {
      this._semaphore = new ht(1, t);
    }
    return t.prototype.acquire = function() {
      return ct(this, void 0, void 0, (function() {
        var t;
        return lt(this, (function(n) {
          switch (n.label) {
           case 0:
            return [ 4, this._semaphore.acquire() ];

           case 1:
            return t = n.sent(), [ 2, t[1] ];
          }
        }));
      }));
    }, t.prototype.runExclusive = function(t) {
      return this._semaphore.runExclusive((function() {
        return t();
      }));
    }, t.prototype.isLocked = function() {
      return this._semaphore.isLocked();
    }, t.prototype.waitForUnlock = function() {
      return this._semaphore.waitForUnlock();
    }, t.prototype.release = function() {
      this._semaphore.release();
    }, t.prototype.cancel = function() {
      return this._semaphore.cancel();
    }, t;
  }();
  const pt = [ "zz", "zy", "zx", "zw", "zv", "zu", "zt", "zs", "zr", "zq", "zp", "zo", "zn", "zm", "zl", "zk", "zj", "zi", "zh", "zg", "zf", "ze", "zd", "zc", "zb", "za", "yz", "yy", "yx", "yw", "yv", "yu", "yt", "ys", "yr", "yq", "yp", "yo", "yn", "ym", "yl", "yk", "yj", "yi", "yh", "yg", "yf", "ye", "yd", "yc", "yb", "ya", "xz", "xy", "xx", "xw", "xv", "xu", "xt", "xs", "xr", "xq", "xp", "xo", "xn", "xm", "xl", "xk", "xj", "xi", "xh", "xg", "xf", "xe", "xd", "xc", "xb", "xa", "wz", "wy", "wx", "ww", "wv", "wu", "wt", "ws", "wr", "wq", "wp", "wo", "wn", "wm", "wl", "wk", "wj", "wi", "wh", "wg", "wf", "we", "wd", "wc", "wb", "wa", "vz", "vy", "vx", "vw", "vv", "vu", "vt", "vs", "vr", "vq", "vp", "vo", "vn", "vm", "vl", "vk", "vj", "vi", "vh", "vg", "vf", "ve", "vd", "vc", "vb", "va", "uz", "uy", "ux", "uw", "uv", "uu", "ut", "us", "ur", "uq", "up", "uo", "un", "um", "ul", "uk", "uj", "ui", "uh", "ug", "uf", "ue", "ud", "uc", "ub", "ua", "tz", "ty", "tx", "tw", "tv", "tu", "tt", "ts", "tr", "tq", "tp", "to", "tn", "tm", "tl", "tk", "tj", "ti", "th", "tg", "tf", "te", "td", "tc", "tb", "ta", "sz", "sy", "sx", "sw", "sv", "su", "st", "ss", "sr", "sq", "sp", "so", "sn", "sm", "sl", "sk", "sj", "si", "sh", "sg", "sf", "se", "sd", "sc", "sb", "sa", "rz", "ry", "rx", "rw", "rv", "ru", "rt", "rs", "rr", "rq", "rp", "ro", "rn", "rm", "rl", "rk", "rj", "ri", "rh", "rg", "rf", "re", "rd", "rc", "rb", "ra", "qz", "qy", "qx", "qw", "qv", "qu", "qt", "qs", "qr", "qq", "qp", "qo", "qn", "qm", "ql", "qk", "qj", "qi", "qh", "qg", "qf", "qe", "qd", "qc", "qb", "qa", "pz", "py", "px", "pw", "pv", "pu", "pt", "ps", "pr", "pq", "pp", "po", "pn", "pm", "pl", "pk", "pj", "pi", "ph", "pg", "pf", "pe", "pd", "pc", "pb", "pa", "oz", "oy", "ox", "ow", "ov", "ou", "ot", "os", "or", "oq", "op", "oo", "on", "om", "ol", "ok", "oj", "oi", "oh", "og", "of", "oe", "od", "oc", "ob", "oa", "nz", "ny", "nx", "nw", "nv", "nu", "nt", "ns", "nr", "nq", "np", "no", "nn", "nm", "nl", "nk", "nj", "ni", "nh", "ng", "nf", "ne", "nd", "nc", "nb", "na", "mz", "my", "mx", "mw", "mv", "mu", "mt", "ms", "mr", "mq", "mp", "mo", "mn", "mm", "ml", "mk", "mj", "mi", "mh", "mg", "mf", "me", "md", "mc", "mb", "ma", "lz", "ly", "lx", "lw", "lv", "lu", "lt", "ls", "lr", "lq", "lp", "lo", "ln", "lm", "ll", "lk", "lj", "li", "lh", "lg", "lf", "le", "ld", "lc", "lb", "la", "kz", "ky", "kx", "kw", "kv", "ku", "kt", "ks", "kr", "kq", "kp", "ko", "kn", "km", "kl", "kk", "kj", "ki", "kh", "kg", "kf", "ke", "kd", "kc", "kb", "ka", "jz", "jy", "jx", "jw", "jv", "ju", "jt", "js", "jr", "jq", "jp", "jo", "jn", "jm", "jl", "jk", "jj", "ji", "jh", "jg", "jf", "je", "jd", "jc", "jb", "ja", "iz", "iy", "ix", "iw", "iv", "iu", "it", "is", "ir", "iq", "ip", "io", "in", "im", "il", "ik", "ij", "ii", "ih", "ig", "if", "ie", "id", "ic", "ib", "ia", "hz", "hy", "hx", "hw", "hv", "hu", "ht", "hs", "hr", "hq", "hp", "ho", "hn", "hm", "hl", "hk", "hj", "hi", "hh", "hg", "hf", "he", "hd", "hc", "hb", "ha", "gz", "gy", "gx", "gw", "gv", "gu", "gt", "gs", "gr", "gq", "gp", "go", "gn", "gm", "gl", "gk", "gj", "gi", "gh", "gg", "gf", "ge", "gd", "gc", "gb", "ga", "fz", "fy", "fx", "fw", "fv", "fu", "ft", "fs", "fr", "fq", "fp", "fo", "fn", "fm", "fl", "fk", "fj", "fi", "fh", "fg", "ff", "fe", "fd", "fc", "fb", "fa", "ez", "ey", "ex", "ew", "ev", "eu", "et", "es", "er", "eq", "ep", "eo", "en", "em", "el", "ek", "ej", "ei", "eh", "eg", "ef", "ee", "ed", "ec", "eb", "ea", "dz", "dy", "dx", "dw", "dv", "du", "dt", "ds", "dr", "dq", "dp", "do", "dn", "dm", "dl", "dk", "dj", "di", "dh", "dg", "df", "de", "dd", "dc", "db", "da", "cz", "cy", "cx", "cw", "cv", "cu", "ct", "cs", "cr", "cq", "cp", "co", "cn", "cm", "cl", "ck", "cj", "ci", "ch", "cg", "cf", "ce", "cd", "cc", "cb", "ca", "bz", "by", "bx", "bw", "bv", "bu", "bt", "bs", "br", "bq", "bp", "bo", "bn", "bm", "bl", "bk", "bj", "bi", "bh", "bg", "bf", "be", "bd", "bc", "bb", "ba", "az", "ay", "ax", "aw", "av", "au", "at", "as", "ar", "aq", "ap", "ao", "an", "am", "al", "ak", "aj", "ai", "ah", "ag", "af", "ae", "ad", "ac", "ab", "aa", "z", "y", "x", "w", "v", "u", "t", "s", "r", "q", "p", "o", "n", "m", "l", "k", "j", "i", "h", "g", "f", "e", "d", "c", "b", "a" ];
  s = i("1t74G");
  const dt = new Map;
  async function mt(t) {
    const n = await st();
    dt.set(n, {
      url: t,
      completed: !1
    });
  }
  async function vt() {
    const t = await st();
    dt.get(t).completed = !0;
  }
  async function yt(t) {
    const n = dt.get(t);
    if (!n || !n.completed) return !1;
    const r = (await e(s).webNavigation.getAllFrames({
      tabId: t
    })).find((t => 0 === t.frameId)), a = !!r && n.url === r.url;
    return dt.delete(t), a;
  }
  async function bt() {
    const t = await X("includeSingleLetterHints"), n = await X("keyboardClicking");
    return {
      free: t && !n ? [ ...pt ] : pt.slice(0, -26),
      assigned: new Map
    };
  }
  async function wt(t) {
    const n = await bt();
    t.free = n.free, t.assigned = n.assigned;
  }
  const _t = new gt;
  async function xt(t, n) {
    return _t.runExclusive((async () => {
      const e = await async function(t) {
        const n = await X("hintsStacks");
        return n.has(t) ? n.get(t) : void 0;
      }(t) ?? await bt(), r = await n(e);
      return await async function(t, n) {
        const e = await X("hintsStacks");
        e.set(t, n), await K("hintsStacks", e);
      }(t, e), r;
    }));
  }
  async function At(t) {
    await xt(t, (async t => {
      await wt(t);
    }));
  }
  async function kt(t, n, r) {
    return xt(t, (async a => {
      await yt(t) && await wt(a);
      const i = a.free.splice(-r, r);
      for (const t of i) a.assigned.set(t, n);
      const o = [ ...a.assigned.keys() ];
      return await e(s).tabs.sendMessage(t, {
        type: "updateHintsInTab",
        hints: o
      }), i;
    }));
  }
  async function jt(t, n, r) {
    return xt(t, (async a => {
      const i = (await e(s).webNavigation.getAllFrames({
        tabId: t
      })).map((t => t.frameId)).filter((t => t !== n)), o = [];
      for (const n of i) {
        const a = await e(s).tabs.sendMessage(t, {
          type: "reclaimHints",
          amount: r - o.length
        }, {
          frameId: n
        });
        if (o.push(...a), o.length === r) break;
      }
      for (const t of o) a.assigned.set(t, n);
      const u = [ ...a.assigned.keys() ];
      return await e(s).tabs.sendMessage(t, {
        type: "updateHintsInTab",
        hints: u
      }), o;
    }));
  }
  async function Tt(t, n, e) {
    await xt(t, (async t => {
      t.free = t.free.filter((t => !e.includes(t)));
      for (const r of e) t.assigned.set(r, n);
    }));
  }
  async function Mt(t, n) {
    await xt(t, (async t => {
      const e = n.filter((n => t.assigned.has(n)));
      t.free.push(...e), t.free.sort(((t, n) => n.length - t.length || n.localeCompare(t)));
      for (const n of e) t.assigned.delete(n);
    }));
  }
  async function Ct(t, n) {
    const e = "string" == typeof n.target ? [ n.target ] : n.target, r = new Map, a = new Map;
    return xt(t, (async t => {
      for (const n of e) {
        const e = t.assigned.get(n);
        if (void 0 !== e) {
          const t = r.get(e);
          t ? t.push(n) : r.set(e, [ n ]);
        }
      }
      for (const [t, e] of r.entries()) {
        const r = void 0 !== n.arg ? n.arg : void 0;
        a.set(t, {
          type: n.type,
          target: e,
          arg: r
        });
      }
      return a;
    }));
  }
  let It = 0;
  const Et = new Set([ "markHintsAsKeyboardReachable", "restoreKeyboardReachableHints", "displayExtraHints", "displayExcludedHints", "displayLessHints", "confirmSelectorsCustomization", "includeOrExcludeMoreSelectors", "includeOrExcludeLessSelectors", "resetCustomSelectors" ]);
  async function St(t, n, r) {
    const a = n ?? await st();
    if ("target" in t) {
      const n = await Ct(a, t);
      if ("directClickElement" === t.type && 1 === t.target.length && 0 === n?.size) return [ {
        name: "typeTargetCharacters"
      } ];
      if (n) {
        const r = Array.from(n).map((async ([n, r]) => (/^scroll.*AtElement$/.test(t.type) && (It = n), 
        e(s).tabs.sendMessage(a, r, {
          frameId: n
        })))), i = await Promise.allSettled(r);
        if (t.type.startsWith("copy")) {
          return i.filter(ot).filter((t => t.value)).map((t => t.value)).join("\n");
        }
        return 1 === i.length && ot(i[0]) && i[0].value ? i[0].value : void 0;
      }
    } else if (/^scroll.*AtElement$/.test(t.type)) return e(s).tabs.sendMessage(a, t, {
      frameId: It
    });
    return r = r ?? Et.has(t.type) ? void 0 : 0, t.frameId = r, e(s).tabs.sendMessage(a, t, {
      frameId: r
    });
  }
  async function zt() {
    await vt(), e(s).webNavigation.onCompleted.removeListener(zt);
  }
  function Ot() {
    e(s).webNavigation.onCommitted.addListener((async ({tabId: t, frameId: n, url: r}) => {
      if (0 !== n) return;
      if (!await e(s).tabs.get(t)) {
        await mt(r);
        e(s).webNavigation.onCompleted.hasListener(zt) || e(s).webNavigation.onCompleted.addListener(zt);
      } else e(s).webNavigation.onCompleted.removeListener(zt), await At(t);
    })), e(s).webNavigation.onCompleted.addListener((async ({tabId: t, frameId: n}) => {
      if (!!await e(s).tabs.get(t)) try {
        await St({
          type: "onCompleted",
          frameId: n
        }, t, n);
      } catch (t) {
        console.error(t);
      }
    }));
  }
  s = i("1t74G"), s = i("1t74G");
  const Rt = e(s = i("1t74G")).action ? e(s).action : e(s).browserAction;
  async function qt() {
    const t = await X("keyboardClicking") ? at.iconKeyboard48.pathname : at.icon48.pathname;
    Rt.setIcon({
      path: t
    });
  }
  async function Lt() {
    const t = await X("keyboardClicking");
    await K("keyboardClicking", !t);
  }
  async function Pt() {
    const t = await X("keyboardClicking"), n = e(s).browserAction ? [ "browser_action" ] : [ "action" ];
    e(s).contextMenus.create({
      id: "keyboard-clicking",
      title: "Keyboard Clicking",
      type: "checkbox",
      contexts: n,
      checked: t
    });
  }
  e(s).storage.onChanged.addListener((async t => {
    if ("keyboardClicking" in t) {
      await qt();
      const t = await X("keyboardClicking");
      await e(s).contextMenus.update("keyboard-clicking", {
        checked: t
      });
    }
  }));
  s = i("1t74G");
  const Nt = new gt;
  async function Wt(t) {
    return Nt.runExclusive((async () => {
      const n = await X("tabMarkers") ?? {
        free: [ ...pt ],
        tabIdsToMarkers: new Map,
        markersToTabIds: new Map
      }, e = t(n);
      return await K("tabMarkers", n), e;
    }));
  }
  async function Bt(t) {
    return Wt((({free: n, tabIdsToMarkers: e, markersToTabIds: r}) => {
      const a = e.get(t) ?? n.pop();
      if (!a) throw new Error("No more tab markers available");
      return e.set(t, a), r.set(a, t), a;
    }));
  }
  async function Ft(t) {
    return Wt((({markersToTabIds: n}) => {
      const e = n.get(t);
      if (!e) throw new Error(`No tab with the marker "${t}"`);
      return e;
    }));
  }
  async function Ut() {
    await Wt((t => (t.free = [ ...pt ], t.tabIdsToMarkers = new Map, t.markersToTabIds = new Map, 
    t)));
  }
  async function $t() {
    if (await Ut(), !await X("includeTabMarkers")) return;
    const t = await e(s).tabs.query({});
    await Promise.all(t.filter((t => "unloaded" === t.status)).map((async t => e(s).tabs.reload(t.id))));
  }
  async function Dt() {
    await Ut();
    const t = (await e(s).tabs.query({})).map((async t => {
      try {
        await St({
          type: "refreshTitleDecorations"
        }, t.id);
      } catch {
        return e(s).tabs.reload(t.id);
      }
    }));
    await Promise.allSettled(t);
  }
  function Ht() {
    return !!navigator.vendor && navigator.vendor.includes("Apple");
  }
  e(s).tabs.onRemoved.addListener((async t => {
    await async function(t) {
      const n = await Bt(t);
      await Wt((({free: e, tabIdsToMarkers: r, markersToTabIds: a}) => {
        r.delete(t), a.delete(n), e.push(n), e.sort(((t, n) => n.length - t.length || n.localeCompare(t)));
      }));
    }(t);
  })), e(s).tabs.onReplaced.addListener((async (t, n) => {
    await Wt((({tabIdsToMarkers: e, markersToTabIds: r}) => {
      const a = e.get(n);
      a && (e.delete(n), e.set(t, a), r.set(a, t));
    }));
  }));
  s = i("1t74G");
  const Gt = new gt;
  async function Kt(t, n, e) {
    await Gt.runExclusive((async () => {
      const r = await X("tabsByRecency"), a = r[t] ?? [], i = a.indexOf(n);
      -1 !== i && a.splice(i, 1), e || a[a.length - 1] === n || a.push(n), r[t] = a, await K("tabsByRecency", r);
    }));
  }
  async function Zt() {
    const t = await ut();
    t.windowId && t.id && await Kt(t.windowId, t.id, !1), e(s).tabs.onActivated.addListener((async t => {
      await Kt(t.windowId, t.tabId, !1);
    })), e(s).tabs.onRemoved.addListener((async (t, n) => {
      await Kt(n.windowId, t, !0);
    }));
  }
  async function Jt() {
    await K("hintsStacks", new Map);
  }
  async function Xt() {
    e(s).runtime.onInstalled.addListener((async ({reason: t, previousVersion: n}) => {
      if ("install" !== t && "update" !== t) return;
      await qt(), await Pt();
      let r;
      await X("switchedToSyncStorage") || await async function() {
        let t;
        for (t in N) if (Object.prototype.hasOwnProperty.call(N, t) && await Z(t, !1)) {
          const n = await X(t, !1);
          await K(t, n);
        }
        const n = await X("hintsToggle");
        if (n) {
          const t = n.global, e = new Map(n.hosts), r = new Map(n.paths), a = new Map(n.tabs);
          await K("hintsToggleGlobal", t), await K("hintsToggleHosts", e), await K("hintsTogglePaths", r), 
          await K("hintsToggleTabs", a);
        }
        await K("switchedToSyncStorage", !0);
      }();
      const a = [];
      for (r in N) Object.prototype.hasOwnProperty.call(N, r) && a.push(J(r, N[r]));
      if (await Promise.all(a), "install" === t && await e(s).tabs.create({
        url: at.onboarding.href
      }), "update" === t && await X("showWhatsNewPageOnUpdate")) {
        const t = e(s).runtime.getManifest().version, [r, a] = t.split("."), [i, o] = n.split(".");
        r === i && a === o || await e(s).tabs.create({
          url: at.whatsNewPage.href
        });
      }
      await J("hintsToggleTabs", new Map), await J("tabsByRecency", {}), await Jt(), "install" === t && (await $t(), 
      await Zt());
    })), e(s).runtime.onStartup.addListener((async () => {
      await $t(), await Jt(), await qt(), Ht() && await Pt(), await K("hintsToggleTabs", new Map), 
      await K("tabsByRecency", {}), await Zt();
    }));
    await X("tabsByRecency") && await Zt(), Ot();
  }
  async function Vt() {
    const t = await X("hintsToggleGlobal");
    await K("hintsToggleGlobal", !t);
  }
  async function Yt(t, n) {
    const e = await ut();
    it(e.url);
    const {host: r, origin: a, pathname: i} = new URL(e.url);
    switch (t) {
     case "everywhere":
      void 0 === n && (await K("hintsToggleGlobal", !0), await K("hintsToggleTabs", new Map), 
      await K("hintsToggleHosts", new Map), await K("hintsTogglePaths", new Map), await St({
        type: "updateNavigationToggle",
        enable: n
      }));
      break;

     case "now":
      await St({
        type: "updateNavigationToggle",
        enable: n
      });
      break;

     case "global":
      await K("hintsToggleGlobal", void 0 === n || n);
      break;

     case "tab":
      {
        const t = await X("hintsToggleTabs");
        it(e.id), void 0 === n ? t.delete(e.id) : t.set(e.id, n), await K("hintsToggleTabs", t);
        break;
      }

     case "host":
      {
        const t = await X("hintsToggleHosts");
        r && (void 0 === n ? t.delete(r) : t.set(r, n)), await K("hintsToggleHosts", t);
        break;
      }

     case "page":
      {
        const t = await X("hintsTogglePaths");
        a && i && (void 0 === n ? t.delete(a + i) : t.set(a + i, n)), await K("hintsTogglePaths", t);
        break;
      }
    }
  }
  async function Qt(t) {
    return Promise.allSettled([ t ]).then((([t]) => ot(t) ? [ t.value, void 0 ] : [ void 0, t.reason ]));
  }
  function tn(t) {
    for (const n of t) "typeTargetCharacters" === n.name && (n.previousName = "noHintFound");
    let n, e;
    return 1 === t.length && (n = t[0]), t.length > 1 && (n = t.find((t => t.main))), 
    n ? (e = {
      type: "previousName" in n ? n.previousName : n.name
    }, "key" in n && (e.key = n.key), "textToCopy" in n && (e.key = n.textToCopy)) : e = {
      type: "noAction"
    }, {
      type: "response",
      action: e,
      actions: t
    };
  }
  s = i("1t74G"), s = i("1t74G");
  async function nn(t, n) {
    if (await X("enableNotifications")) try {
      await St({
        type: "displayToastNotification",
        text: t,
        options: n
      });
    } catch {
      e(s).notifications.create("rango-notification", {
        type: "basic",
        iconUrl: at.icon128.href,
        title: "Rango",
        message: t
      });
    }
  }
  async function en() {
    await nn("This command has been removed. Update rango-talon and use the command 'rango settings' to open the settings page.", {
      type: "warning",
      autoClose: 8e3
    });
  }
  s = i("1t74G");
  async function rn(t, n) {
    const r = await e(s).tabs.query({
      currentWindow: !0
    }), a = await ut(), i = await st();
    let o;
    switch (t) {
     case "other":
      o = t => t.id !== i;
      break;

     case "left":
      o = t => t.index < a.index;
      break;

     case "right":
      o = t => t.index > a.index;
      break;

     case "leftEnd":
      it(n), o = t => t.index < n;
      break;

     case "rightEnd":
      it(n), o = t => t.index >= r.length - n;
      break;

     case "previous":
      it(n), o = t => t.index >= a.index - n && t.index < a.index;
      break;

     case "next":
      it(n), o = t => t.index > a.index && t.index <= a.index + n;
    }
    const u = r.filter((t => o(t))).map((t => t.id)).filter((t => "number" == typeof t));
    await e(s).tabs.remove(u);
  }
  s = i("1t74G");
  async function an() {
    const t = await X("tabsByRecency"), n = await e(s).windows.getCurrent();
    it(n.id);
    const r = t[n.id];
    it(r);
    const a = r[r.length - 2];
    a && await e(s).tabs.update(a, {
      active: !0
    });
  }
  s = i("1t74G");
  async function on(t) {
    const n = await async function(t) {
      const n = new Map;
      for (const r of t) {
        const t = await Ft(r), a = await e(s).tabs.get(t);
        a.windowId && !n.has(a.windowId) && n.set(a.windowId, a);
      }
      return Array.from(n.values());
    }(t);
    for (const [t, r] of n.entries()) await e(s).tabs.update(r.id, {
      active: !0
    }), 0 === t ? await e(s).windows.update(r.windowId, {
      focused: !0
    }) : r.discarded && await e(s).tabs.reload(r.id);
  }
  async function un(t, n) {
    it(t.url), await nn("Copied to the clipboard", {
      type: "success"
    });
    return new URL(t.url)[n];
  }
  async function sn(t) {
    let [n] = await Qt(St({
      type: "getTitleBeforeDecoration"
    }));
    return n ??= t.title, it(t.url), it(n), await nn("Copied to the clipboard", {
      type: "success"
    }), `[${n}](${t.url})`;
  }
  async function cn(t) {
    const [n] = await Qt(ut()), r = n?.id;
    switch (t.type) {
     case "activateTab":
      await on(t.target);
      break;

     case "historyGoBack":
      try {
        await St(t);
      } catch {
        await e(s).tabs.goBack();
      }
      break;

     case "historyGoForward":
      try {
        await St(t);
      } catch {
        await e(s).tabs.goForward();
      }
      break;

     case "toggleHints":
      await Vt();
      break;

     case "enableHints":
      await Yt(t.arg, !0);
      break;

     case "disableHints":
      await Yt(t.arg, !1);
      break;

     case "resetToggleLevel":
      await Yt(t.arg);
      break;

     case "toggleKeyboardClicking":
      await Lt();
      break;

     case "includeSingleLetterHints":
     case "excludeSingleLetterHints":
     case "setHintStyle":
     case "setHintWeight":
     case "enableUrlInTitle":
     case "disableUrlInTitle":
      await en();
      break;

     case "increaseHintSize":
      {
        const t = await X("hintFontSize");
        await K("hintFontSize", t + 1);
        break;
      }

     case "decreaseHintSize":
      {
        const t = await X("hintFontSize");
        await K("hintFontSize", t - 1);
        break;
      }

     case "closeOtherTabsInWindow":
      await rn("other");
      break;

     case "closeTabsToTheLeftInWindow":
      await rn("left");
      break;

     case "closeTabsToTheRightInWindow":
      await rn("right");
      break;

     case "closeTabsLeftEndInWindow":
      await rn("leftEnd", t.arg);
      break;

     case "closeTabsRightEndInWindow":
      await rn("rightEnd", t.arg);
      break;

     case "closePreviousTabsInWindow":
      await rn("previous", t.arg);
      break;

     case "closeNextTabsInWindow":
      await rn("next", t.arg);
      break;

     case "cloneCurrentTab":
      r && await e(s).tabs.duplicate(r);
      break;

     case "moveCurrentTabToNewWindow":
      await e(s).windows.create({
        tabId: r
      });
      break;

     case "focusPreviousTab":
      await an();
      break;

     case "copyLocationProperty":
      if (n) return un(n, t.arg);
      break;

     case "copyCurrentTabMarkdownUrl":
      if (n) return sn(n);
      break;

     case "openSettingsPage":
      await e(s).runtime.openOptionsPage();
      break;

     case "openPageInNewTab":
      await e(s).tabs.create({
        url: t.arg
      });
      break;

     case "refreshTabMarkers":
      await Dt();
    }
  }
  const ln = new Set([ "toggleHints", "enableHints", "disableHints", "resetToggleLevel", "increaseHintSize", "decreaseHintSize", "setHintStyle", "setHintWeight", "copyLocationProperty", "copyCurrentTabMarkdownUrl", "enableUrlInTitle", "disableUrlInTitle", "excludeSingleLetterHints", "includeSingleLetterHints", "closeOtherTabsInWindow", "closeTabsToTheLeftInWindow", "closeTabsToTheRightInWindow", "closeTabsLeftEndInWindow", "closeTabsRightEndInWindow", "closePreviousTabsInWindow", "closeNextTabsInWindow", "cloneCurrentTab", "toggleKeyboardClicking", "moveCurrentTabToNewWindow", "focusPreviousTab", "historyGoBack", "historyGoForward", "openSettingsPage", "openPageInNewTab", "activateTab", "refreshTabMarkers" ]);
  async function fn(t) {
    const n = await (ln.has(t.type) ? cn(t) : St(t));
    if ("string" == typeof n) return tn([ {
      name: "copyToClipboard",
      textToCopy: n
    } ]);
    if (n) {
      const t = n.findIndex((t => "focusPage" === t.name));
      if (-1 !== t) {
        await St({
          type: "checkIfDocumentHasFocus"
        }) && n.splice(t, 1);
      }
    }
    return tn(n ?? []);
  }
  s = i("1t74G");
  async function hn() {
    if (Ht()) {
      return (await e(s).runtime.sendNativeMessage("", {
        request: "getTextFromClipboard"
      })).textFromClipboard;
    }
    return navigator.clipboard ? navigator.clipboard.readText() : async function() {
      return await chrome.offscreen.hasDocument() && await chrome.offscreen.closeDocument(), 
      await chrome.offscreen.createDocument({
        url: at.offscreenDocument.href,
        reasons: [ chrome.offscreen.Reason.CLIPBOARD ],
        justification: "Read the request from Talon from the clipboard"
      }), chrome.runtime.sendMessage({
        type: "read-clipboard",
        target: "offscreen-doc"
      });
    }();
  }
  async function gn() {
    const t = await hn();
    let n;
    if (t) try {
      return n = JSON.parse(t), "request" !== n.type && console.error('Error: The message present in the clipboard is not of type "request"'), 
      n;
    } catch (t) {
      t instanceof SyntaxError && console.error(t);
    } else await nn("Unable to read the request present on the clipboard", {
      type: "error"
    });
  }
  async function pn(t) {
    const n = JSON.stringify(t);
    if (navigator.clipboard) {
      if (!Ht()) return navigator.clipboard.writeText(n);
      {
        const t = document.querySelector("#copy-paste-area") ?? document.createElement("textarea");
        if (t.id = "copy-paste-area", document.body.append(t), t instanceof HTMLTextAreaElement) return t.value = n, 
        t.select(), document.execCommand("copy"), void (t.value = "");
      }
    }
    return async function(t) {
      await chrome.offscreen.hasDocument() && await chrome.offscreen.closeDocument(), 
      await chrome.offscreen.createDocument({
        url: at.offscreenDocument.href,
        reasons: [ chrome.offscreen.Reason.CLIPBOARD ],
        justification: "Write the response to Talon to the clipboard"
      }), await chrome.runtime.sendMessage({
        type: "copy-to-clipboard",
        target: "offscreen-doc",
        text: t
      });
    }(n);
  }
  let dn = !1;
  async function mn() {
    await St({
      type: "tryToFocusPage"
    });
    const [t] = await Qt(St({
      type: "checkIfDocumentHasFocus"
    }));
    return !t && !dn && (dn = !0, setTimeout((() => {
      dn = !1;
    }), 3e3), !0);
  }
  s = i("1t74G");
  async function vn() {
    const t = await st(), n = (await e(s).webNavigation.getAllFrames({
      tabId: t
    })).map((async n => e(s).tabs.sendMessage(t, {
      type: "checkActiveElementIsEditable"
    }, {
      frameId: n.frameId
    })));
    return (await Promise.all(n)).includes(!0);
  }
  let yn = !1;
  async function bn() {
    await pn({
      type: "response",
      action: {
        type: "noHintFound"
      },
      actions: [ {
        name: "typeTargetCharacters"
      } ]
    });
  }
  async function wn(t) {
    if ("directClickElement" !== t.action.type) throw new Error("This function is only to be called with a directClickElement request");
    if (t.action.target.length > 1) return !1;
    if (!await X("directClickWithNoFocusedDocument")) {
      const [t] = await Qt(St({
        type: "checkIfDocumentHasFocus"
      }));
      if (!t) return await bn(), !0;
    }
    return !(await X("directClickWhenEditing") || !await vn()) && (await bn(), !0);
  }
  async function _n() {
    try {
      const t = await gn();
      if (!t) return;
      if (yn = !("requestTimedOut" === t.action.type), "directClickElement" === t.action.type) {
        if (await wn(t)) return;
      }
      if (("setSelectionAfter" === t.action.type || "setSelectionBefore" === t.action.type || "tryToFocusElementAndCheckIsEditable" === t.action.type) && await mn()) {
        const t = tn([ {
          name: "focusPageAndResend"
        } ]);
        return void await pn(t);
      }
      const n = await fn(t.action);
      yn && (await pn(n), yn = !1);
    } catch (t) {
      t instanceof Error && (console.error(t), await nn(t.message, {
        type: "error"
      }));
    }
  }
  s = i("1t74G"), s = i("1t74G");
  async function xn(t, n) {
    if (n && t.length > 1) throw new Error("Can't make more than one tab active");
    const r = await ut();
    let a;
    const i = await X("newTabPosition");
    if ("relatedAfterCurrent" === i) {
      const t = (await e(s).tabs.query({
        currentWindow: !0
      })).filter((t => t.openerTabId === r.id)).pop();
      a = t ? t.index + 1 : r.index + 1;
    }
    "afterCurrent" === i && (a = r.index + 1), "atEnd" === i && (a = 99999);
    try {
      await Promise.all(t.map((async t => e(s).tabs.create({
        url: t,
        active: n,
        index: a ? a++ : void 0,
        openerTabId: r.id
      }))));
    } catch (t) {
      console.error(t);
    }
  }
  var An = {};
  function kn(t, n) {
    if (n) return t;
    throw new Error("Unhandled discriminated union member: " + JSON.stringify(t));
  }
  Object.defineProperty(An, "__esModule", {
    value: !0
  }), An.assertNever = kn, An.default = kn;
  var jn = i("jE1ev");
  const Tn = new Map;
  async function Mn(t, n) {
    const e = function(t) {
      if (Tn.has(t)) return Tn.get(t);
      const n = new gt;
      return Tn.set(t, n), n;
    }(t);
    return e.runExclusive((async () => {
      const e = await X(t), r = await n(e);
      return await K(t, e), r;
    }));
  }
  let Cn = !1;
  const In = new Set;
  let En, Sn;
  const zn = {
    store: {
      success: "Custom selectors saved",
      fail: "No selectors to save"
    },
    reset: {
      success: "Custom selectors reset",
      fail: "No custom selectors for the current page"
    }
  }, On = (0, jn.debounce)((async t => {
    const n = Cn ? zn[t].success : zn[t].fail, e = Cn ? "success" : "warning";
    await nn(n, {
      type: e
    }), Cn = !1, In.clear(), Sn && (Sn(), Sn = void 0, En = void 0);
  }), 200);
  async function Rn(t, n, r) {
    const a = await Mn("customSelectors", (async a => {
      const i = a.get(n) ?? {
        include: [],
        exclude: []
      };
      if ("store" === t) {
        if (!r) throw new Error("No selectors provided to store");
        return i.include = Array.from(new Set([ ...i.include, ...r.include ])), i.exclude = Array.from(new Set([ ...i.exclude, ...r.exclude ])), 
        a.set(n, i), [ ...r.include, ...r.exclude ];
      }
      return "reset" === t ? (a.delete(n), i ? [ ...i.include, ...i.exclude ] : []) : e(An)(t);
    }));
    a.length > 0 && (Cn = !0);
    for (const t of a) In.add(t);
    await On(t), En || (En = new Promise((t => {
      Sn = t;
    }))), await En;
  }
  async function qn(t, n) {
    await Rn("store", t, n);
  }
  async function Ln(t) {
    await Rn("reset", t);
  }
  e(s).contextMenus.onClicked.addListener((async function({menuItemId: t}) {
    "keyboard-clicking" === t && await Lt();
  })), (async () => {
    await Xt();
  })(), e(s).runtime.onMessage.addListener((async function(t, n) {
    it(n.tab);
    const r = n.tab.id, a = await e(s).windows.getLastFocused(), i = n.tab.active && n.tab.windowId === a.id, o = await st();
    it(r);
    const u = n.frameId ?? 0;
    switch (t.type) {
     case "initStack":
      return 0 !== u ? void console.warn("Ignoring request to initiate stack that doesn't come from the main frame") : At(r);

     case "claimHints":
      return kt(r, u, t.amount);

     case "reclaimHintsFromOtherFrames":
      return jt(r, u, t.amount);

     case "releaseHints":
      return Mt(r, t.hints);

     case "storeHintsInFrame":
      return Tt(r, u, t.hints);

     case "getHintsStackForTab":
      return xt(r, (async t => t));

     case "openInNewTab":
      await xn([ t.url ], !0);
      break;

     case "openInBackgroundTab":
      await xn(t.links, !1);
      break;

     case "getContentScriptContext":
      return {
        tabId: r,
        frameId: u,
        currentTabId: o
      };

     case "clickHintInFrame":
      await St({
        type: "clickElement",
        target: [ t.hint ]
      });
      break;

     case "markHintsAsKeyboardReachable":
      await St({
        type: "markHintsAsKeyboardReachable",
        letter: t.letter
      }, r);
      break;

     case "restoreKeyboardReachableHints":
      await St({
        type: "restoreKeyboardReachableHints"
      }, r);
      break;

     case "isCurrentTab":
      return i;

     case "getTabMarker":
      return Bt(r);

     case "storeCustomSelectors":
      await qn(t.pattern, t.selectors);
      break;

     case "resetCustomSelectors":
      return Ln(t.pattern);

     default:
      throw console.error(t), new Error("Bad request to background script");
    }
  })), Rt.onClicked.addListener((async () => {
    await Vt();
  })), e(s).commands.onCommand.addListener((async t => {
    try {
      await St({
        type: "allowToastNotification"
      });
    } catch {}
    "get-talon-request" !== t && "get-talon-request-alternative" !== t || await _n(), 
    "toggle-hints" === t && await Vt(), "disable-hints" === t && await Yt("global", !1), 
    "enable-hints" === t && await Yt("global", !0), "toggle-keyboard-clicking" === t && await Lt();
  }));
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBTSxLQUFRO1FBQUssS0FBUTtRQUFLLEtBQVE7UUFDaEQsS0FBUTtRQUFNLEtBQVE7UUFBSyxLQUFRO1FBQUssS0FBUTtRQUNoRCxLQUFRO1FBQU0sS0FBUTtRQUFLLEtBQVE7UUFBSyxLQUFRO1FBQ2hELEtBQVE7UUFBTSxLQUFRO1FBQUssS0FBUTtRQUFLLEtBQVE7UUFDaEQsS0FBUTtRQUFNLEtBQVE7UUFDdEIsS0FBUTtRQUFNLEtBQVE7UUFBSyxLQUFRO1FBQUssS0FBUTtRQUFLLEtBQVE7UUFBSyxLQUFRO1FBQzFFLEtBQVE7UUFBTSxLQUFRO1FBQUssS0FBUTtRQUFLLEtBQVE7UUFBSyxLQUFRO1FBQUssS0FBUTtRQUMxRSxLQUFRO1FBQU0sS0FBUTtRQUFLLEtBQVE7UUFBSyxLQUFRO1FBQ2hELEtBQVE7UUFBTSxLQUFRO1FBQUssS0FBUTtRQUFLLEtBQVE7UUFDaEQsS0FBUTtRQUFNLEtBQVE7UUFBSyxLQUFRO1FBQ25DLEtBQVE7UUFBTSxLQUFRO1FBQ3RCLEtBQVE7UUFBTSxLQUFRO1FBQ3RCLEtBQVE7UUFFUixLQUFVO1FBQU0sS0FBVTtRQUFLLEtBQVU7UUFDekMsS0FBVTtRQUFNLEtBQVU7UUFBSyxLQUFVO1FBQ3pDLEtBQVU7UUFBTSxLQUFVO1FBQUssS0FBVTtRQUFLLEtBQVU7UUFDeEQsS0FBVTtRQUFNLEtBQVU7UUFBSyxLQUFVO1FBQUssS0FBVTtRQUN4RCxLQUFVO1FBQU0sS0FBVTtRQUFLLEtBQVU7UUFBSyxLQUFVO1FBQ3hELEtBQVU7UUFBTSxLQUFVO1FBQUssS0FBVTtRQUFLLEtBQVU7UUFBSyxLQUFVO1FBQ3ZFLEtBQVU7UUFBTSxLQUFVO1FBQUssS0FBVTtRQUFLLEtBQVU7UUFBSyxLQUFVO1FBQ3ZFLEtBQVU7UUFBTSxLQUFVO1FBQUssS0FBVTtRQUFLLEtBQVU7UUFDeEQsS0FBVTtRQUFNLEtBQVU7UUFBSyxLQUFVO1FBQUssS0FBVTtRQUN4RCxLQUFVO1FBQU0sS0FBVTtRQUFLLEtBQVU7UUFBSyxLQUFVO1FBQ3hELEtBQVU7UUFBTSxLQUFVO1FBQUssS0FB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QUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxNQUNBLE1BQ0EsTUFDQSxN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MXhDLFNBQVNtOUQsVUFBVWgwRCxhQUFZeWdELE1BQU93VDtJQUM3QztZQUNPekwsR0FBcUI7UUFBRXAzQixNQUFNOztBQUdwQyxNQUZFLE9BRUY7SUFHcUIsd0JBQXBCNmlDLEtBQ29CLG9DQUFwQkEsV0FFTXpDO0lBR2lCLG1CQUFwQnlDLFdBQ0dqSCxNQUdpQixvQkFBcEJpSCxXQUNHaEgsR0FBa0IsV0FBVTtJQUdYLG1CQUFwQmdILFdBQ0doSCxHQUFrQixXQUFVLElBR1gsK0JBQXBCZ0gsV0FDRzNLO0FBQXFCIiwic291cmNlcyI6WyJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9oZWxwZXJzL2J1bmRsZS1tYW5pZmVzdC5qcyIsIm5vZGVfbW9kdWxlcy93ZWJleHRlbnNpb24tcG9seWZpbGwvZGlzdC9icm93c2VyLXBvbHlmaWxsLmpzIiwibm9kZV9tb2R1bGVzL0BwYXJjZWwvcnVudGltZS1qcy9saWIvaGVscGVycy9idW5kbGUtdXJsLmpzIiwibm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJub2RlX21vZHVsZXMvQHBhcmNlbC9ydW50aW1lLWpzL2xpYi9ydW50aW1lLWQxNDg3OTk2ZTc5NTlhYWEuanMiLCJzcmMvYmFja2dyb3VuZC9iYWNrZ3JvdW5kLnRzIiwic3JjL2JhY2tncm91bmQvc2V0dXAvaW5pdEJhY2tncm91bmRTY3JpcHQudHMiLCJub2RlX21vZHVsZXMvY29sb3ItbmFtZS9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zaW1wbGUtc3dpenpsZS9ub2RlX21vZHVsZXMvaXMtYXJyYXlpc2gvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc2ltcGxlLXN3aXp6bGUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvY29sb3Itc3RyaW5nL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvbG9yLWNvbnZlcnQvY29udmVyc2lvbnMuanMiLCJub2RlX21vZHVsZXMvY29sb3ItY29udmVydC9yb3V0ZS5qcyIsIm5vZGVfbW9kdWxlcy9jb2xvci1jb252ZXJ0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2NvbG9yL2luZGV4LmpzIiwic3JjL2NvbW1vbi9zZXR0aW5ncy50cyIsInNyYy9jb21tb24vc3RvcmFnZS50cyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtODkyMzg3OGMzOTMyYzllNS5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtYWEwNjY4ZjQyMGZhYjYyNy5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtYTY1YTI5MjQ2YTNmMWEwZC5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtNWJjOTljMDVlYTBjZWFjZC5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtOTU4ZDZhMzc5MWQyM2U2MS5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtNTUyZTIzNTUwNTk2NTdhMC5qcyIsIm5vZGVfbW9kdWxlcy9AcGFyY2VsL3J1bnRpbWUtanMvbGliL3J1bnRpbWUtMTc5OGNmYTNiZTdlMzJhNy5qcyIsInNyYy9jb21tb24vdXJscy50cyIsInNyYy9iYWNrZ3JvdW5kL2hpbnRzL3dhdGNoTmF2aWdhdGlvbi50cyIsInNyYy9iYWNrZ3JvdW5kL21lc3NhZ2luZy9zZW5kUmVxdWVzdFRvQ29udGVudC50cyIsInNyYy90eXBpbmdzL1R5cGluZ1V0aWxzLnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvZ2V0Q3VycmVudFRhYi50cyIsInNyYy9iYWNrZ3JvdW5kL2hpbnRzL2hpbnRzQWxsb2NhdG9yLnRzIiwibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIm5vZGVfbW9kdWxlcy9hc3luYy1tdXRleC9lczYvZXJyb3JzLmpzIiwibm9kZV9tb2R1bGVzL2FzeW5jLW11dGV4L2VzNi9TZW1hcGhvcmUuanMiLCJub2RlX21vZHVsZXMvYXN5bmMtbXV0ZXgvZXM2L011dGV4LmpzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvYWxsSGludHMudHMiLCJzcmMvYmFja2dyb3VuZC9oaW50cy9wcmVsb2FkVGFicy50cyIsInNyYy9iYWNrZ3JvdW5kL3V0aWxzL3NwbGl0UmVxdWVzdHNCeUZyYW1lLnRzIiwic3JjL3R5cGluZ3MvUmFuZ29BY3Rpb24udHMiLCJzcmMvYmFja2dyb3VuZC9taXNjL2NyZWF0ZUNvbnRleHRNZW51cy50cyIsInNyYy9iYWNrZ3JvdW5kL2FjdGlvbnMvdG9nZ2xlS2V5Ym9hcmRDbGlja2luZy50cyIsInNyYy9iYWNrZ3JvdW5kL3V0aWxzL2Jyb3dzZXJBY3Rpb24udHMiLCJzcmMvYmFja2dyb3VuZC9taXNjL3RhYk1hcmtlcnMudHMiLCJzcmMvYmFja2dyb3VuZC91dGlscy9pc1NhZmFyaS50cyIsInNyYy9iYWNrZ3JvdW5kL3NldHVwL3RyYWNrUmVjZW50VGFicy50cyIsInNyYy9iYWNrZ3JvdW5kL2FjdGlvbnMvdG9nZ2xlSGludHMudHMiLCJzcmMvbGliL3Byb21pc2VXcmFwLnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvY29uc3RydWN0VGFsb25SZXNwb25zZS50cyIsInNyYy9iYWNrZ3JvdW5kL2NvbW1hbmRzL3J1bkJhY2tncm91bmRDb21tYW5kLnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvbm90aWZ5LnRzIiwic3JjL2JhY2tncm91bmQvYWN0aW9ucy9jbG9zZVRhYnNJbldpbmRvdy50cyIsInNyYy9iYWNrZ3JvdW5kL2FjdGlvbnMvZm9jdXNQcmV2aW91c1RhYi50cyIsInNyYy9iYWNrZ3JvdW5kL2FjdGlvbnMvYWN0aXZhdGVUYWIudHMiLCJzcmMvYmFja2dyb3VuZC9hY3Rpb25zL2NvcHlUYWJJbmZvLnRzIiwic3JjL2JhY2tncm91bmQvY29tbWFuZHMvZGlzcGF0Y2hDb21tYW5kLnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvY2xpcGJvYXJkLnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvc2hvdWxkVHJ5VG9Gb2N1c0RvY3VtZW50LnRzIiwic3JjL2JhY2tncm91bmQvdXRpbHMvY2hlY2tBY3RpdmVFbGVtZW50SXNFZGl0YWJsZS50cyIsInNyYy9iYWNrZ3JvdW5kL21lc3NhZ2luZy9oYW5kbGVSZXF1ZXN0RnJvbVRhbG9uLnRzIiwic3JjL2JhY2tncm91bmQvbWVzc2FnaW5nL2hhbmRsZVJlcXVlc3RGcm9tQ29udGVudC50cyIsInNyYy9iYWNrZ3JvdW5kL2FjdGlvbnMvb3BlbkluTmV3VGFiLnRzIiwibm9kZV9tb2R1bGVzL2Fzc2VydC1uZXZlci9pbmRleC5qcyIsInNyYy9iYWNrZ3JvdW5kL3V0aWxzL3dpdGhMb2NrZWRTdG9yYWdlVmFsdWUudHMiLCJzcmMvYmFja2dyb3VuZC91dGlscy9zdG9yZUN1c3RvbVNlbGVjdG9ycy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1hcHBpbmcgPSB7fTtcblxuZnVuY3Rpb24gcmVnaXN0ZXIocGFpcnMpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhwYWlycyk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgbWFwcGluZ1trZXlzW2ldXSA9IHBhaXJzW2tleXNbaV1dO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmUoaWQpIHtcbiAgdmFyIHJlc29sdmVkID0gbWFwcGluZ1tpZF07XG5cbiAgaWYgKHJlc29sdmVkID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCByZXNvbHZlIGJ1bmRsZSB3aXRoIGlkICcgKyBpZCk7XG4gIH1cblxuICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XG5tb2R1bGUuZXhwb3J0cy5yZXNvbHZlID0gcmVzb2x2ZTsiLCIvKiB3ZWJleHRlbnNpb24tcG9seWZpbGwgLSB2MC44LjAgLSBUdWUgQXByIDIwIDIwMjEgMTE6Mjc6MzggKi9cbi8qIC0qLSBNb2RlOiBpbmRlbnQtdGFicy1tb2RlOiBuaWw7IGpzLWluZGVudC1sZXZlbDogMiAtKi0gKi9cbi8qIHZpbTogc2V0IHN0cz0yIHN3PTIgZXQgdHc9ODA6ICovXG4vKiBUaGlzIFNvdXJjZSBDb2RlIEZvcm0gaXMgc3ViamVjdCB0byB0aGUgdGVybXMgb2YgdGhlIE1vemlsbGEgUHVibGljXG4gKiBMaWNlbnNlLCB2LiAyLjAuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzXG4gKiBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmUgYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmlmICh0eXBlb2YgYnJvd3NlciA9PT0gXCJ1bmRlZmluZWRcIiB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoYnJvd3NlcikgIT09IE9iamVjdC5wcm90b3R5cGUpIHtcbiAgY29uc3QgQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFID0gXCJUaGUgbWVzc2FnZSBwb3J0IGNsb3NlZCBiZWZvcmUgYSByZXNwb25zZSB3YXMgcmVjZWl2ZWQuXCI7XG4gIGNvbnN0IFNFTkRfUkVTUE9OU0VfREVQUkVDQVRJT05fV0FSTklORyA9IFwiUmV0dXJuaW5nIGEgUHJvbWlzZSBpcyB0aGUgcHJlZmVycmVkIHdheSB0byBzZW5kIGEgcmVwbHkgZnJvbSBhbiBvbk1lc3NhZ2Uvb25NZXNzYWdlRXh0ZXJuYWwgbGlzdGVuZXIsIGFzIHRoZSBzZW5kUmVzcG9uc2Ugd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIHNwZWNzIChTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9Nb3ppbGxhL0FkZC1vbnMvV2ViRXh0ZW5zaW9ucy9BUEkvcnVudGltZS9vbk1lc3NhZ2UpXCI7XG5cbiAgLy8gV3JhcHBpbmcgdGhlIGJ1bGsgb2YgdGhpcyBwb2x5ZmlsbCBpbiBhIG9uZS10aW1lLXVzZSBmdW5jdGlvbiBpcyBhIG1pbm9yXG4gIC8vIG9wdGltaXphdGlvbiBmb3IgRmlyZWZveC4gU2luY2UgU3BpZGVybW9ua2V5IGRvZXMgbm90IGZ1bGx5IHBhcnNlIHRoZVxuICAvLyBjb250ZW50cyBvZiBhIGZ1bmN0aW9uIHVudGlsIHRoZSBmaXJzdCB0aW1lIGl0J3MgY2FsbGVkLCBhbmQgc2luY2UgaXQgd2lsbFxuICAvLyBuZXZlciBhY3R1YWxseSBuZWVkIHRvIGJlIGNhbGxlZCwgdGhpcyBhbGxvd3MgdGhlIHBvbHlmaWxsIHRvIGJlIGluY2x1ZGVkXG4gIC8vIGluIEZpcmVmb3ggbmVhcmx5IGZvciBmcmVlLlxuICBjb25zdCB3cmFwQVBJcyA9IGV4dGVuc2lvbkFQSXMgPT4ge1xuICAgIC8vIE5PVEU6IGFwaU1ldGFkYXRhIGlzIGFzc29jaWF0ZWQgdG8gdGhlIGNvbnRlbnQgb2YgdGhlIGFwaS1tZXRhZGF0YS5qc29uIGZpbGVcbiAgICAvLyBhdCBidWlsZCB0aW1lIGJ5IHJlcGxhY2luZyB0aGUgZm9sbG93aW5nIFwiaW5jbHVkZVwiIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgLy8gSlNPTiBmaWxlLlxuICAgIGNvbnN0IGFwaU1ldGFkYXRhID0ge1xuICAgICAgXCJhbGFybXNcIjoge1xuICAgICAgICBcImNsZWFyXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImNsZWFyQWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImJvb2ttYXJrc1wiOiB7XG4gICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRDaGlsZHJlblwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRSZWNlbnRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0U3ViVHJlZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRUcmVlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZVRyZWVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiYnJvd3NlckFjdGlvblwiOiB7XG4gICAgICAgIFwiZGlzYWJsZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZW5hYmxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRCYWRnZUJhY2tncm91bmRDb2xvclwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRCYWRnZVRleHRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UG9wdXBcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0VGl0bGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwib3BlblBvcHVwXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcInNldEJhZGdlQmFja2dyb3VuZENvbG9yXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRCYWRnZVRleHRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInNldEljb25cIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0UG9wdXBcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInNldFRpdGxlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiYnJvd3NpbmdEYXRhXCI6IHtcbiAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlQ2FjaGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlQ29va2llc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVEb3dubG9hZHNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlRm9ybURhdGFcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlSGlzdG9yeVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVMb2NhbFN0b3JhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlUGFzc3dvcmRzXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZVBsdWdpbkRhdGFcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0dGluZ3NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImNvbW1hbmRzXCI6IHtcbiAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImNvbnRleHRNZW51c1wiOiB7XG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZUFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJ1cGRhdGVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImNvb2tpZXNcIjoge1xuICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0QWxsQ29va2llU3RvcmVzXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImRldnRvb2xzXCI6IHtcbiAgICAgICAgXCJpbnNwZWN0ZWRXaW5kb3dcIjoge1xuICAgICAgICAgIFwiZXZhbFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAyLFxuICAgICAgICAgICAgXCJzaW5nbGVDYWxsYmFja0FyZ1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJwYW5lbHNcIjoge1xuICAgICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAzLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDMsXG4gICAgICAgICAgICBcInNpbmdsZUNhbGxiYWNrQXJnXCI6IHRydWVcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZWxlbWVudHNcIjoge1xuICAgICAgICAgICAgXCJjcmVhdGVTaWRlYmFyUGFuZVwiOiB7XG4gICAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiZG93bmxvYWRzXCI6IHtcbiAgICAgICAgXCJjYW5jZWxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZG93bmxvYWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXJhc2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0RmlsZUljb25cIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwib3BlblwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwicGF1c2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlRmlsZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZXN1bWVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInNob3dcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxLFxuICAgICAgICAgIFwiZmFsbGJhY2tUb05vQ2FsbGJhY2tcIjogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJleHRlbnNpb25cIjoge1xuICAgICAgICBcImlzQWxsb3dlZEZpbGVTY2hlbWVBY2Nlc3NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiaXNBbGxvd2VkSW5jb2duaXRvQWNjZXNzXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJoaXN0b3J5XCI6IHtcbiAgICAgICAgXCJhZGRVcmxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVsZXRlQWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcImRlbGV0ZVJhbmdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImRlbGV0ZVVybFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRWaXNpdHNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VhcmNoXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJpMThuXCI6IHtcbiAgICAgICAgXCJkZXRlY3RMYW5ndWFnZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBY2NlcHRMYW5ndWFnZXNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcImlkZW50aXR5XCI6IHtcbiAgICAgICAgXCJsYXVuY2hXZWJBdXRoRmxvd1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiaWRsZVwiOiB7XG4gICAgICAgIFwicXVlcnlTdGF0ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwibWFuYWdlbWVudFwiOiB7XG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRTZWxmXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcInNldEVuYWJsZWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwidW5pbnN0YWxsU2VsZlwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwibm90aWZpY2F0aW9uc1wiOiB7XG4gICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9LFxuICAgICAgICBcImdldEFsbFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRQZXJtaXNzaW9uTGV2ZWxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJwYWdlQWN0aW9uXCI6IHtcbiAgICAgICAgXCJnZXRQb3B1cFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRUaXRsZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJoaWRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRJY29uXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInNldFBvcHVwXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMSxcbiAgICAgICAgICBcImZhbGxiYWNrVG9Ob0NhbGxiYWNrXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRUaXRsZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwic2hvd1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDEsXG4gICAgICAgICAgXCJmYWxsYmFja1RvTm9DYWxsYmFja1wiOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInBlcm1pc3Npb25zXCI6IHtcbiAgICAgICAgXCJjb250YWluc1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRBbGxcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInJlcXVlc3RcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInJ1bnRpbWVcIjoge1xuICAgICAgICBcImdldEJhY2tncm91bmRQYWdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcImdldFBsYXRmb3JtSW5mb1wiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJvcGVuT3B0aW9uc1BhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVxdWVzdFVwZGF0ZUNoZWNrXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9LFxuICAgICAgICBcInNlbmRNZXNzYWdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogM1xuICAgICAgICB9LFxuICAgICAgICBcInNlbmROYXRpdmVNZXNzYWdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMixcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9LFxuICAgICAgICBcInNldFVuaW5zdGFsbFVSTFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwic2Vzc2lvbnNcIjoge1xuICAgICAgICBcImdldERldmljZXNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0UmVjZW50bHlDbG9zZWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVzdG9yZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwic3RvcmFnZVwiOiB7XG4gICAgICAgIFwibG9jYWxcIjoge1xuICAgICAgICAgIFwiY2xlYXJcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCeXRlc0luVXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwic2V0XCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwibWFuYWdlZFwiOiB7XG4gICAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJnZXRCeXRlc0luVXNlXCI6IHtcbiAgICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwic3luY1wiOiB7XG4gICAgICAgICAgXCJjbGVhclwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldFwiOiB7XG4gICAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImdldEJ5dGVzSW5Vc2VcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJyZW1vdmVcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJzZXRcIjoge1xuICAgICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidGFic1wiOiB7XG4gICAgICAgIFwiY2FwdHVyZVZpc2libGVUYWJcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwiY3JlYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImRldGVjdExhbmd1YWdlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImRpc2NhcmRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZHVwbGljYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImV4ZWN1dGVTY3JpcHRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0Wm9vbVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ29CYWNrXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdvRm9yd2FyZFwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJoaWdobGlnaHRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiaW5zZXJ0Q1NTXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9LFxuICAgICAgICBcIm1vdmVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwicXVlcnlcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVsb2FkXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9LFxuICAgICAgICBcInJlbW92ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJyZW1vdmVDU1NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwic2VuZE1lc3NhZ2VcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAyLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAzXG4gICAgICAgIH0sXG4gICAgICAgIFwic2V0Wm9vbVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDEsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfSxcbiAgICAgICAgXCJzZXRab29tU2V0dGluZ3NcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwidXBkYXRlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMlxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ0b3BTaXRlc1wiOiB7XG4gICAgICAgIFwiZ2V0XCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMFxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCJ3ZWJOYXZpZ2F0aW9uXCI6IHtcbiAgICAgICAgXCJnZXRBbGxGcmFtZXNcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0RnJhbWVcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcIndlYlJlcXVlc3RcIjoge1xuICAgICAgICBcImhhbmRsZXJCZWhhdmlvckNoYW5nZWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAwXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcIndpbmRvd3NcIjoge1xuICAgICAgICBcImNyZWF0ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDAsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDFcbiAgICAgICAgfSxcbiAgICAgICAgXCJnZXRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAxLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAyXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0QWxsXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMCxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcImdldEN1cnJlbnRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwiZ2V0TGFzdEZvY3VzZWRcIjoge1xuICAgICAgICAgIFwibWluQXJnc1wiOiAwLFxuICAgICAgICAgIFwibWF4QXJnc1wiOiAxXG4gICAgICAgIH0sXG4gICAgICAgIFwicmVtb3ZlXCI6IHtcbiAgICAgICAgICBcIm1pbkFyZ3NcIjogMSxcbiAgICAgICAgICBcIm1heEFyZ3NcIjogMVxuICAgICAgICB9LFxuICAgICAgICBcInVwZGF0ZVwiOiB7XG4gICAgICAgICAgXCJtaW5BcmdzXCI6IDIsXG4gICAgICAgICAgXCJtYXhBcmdzXCI6IDJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBpZiAoT2JqZWN0LmtleXMoYXBpTWV0YWRhdGEpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXBpLW1ldGFkYXRhLmpzb24gaGFzIG5vdCBiZWVuIGluY2x1ZGVkIGluIGJyb3dzZXItcG9seWZpbGxcIik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBXZWFrTWFwIHN1YmNsYXNzIHdoaWNoIGNyZWF0ZXMgYW5kIHN0b3JlcyBhIHZhbHVlIGZvciBhbnkga2V5IHdoaWNoIGRvZXNcbiAgICAgKiBub3QgZXhpc3Qgd2hlbiBhY2Nlc3NlZCwgYnV0IGJlaGF2ZXMgZXhhY3RseSBhcyBhbiBvcmRpbmFyeSBXZWFrTWFwXG4gICAgICogb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY3JlYXRlSXRlbVxuICAgICAqICAgICAgICBBIGZ1bmN0aW9uIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGluIG9yZGVyIHRvIGNyZWF0ZSB0aGUgdmFsdWUgZm9yIGFueVxuICAgICAqICAgICAgICBrZXkgd2hpY2ggZG9lcyBub3QgZXhpc3QsIHRoZSBmaXJzdCB0aW1lIGl0IGlzIGFjY2Vzc2VkLiBUaGVcbiAgICAgKiAgICAgICAgZnVuY3Rpb24gcmVjZWl2ZXMsIGFzIGl0cyBvbmx5IGFyZ3VtZW50LCB0aGUga2V5IGJlaW5nIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY2xhc3MgRGVmYXVsdFdlYWtNYXAgZXh0ZW5kcyBXZWFrTWFwIHtcbiAgICAgIGNvbnN0cnVjdG9yKGNyZWF0ZUl0ZW0sIGl0ZW1zID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHN1cGVyKGl0ZW1zKTtcbiAgICAgICAgdGhpcy5jcmVhdGVJdGVtID0gY3JlYXRlSXRlbTtcbiAgICAgIH1cblxuICAgICAgZ2V0KGtleSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzKGtleSkpIHtcbiAgICAgICAgICB0aGlzLnNldChrZXksIHRoaXMuY3JlYXRlSXRlbShrZXkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdXBlci5nZXQoa2V5KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG9iamVjdCBpcyBhbiBvYmplY3Qgd2l0aCBhIGB0aGVuYCBtZXRob2QsIGFuZCBjYW5cbiAgICAgKiB0aGVyZWZvcmUgYmUgYXNzdW1lZCB0byBiZWhhdmUgYXMgYSBQcm9taXNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgdGhlbmFibGUuXG4gICAgICovXG4gICAgY29uc3QgaXNUaGVuYWJsZSA9IHZhbHVlID0+IHtcbiAgICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09IFwiZnVuY3Rpb25cIjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHdoaWNoLCB3aGVuIGNhbGxlZCwgd2lsbCByZXNvbHZlIG9yIHJlamVjdFxuICAgICAqIHRoZSBnaXZlbiBwcm9taXNlIGJhc2VkIG9uIGhvdyBpdCBpcyBjYWxsZWQ6XG4gICAgICpcbiAgICAgKiAtIElmLCB3aGVuIGNhbGxlZCwgYGNocm9tZS5ydW50aW1lLmxhc3RFcnJvcmAgY29udGFpbnMgYSBub24tbnVsbCBvYmplY3QsXG4gICAgICogICB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIHRoYXQgdmFsdWUuXG4gICAgICogLSBJZiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggZXhhY3RseSBvbmUgYXJndW1lbnQsIHRoZSBwcm9taXNlIGlzXG4gICAgICogICByZXNvbHZlZCB0byB0aGF0IHZhbHVlLlxuICAgICAqIC0gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB0byBhbiBhcnJheSBjb250YWluaW5nIGFsbCBvZiB0aGVcbiAgICAgKiAgIGZ1bmN0aW9uJ3MgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHByb21pc2VcbiAgICAgKiAgICAgICAgQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc29sdXRpb24gYW5kIHJlamVjdGlvbiBmdW5jdGlvbnMgb2YgYVxuICAgICAqICAgICAgICBwcm9taXNlLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHByb21pc2UucmVzb2x2ZVxuICAgICAqICAgICAgICBUaGUgcHJvbWlzZSdzIHJlc29sdXRpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gcHJvbWlzZS5yZWplY3RcbiAgICAgKiAgICAgICAgVGhlIHByb21pc2UncyByZWplY3Rpb24gZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG1ldGFkYXRhXG4gICAgICogICAgICAgIE1ldGFkYXRhIGFib3V0IHRoZSB3cmFwcGVkIG1ldGhvZCB3aGljaCBoYXMgY3JlYXRlZCB0aGUgY2FsbGJhY2suXG4gICAgICogQHBhcmFtIHtib29sZWFufSBtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZ1xuICAgICAqICAgICAgICBXaGV0aGVyIG9yIG5vdCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIG9ubHkgdGhlIGZpcnN0XG4gICAgICogICAgICAgIGFyZ3VtZW50IG9mIHRoZSBjYWxsYmFjaywgYWx0ZXJuYXRpdmVseSBhbiBhcnJheSBvZiBhbGwgdGhlXG4gICAgICogICAgICAgIGNhbGxiYWNrIGFyZ3VtZW50cyBpcyByZXNvbHZlZC4gQnkgZGVmYXVsdCwgaWYgdGhlIGNhbGxiYWNrXG4gICAgICogICAgICAgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBvbmx5IGEgc2luZ2xlIGFyZ3VtZW50LCB0aGF0IHdpbGwgYmVcbiAgICAgKiAgICAgICAgcmVzb2x2ZWQgdG8gdGhlIHByb21pc2UsIHdoaWxlIGFsbCBhcmd1bWVudHMgd2lsbCBiZSByZXNvbHZlZCBhc1xuICAgICAqICAgICAgICBhbiBhcnJheSBpZiBtdWx0aXBsZSBhcmUgZ2l2ZW4uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb259XG4gICAgICogICAgICAgIFRoZSBnZW5lcmF0ZWQgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICovXG4gICAgY29uc3QgbWFrZUNhbGxiYWNrID0gKHByb21pc2UsIG1ldGFkYXRhKSA9PiB7XG4gICAgICByZXR1cm4gKC4uLmNhbGxiYWNrQXJncykgPT4ge1xuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvcikge1xuICAgICAgICAgIHByb21pc2UucmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXRhZGF0YS5zaW5nbGVDYWxsYmFja0FyZyB8fFxuICAgICAgICAgICAgICAgICAgIChjYWxsYmFja0FyZ3MubGVuZ3RoIDw9IDEgJiYgbWV0YWRhdGEuc2luZ2xlQ2FsbGJhY2tBcmcgIT09IGZhbHNlKSkge1xuICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3NbMF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb21pc2UucmVzb2x2ZShjYWxsYmFja0FyZ3MpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCBwbHVyYWxpemVBcmd1bWVudHMgPSAobnVtQXJncykgPT4gbnVtQXJncyA9PSAxID8gXCJhcmd1bWVudFwiIDogXCJhcmd1bWVudHNcIjtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB3cmFwcGVyIGZ1bmN0aW9uIGZvciBhIG1ldGhvZCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCBtZXRhZGF0YS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gICAgICogICAgICAgIFRoZSBuYW1lIG9mIHRoZSBtZXRob2Qgd2hpY2ggaXMgYmVpbmcgd3JhcHBlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gbWV0YWRhdGFcbiAgICAgKiAgICAgICAgTWV0YWRhdGEgYWJvdXQgdGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLlxuICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWluQXJnc1xuICAgICAqICAgICAgICBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG11c3QgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAqICAgICAgICBmdW5jdGlvbi4gSWYgY2FsbGVkIHdpdGggZmV3ZXIgdGhhbiB0aGlzIG51bWJlciBvZiBhcmd1bWVudHMsIHRoZVxuICAgICAqICAgICAgICB3cmFwcGVyIHdpbGwgcmFpc2UgYW4gZXhjZXB0aW9uLlxuICAgICAqIEBwYXJhbSB7aW50ZWdlcn0gbWV0YWRhdGEubWF4QXJnc1xuICAgICAqICAgICAgICBUaGUgbWF4aW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHdoaWNoIG1heSBiZSBwYXNzZWQgdG8gdGhlXG4gICAgICogICAgICAgIGZ1bmN0aW9uLiBJZiBjYWxsZWQgd2l0aCBtb3JlIHRoYW4gdGhpcyBudW1iZXIgb2YgYXJndW1lbnRzLCB0aGVcbiAgICAgKiAgICAgICAgd3JhcHBlciB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1ldGFkYXRhLnNpbmdsZUNhbGxiYWNrQXJnXG4gICAgICogICAgICAgIFdoZXRoZXIgb3Igbm90IHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIHdpdGggb25seSB0aGUgZmlyc3RcbiAgICAgKiAgICAgICAgYXJndW1lbnQgb2YgdGhlIGNhbGxiYWNrLCBhbHRlcm5hdGl2ZWx5IGFuIGFycmF5IG9mIGFsbCB0aGVcbiAgICAgKiAgICAgICAgY2FsbGJhY2sgYXJndW1lbnRzIGlzIHJlc29sdmVkLiBCeSBkZWZhdWx0LCBpZiB0aGUgY2FsbGJhY2tcbiAgICAgKiAgICAgICAgZnVuY3Rpb24gaXMgaW52b2tlZCB3aXRoIG9ubHkgYSBzaW5nbGUgYXJndW1lbnQsIHRoYXQgd2lsbCBiZVxuICAgICAqICAgICAgICByZXNvbHZlZCB0byB0aGUgcHJvbWlzZSwgd2hpbGUgYWxsIGFyZ3VtZW50cyB3aWxsIGJlIHJlc29sdmVkIGFzXG4gICAgICogICAgICAgIGFuIGFycmF5IGlmIG11bHRpcGxlIGFyZSBnaXZlbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihvYmplY3QsIC4uLiopfVxuICAgICAqICAgICAgIFRoZSBnZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBjb25zdCB3cmFwQXN5bmNGdW5jdGlvbiA9IChuYW1lLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFzeW5jRnVuY3Rpb25XcmFwcGVyKHRhcmdldCwgLi4uYXJncykge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPCBtZXRhZGF0YS5taW5BcmdzKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhdCBsZWFzdCAke21ldGFkYXRhLm1pbkFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1pbkFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA+IG1ldGFkYXRhLm1heEFyZ3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IG1vc3QgJHttZXRhZGF0YS5tYXhBcmdzfSAke3BsdXJhbGl6ZUFyZ3VtZW50cyhtZXRhZGF0YS5tYXhBcmdzKX0gZm9yICR7bmFtZX0oKSwgZ290ICR7YXJncy5sZW5ndGh9YCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGlmIChtZXRhZGF0YS5mYWxsYmFja1RvTm9DYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVGhpcyBBUEkgbWV0aG9kIGhhcyBjdXJyZW50bHkgbm8gY2FsbGJhY2sgb24gQ2hyb21lLCBidXQgaXQgcmV0dXJuIGEgcHJvbWlzZSBvbiBGaXJlZm94LFxuICAgICAgICAgICAgLy8gYW5kIHNvIHRoZSBwb2x5ZmlsbCB3aWxsIHRyeSB0byBjYWxsIGl0IHdpdGggYSBjYWxsYmFjayBmaXJzdCwgYW5kIGl0IHdpbGwgZmFsbGJhY2tcbiAgICAgICAgICAgIC8vIHRvIG5vdCBwYXNzaW5nIHRoZSBjYWxsYmFjayBpZiB0aGUgZmlyc3QgY2FsbCBmYWlscy5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe3Jlc29sdmUsIHJlamVjdH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChjYkVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtuYW1lfSBBUEkgbWV0aG9kIGRvZXNuJ3Qgc2VlbSB0byBzdXBwb3J0IHRoZSBjYWxsYmFjayBwYXJhbWV0ZXIsIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmYWxsaW5nIGJhY2sgdG8gY2FsbCBpdCB3aXRob3V0IGEgY2FsbGJhY2s6IFwiLCBjYkVycm9yKTtcblxuICAgICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG5cbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBBUEkgbWV0aG9kIG1ldGFkYXRhLCBzbyB0aGF0IHRoZSBuZXh0IEFQSSBjYWxscyB3aWxsIG5vdCB0cnkgdG9cbiAgICAgICAgICAgICAgLy8gdXNlIHRoZSB1bnN1cHBvcnRlZCBjYWxsYmFjayBhbnltb3JlLlxuICAgICAgICAgICAgICBtZXRhZGF0YS5mYWxsYmFja1RvTm9DYWxsYmFjayA9IGZhbHNlO1xuICAgICAgICAgICAgICBtZXRhZGF0YS5ub0NhbGxiYWNrID0gdHJ1ZTtcblxuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChtZXRhZGF0YS5ub0NhbGxiYWNrKSB7XG4gICAgICAgICAgICB0YXJnZXRbbmFtZV0oLi4uYXJncyk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtuYW1lXSguLi5hcmdzLCBtYWtlQ2FsbGJhY2soe3Jlc29sdmUsIHJlamVjdH0sIG1ldGFkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFdyYXBzIGFuIGV4aXN0aW5nIG1ldGhvZCBvZiB0aGUgdGFyZ2V0IG9iamVjdCwgc28gdGhhdCBjYWxscyB0byBpdCBhcmVcbiAgICAgKiBpbnRlcmNlcHRlZCBieSB0aGUgZ2l2ZW4gd3JhcHBlciBmdW5jdGlvbi4gVGhlIHdyYXBwZXIgZnVuY3Rpb24gcmVjZWl2ZXMsXG4gICAgICogYXMgaXRzIGZpcnN0IGFyZ3VtZW50LCB0aGUgb3JpZ2luYWwgYHRhcmdldGAgb2JqZWN0LCBmb2xsb3dlZCBieSBlYWNoIG9mXG4gICAgICogdGhlIGFyZ3VtZW50cyBwYXNzZWQgdG8gdGhlIG9yaWdpbmFsIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgKiAgICAgICAgVGhlIG9yaWdpbmFsIHRhcmdldCBvYmplY3QgdGhhdCB0aGUgd3JhcHBlZCBtZXRob2QgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2RcbiAgICAgKiAgICAgICAgVGhlIG1ldGhvZCBiZWluZyB3cmFwcGVkLiBUaGlzIGlzIHVzZWQgYXMgdGhlIHRhcmdldCBvZiB0aGUgUHJveHlcbiAgICAgKiAgICAgICAgb2JqZWN0IHdoaWNoIGlzIGNyZWF0ZWQgdG8gd3JhcCB0aGUgbWV0aG9kLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IHdyYXBwZXJcbiAgICAgKiAgICAgICAgVGhlIHdyYXBwZXIgZnVuY3Rpb24gd2hpY2ggaXMgY2FsbGVkIGluIHBsYWNlIG9mIGEgZGlyZWN0IGludm9jYXRpb25cbiAgICAgKiAgICAgICAgb2YgdGhlIHdyYXBwZWQgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb3h5PGZ1bmN0aW9uPn1cbiAgICAgKiAgICAgICAgQSBQcm94eSBvYmplY3QgZm9yIHRoZSBnaXZlbiBtZXRob2QsIHdoaWNoIGludm9rZXMgdGhlIGdpdmVuIHdyYXBwZXJcbiAgICAgKiAgICAgICAgbWV0aG9kIGluIGl0cyBwbGFjZS5cbiAgICAgKi9cbiAgICBjb25zdCB3cmFwTWV0aG9kID0gKHRhcmdldCwgbWV0aG9kLCB3cmFwcGVyKSA9PiB7XG4gICAgICByZXR1cm4gbmV3IFByb3h5KG1ldGhvZCwge1xuICAgICAgICBhcHBseSh0YXJnZXRNZXRob2QsIHRoaXNPYmosIGFyZ3MpIHtcbiAgICAgICAgICByZXR1cm4gd3JhcHBlci5jYWxsKHRoaXNPYmosIHRhcmdldCwgLi4uYXJncyk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgbGV0IGhhc093blByb3BlcnR5ID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYW4gb2JqZWN0IGluIGEgUHJveHkgd2hpY2ggaW50ZXJjZXB0cyBhbmQgd3JhcHMgY2VydGFpbiBtZXRob2RzXG4gICAgICogYmFzZWQgb24gdGhlIGdpdmVuIGB3cmFwcGVyc2AgYW5kIGBtZXRhZGF0YWAgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRcbiAgICAgKiAgICAgICAgVGhlIHRhcmdldCBvYmplY3QgdG8gd3JhcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbd3JhcHBlcnMgPSB7fV1cbiAgICAgKiAgICAgICAgQW4gb2JqZWN0IHRyZWUgY29udGFpbmluZyB3cmFwcGVyIGZ1bmN0aW9ucyBmb3Igc3BlY2lhbCBjYXNlcy4gQW55XG4gICAgICogICAgICAgIGZ1bmN0aW9uIHByZXNlbnQgaW4gdGhpcyBvYmplY3QgdHJlZSBpcyBjYWxsZWQgaW4gcGxhY2Ugb2YgdGhlXG4gICAgICogICAgICAgIG1ldGhvZCBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYHRhcmdldGAgb2JqZWN0IHRyZWUuIFRoZXNlXG4gICAgICogICAgICAgIHdyYXBwZXIgbWV0aG9kcyBhcmUgaW52b2tlZCBhcyBkZXNjcmliZWQgaW4ge0BzZWUgd3JhcE1ldGhvZH0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW21ldGFkYXRhID0ge31dXG4gICAgICogICAgICAgIEFuIG9iamVjdCB0cmVlIGNvbnRhaW5pbmcgbWV0YWRhdGEgdXNlZCB0byBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlXG4gICAgICogICAgICAgIFByb21pc2UtYmFzZWQgd3JhcHBlciBmdW5jdGlvbnMgZm9yIGFzeW5jaHJvbm91cy4gQW55IGZ1bmN0aW9uIGluXG4gICAgICogICAgICAgIHRoZSBgdGFyZ2V0YCBvYmplY3QgdHJlZSB3aGljaCBoYXMgYSBjb3JyZXNwb25kaW5nIG1ldGFkYXRhIG9iamVjdFxuICAgICAqICAgICAgICBpbiB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgYG1ldGFkYXRhYCB0cmVlIGlzIHJlcGxhY2VkIHdpdGggYW5cbiAgICAgKiAgICAgICAgYXV0b21hdGljYWxseS1nZW5lcmF0ZWQgd3JhcHBlciBmdW5jdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4gICAgICogICAgICAgIHtAc2VlIHdyYXBBc3luY0Z1bmN0aW9ufVxuICAgICAqXG4gICAgICogQHJldHVybnMge1Byb3h5PG9iamVjdD59XG4gICAgICovXG4gICAgY29uc3Qgd3JhcE9iamVjdCA9ICh0YXJnZXQsIHdyYXBwZXJzID0ge30sIG1ldGFkYXRhID0ge30pID0+IHtcbiAgICAgIGxldCBjYWNoZSA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBsZXQgaGFuZGxlcnMgPSB7XG4gICAgICAgIGhhcyhwcm94eVRhcmdldCwgcHJvcCkge1xuICAgICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldCB8fCBwcm9wIGluIGNhY2hlO1xuICAgICAgICB9LFxuXG4gICAgICAgIGdldChwcm94eVRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICBpZiAocHJvcCBpbiBjYWNoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlW3Byb3BdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghKHByb3AgaW4gdGFyZ2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsZXQgdmFsdWUgPSB0YXJnZXRbcHJvcF07XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBtZXRob2Qgb24gdGhlIHVuZGVybHlpbmcgb2JqZWN0LiBDaGVjayBpZiB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbnkgd3JhcHBpbmcuXG5cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd3JhcHBlcnNbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAvLyBXZSBoYXZlIGEgc3BlY2lhbC1jYXNlIHdyYXBwZXIgZm9yIHRoaXMgbWV0aG9kLlxuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXJzW3Byb3BdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT3duUHJvcGVydHkobWV0YWRhdGEsIHByb3ApKSB7XG4gICAgICAgICAgICAgIC8vIFRoaXMgaXMgYW4gYXN5bmMgbWV0aG9kIHRoYXQgd2UgaGF2ZSBtZXRhZGF0YSBmb3IuIENyZWF0ZSBhXG4gICAgICAgICAgICAgIC8vIFByb21pc2Ugd3JhcHBlciBmb3IgaXQuXG4gICAgICAgICAgICAgIGxldCB3cmFwcGVyID0gd3JhcEFzeW5jRnVuY3Rpb24ocHJvcCwgbWV0YWRhdGFbcHJvcF0pO1xuICAgICAgICAgICAgICB2YWx1ZSA9IHdyYXBNZXRob2QodGFyZ2V0LCB0YXJnZXRbcHJvcF0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG1ldGhvZCB0aGF0IHdlIGRvbid0IGtub3cgb3IgY2FyZSBhYm91dC4gUmV0dXJuIHRoZVxuICAgICAgICAgICAgICAvLyBvcmlnaW5hbCBtZXRob2QsIGJvdW5kIHRvIHRoZSB1bmRlcmx5aW5nIG9iamVjdC5cbiAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5iaW5kKHRhcmdldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgIChoYXNPd25Qcm9wZXJ0eSh3cmFwcGVycywgcHJvcCkgfHxcbiAgICAgICAgICAgICAgICAgICAgICBoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgcHJvcCkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGFuIG9iamVjdCB0aGF0IHdlIG5lZWQgdG8gZG8gc29tZSB3cmFwcGluZyBmb3IgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICAvLyBvZi4gQ3JlYXRlIGEgc3ViLW9iamVjdCB3cmFwcGVyIGZvciBpdCB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjaGlsZFxuICAgICAgICAgICAgLy8gbWV0YWRhdGEuXG4gICAgICAgICAgICB2YWx1ZSA9IHdyYXBPYmplY3QodmFsdWUsIHdyYXBwZXJzW3Byb3BdLCBtZXRhZGF0YVtwcm9wXSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNPd25Qcm9wZXJ0eShtZXRhZGF0YSwgXCIqXCIpKSB7XG4gICAgICAgICAgICAvLyBXcmFwIGFsbCBwcm9wZXJ0aWVzIGluICogbmFtZXNwYWNlLlxuICAgICAgICAgICAgdmFsdWUgPSB3cmFwT2JqZWN0KHZhbHVlLCB3cmFwcGVyc1twcm9wXSwgbWV0YWRhdGFbXCIqXCJdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBkbyBhbnkgd3JhcHBpbmcgZm9yIHRoaXMgcHJvcGVydHksXG4gICAgICAgICAgICAvLyBzbyBqdXN0IGZvcndhcmQgYWxsIGFjY2VzcyB0byB0aGUgdW5kZXJseWluZyBvYmplY3QuXG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY2FjaGUsIHByb3AsIHtcbiAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2V0KHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldChwcm94eVRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKSB7XG4gICAgICAgICAgaWYgKHByb3AgaW4gY2FjaGUpIHtcbiAgICAgICAgICAgIGNhY2hlW3Byb3BdID0gdmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZWZpbmVQcm9wZXJ0eShwcm94eVRhcmdldCwgcHJvcCwgZGVzYykge1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlZmluZVByb3BlcnR5KGNhY2hlLCBwcm9wLCBkZXNjKTtcbiAgICAgICAgfSxcblxuICAgICAgICBkZWxldGVQcm9wZXJ0eShwcm94eVRhcmdldCwgcHJvcCkge1xuICAgICAgICAgIHJldHVybiBSZWZsZWN0LmRlbGV0ZVByb3BlcnR5KGNhY2hlLCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgIH07XG5cbiAgICAgIC8vIFBlciBjb250cmFjdCBvZiB0aGUgUHJveHkgQVBJLCB0aGUgXCJnZXRcIiBwcm94eSBoYW5kbGVyIG11c3QgcmV0dXJuIHRoZVxuICAgICAgLy8gb3JpZ2luYWwgdmFsdWUgb2YgdGhlIHRhcmdldCBpZiB0aGF0IHZhbHVlIGlzIGRlY2xhcmVkIHJlYWQtb25seSBhbmRcbiAgICAgIC8vIG5vbi1jb25maWd1cmFibGUuIEZvciB0aGlzIHJlYXNvbiwgd2UgY3JlYXRlIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAgLy8gcHJvdG90eXBlIHNldCB0byBgdGFyZ2V0YCBpbnN0ZWFkIG9mIHVzaW5nIGB0YXJnZXRgIGRpcmVjdGx5LlxuICAgICAgLy8gT3RoZXJ3aXNlIHdlIGNhbm5vdCByZXR1cm4gYSBjdXN0b20gb2JqZWN0IGZvciBBUElzIHRoYXRcbiAgICAgIC8vIGFyZSBkZWNsYXJlZCByZWFkLW9ubHkgYW5kIG5vbi1jb25maWd1cmFibGUsIHN1Y2ggYXMgYGNocm9tZS5kZXZ0b29sc2AuXG4gICAgICAvL1xuICAgICAgLy8gVGhlIHByb3h5IGhhbmRsZXJzIHRoZW1zZWx2ZXMgd2lsbCBzdGlsbCB1c2UgdGhlIG9yaWdpbmFsIGB0YXJnZXRgXG4gICAgICAvLyBpbnN0ZWFkIG9mIHRoZSBgcHJveHlUYXJnZXRgLCBzbyB0aGF0IHRoZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzIGFyZVxuICAgICAgLy8gZGVyZWZlcmVuY2VkIHZpYSB0aGUgb3JpZ2luYWwgdGFyZ2V0cy5cbiAgICAgIGxldCBwcm94eVRhcmdldCA9IE9iamVjdC5jcmVhdGUodGFyZ2V0KTtcbiAgICAgIHJldHVybiBuZXcgUHJveHkocHJveHlUYXJnZXQsIGhhbmRsZXJzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNldCBvZiB3cmFwcGVyIGZ1bmN0aW9ucyBmb3IgYW4gZXZlbnQgb2JqZWN0LCB3aGljaCBoYW5kbGVzXG4gICAgICogd3JhcHBpbmcgb2YgbGlzdGVuZXIgZnVuY3Rpb25zIHRoYXQgdGhvc2UgbWVzc2FnZXMgYXJlIHBhc3NlZC5cbiAgICAgKlxuICAgICAqIEEgc2luZ2xlIHdyYXBwZXIgaXMgY3JlYXRlZCBmb3IgZWFjaCBsaXN0ZW5lciBmdW5jdGlvbiwgYW5kIHN0b3JlZCBpbiBhXG4gICAgICogbWFwLiBTdWJzZXF1ZW50IGNhbGxzIHRvIGBhZGRMaXN0ZW5lcmAsIGBoYXNMaXN0ZW5lcmAsIG9yIGByZW1vdmVMaXN0ZW5lcmBcbiAgICAgKiByZXRyaWV2ZSB0aGUgb3JpZ2luYWwgd3JhcHBlciwgc28gdGhhdCAgYXR0ZW1wdHMgdG8gcmVtb3ZlIGFcbiAgICAgKiBwcmV2aW91c2x5LWFkZGVkIGxpc3RlbmVyIHdvcmsgYXMgZXhwZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0RlZmF1bHRXZWFrTWFwPGZ1bmN0aW9uLCBmdW5jdGlvbj59IHdyYXBwZXJNYXBcbiAgICAgKiAgICAgICAgQSBEZWZhdWx0V2Vha01hcCBvYmplY3Qgd2hpY2ggd2lsbCBjcmVhdGUgdGhlIGFwcHJvcHJpYXRlIHdyYXBwZXJcbiAgICAgKiAgICAgICAgZm9yIGEgZ2l2ZW4gbGlzdGVuZXIgZnVuY3Rpb24gd2hlbiBvbmUgZG9lcyBub3QgZXhpc3QsIGFuZCByZXRyaWV2ZVxuICAgICAqICAgICAgICBhbiBleGlzdGluZyBvbmUgd2hlbiBpdCBkb2VzLlxuICAgICAqXG4gICAgICogQHJldHVybnMge29iamVjdH1cbiAgICAgKi9cbiAgICBjb25zdCB3cmFwRXZlbnQgPSB3cmFwcGVyTWFwID0+ICh7XG4gICAgICBhZGRMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyLCAuLi5hcmdzKSB7XG4gICAgICAgIHRhcmdldC5hZGRMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lciksIC4uLmFyZ3MpO1xuICAgICAgfSxcblxuICAgICAgaGFzTGlzdGVuZXIodGFyZ2V0LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGFyZ2V0Lmhhc0xpc3RlbmVyKHdyYXBwZXJNYXAuZ2V0KGxpc3RlbmVyKSk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmVMaXN0ZW5lcih0YXJnZXQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcih3cmFwcGVyTWFwLmdldChsaXN0ZW5lcikpO1xuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGNvbnN0IG9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhbiBvblJlcXVlc3RGaW5pc2hlZCBsaXN0ZW5lciBmdW5jdGlvbiBzbyB0aGF0IGl0IHdpbGwgcmV0dXJuIGFcbiAgICAgICAqIGBnZXRDb250ZW50KClgIHByb3BlcnR5IHdoaWNoIHJldHVybnMgYSBgUHJvbWlzZWAgcmF0aGVyIHRoYW4gdXNpbmcgYVxuICAgICAgICogY2FsbGJhY2sgQVBJLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSByZXFcbiAgICAgICAqICAgICAgICBUaGUgSEFSIGVudHJ5IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uUmVxdWVzdEZpbmlzaGVkKHJlcSkge1xuICAgICAgICBjb25zdCB3cmFwcGVkUmVxID0gd3JhcE9iamVjdChyZXEsIHt9IC8qIHdyYXBwZXJzICovLCB7XG4gICAgICAgICAgZ2V0Q29udGVudDoge1xuICAgICAgICAgICAgbWluQXJnczogMCxcbiAgICAgICAgICAgIG1heEFyZ3M6IDAsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICAgIGxpc3RlbmVyKHdyYXBwZWRSZXEpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEtlZXAgdHJhY2sgaWYgdGhlIGRlcHJlY2F0aW9uIHdhcm5pbmcgaGFzIGJlZW4gbG9nZ2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgbGV0IGxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyA9IGZhbHNlO1xuXG4gICAgY29uc3Qgb25NZXNzYWdlV3JhcHBlcnMgPSBuZXcgRGVmYXVsdFdlYWtNYXAobGlzdGVuZXIgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBsaXN0ZW5lcjtcbiAgICAgIH1cblxuICAgICAgLyoqXG4gICAgICAgKiBXcmFwcyBhIG1lc3NhZ2UgbGlzdGVuZXIgZnVuY3Rpb24gc28gdGhhdCBpdCBtYXkgc2VuZCByZXNwb25zZXMgYmFzZWQgb25cbiAgICAgICAqIGl0cyByZXR1cm4gdmFsdWUsIHJhdGhlciB0aGFuIGJ5IHJldHVybmluZyBhIHNlbnRpbmVsIHZhbHVlIGFuZCBjYWxsaW5nIGFcbiAgICAgICAqIGNhbGxiYWNrLiBJZiB0aGUgbGlzdGVuZXIgZnVuY3Rpb24gcmV0dXJucyBhIFByb21pc2UsIHRoZSByZXNwb25zZSBpc1xuICAgICAgICogc2VudCB3aGVuIHRoZSBwcm9taXNlIGVpdGhlciByZXNvbHZlcyBvciByZWplY3RzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0gbWVzc2FnZVxuICAgICAgICogICAgICAgIFRoZSBtZXNzYWdlIHNlbnQgYnkgdGhlIG90aGVyIGVuZCBvZiB0aGUgY2hhbm5lbC5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzZW5kZXJcbiAgICAgICAqICAgICAgICBEZXRhaWxzIGFib3V0IHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBzZW5kUmVzcG9uc2VcbiAgICAgICAqICAgICAgICBBIGNhbGxiYWNrIHdoaWNoLCB3aGVuIGNhbGxlZCB3aXRoIGFuIGFyYml0cmFyeSBhcmd1bWVudCwgc2VuZHNcbiAgICAgICAqICAgICAgICB0aGF0IHZhbHVlIGFzIGEgcmVzcG9uc2UuXG4gICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgICAqICAgICAgICBUcnVlIGlmIHRoZSB3cmFwcGVkIGxpc3RlbmVyIHJldHVybmVkIGEgUHJvbWlzZSwgd2hpY2ggd2lsbCBsYXRlclxuICAgICAgICogICAgICAgIHlpZWxkIGEgcmVzcG9uc2UuIEZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAqL1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG9uTWVzc2FnZShtZXNzYWdlLCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgICBsZXQgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IGZhbHNlO1xuXG4gICAgICAgIGxldCB3cmFwcGVkU2VuZFJlc3BvbnNlO1xuICAgICAgICBsZXQgc2VuZFJlc3BvbnNlUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgIHdyYXBwZWRTZW5kUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKCFsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmcpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKFNFTkRfUkVTUE9OU0VfREVQUkVDQVRJT05fV0FSTklORywgbmV3IEVycm9yKCkuc3RhY2spO1xuICAgICAgICAgICAgICBsb2dnZWRTZW5kUmVzcG9uc2VEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGlkQ2FsbFNlbmRSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlc3VsdCA9IGxpc3RlbmVyKG1lc3NhZ2UsIHNlbmRlciwgd3JhcHBlZFNlbmRSZXNwb25zZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHJlc3VsdCA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1Jlc3VsdFRoZW5hYmxlID0gcmVzdWx0ICE9PSB0cnVlICYmIGlzVGhlbmFibGUocmVzdWx0KTtcblxuICAgICAgICAvLyBJZiB0aGUgbGlzdGVuZXIgZGlkbid0IHJldHVybmVkIHRydWUgb3IgYSBQcm9taXNlLCBvciBjYWxsZWRcbiAgICAgICAgLy8gd3JhcHBlZFNlbmRSZXNwb25zZSBzeW5jaHJvbm91c2x5LCB3ZSBjYW4gZXhpdCBlYXJsaWVyXG4gICAgICAgIC8vIGJlY2F1c2UgdGhlcmUgd2lsbCBiZSBubyByZXNwb25zZSBzZW50IGZyb20gdGhpcyBsaXN0ZW5lci5cbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gdHJ1ZSAmJiAhaXNSZXN1bHRUaGVuYWJsZSAmJiAhZGlkQ2FsbFNlbmRSZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEEgc21hbGwgaGVscGVyIHRvIHNlbmQgdGhlIG1lc3NhZ2UgaWYgdGhlIHByb21pc2UgcmVzb2x2ZXNcbiAgICAgICAgLy8gYW5kIGFuIGVycm9yIGlmIHRoZSBwcm9taXNlIHJlamVjdHMgKGEgd3JhcHBlZCBzZW5kTWVzc2FnZSBoYXNcbiAgICAgICAgLy8gdG8gdHJhbnNsYXRlIHRoZSBtZXNzYWdlIGludG8gYSByZXNvbHZlZCBwcm9taXNlIG9yIGEgcmVqZWN0ZWRcbiAgICAgICAgLy8gcHJvbWlzZSkuXG4gICAgICAgIGNvbnN0IHNlbmRQcm9taXNlZFJlc3VsdCA9IChwcm9taXNlKSA9PiB7XG4gICAgICAgICAgcHJvbWlzZS50aGVuKG1zZyA9PiB7XG4gICAgICAgICAgICAvLyBzZW5kIHRoZSBtZXNzYWdlIHZhbHVlLlxuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKG1zZyk7XG4gICAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgLy8gU2VuZCBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIGVycm9yIGlmIHRoZSByZWplY3RlZCB2YWx1ZVxuICAgICAgICAgICAgLy8gaXMgYW4gaW5zdGFuY2Ugb2YgZXJyb3IsIG9yIHRoZSBvYmplY3QgaXRzZWxmIG90aGVyd2lzZS5cbiAgICAgICAgICAgIGxldCBtZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGVycm9yICYmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yIHx8XG4gICAgICAgICAgICAgICAgdHlwZW9mIGVycm9yLm1lc3NhZ2UgPT09IFwic3RyaW5nXCIpKSB7XG4gICAgICAgICAgICAgIG1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWVzc2FnZSA9IFwiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZW5kUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICBfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X186IHRydWUsXG4gICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgLy8gUHJpbnQgYW4gZXJyb3Igb24gdGhlIGNvbnNvbGUgaWYgdW5hYmxlIHRvIHNlbmQgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkZhaWxlZCB0byBzZW5kIG9uTWVzc2FnZSByZWplY3RlZCByZXBseVwiLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIElmIHRoZSBsaXN0ZW5lciByZXR1cm5lZCBhIFByb21pc2UsIHNlbmQgdGhlIHJlc29sdmVkIHZhbHVlIGFzIGFcbiAgICAgICAgLy8gcmVzdWx0LCBvdGhlcndpc2Ugd2FpdCB0aGUgcHJvbWlzZSByZWxhdGVkIHRvIHRoZSB3cmFwcGVkU2VuZFJlc3BvbnNlXG4gICAgICAgIC8vIGNhbGxiYWNrIHRvIHJlc29sdmUgYW5kIHNlbmQgaXQgYXMgYSByZXNwb25zZS5cbiAgICAgICAgaWYgKGlzUmVzdWx0VGhlbmFibGUpIHtcbiAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZW5kUHJvbWlzZWRSZXN1bHQoc2VuZFJlc3BvbnNlUHJvbWlzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMZXQgQ2hyb21lIGtub3cgdGhhdCB0aGUgbGlzdGVuZXIgaXMgcmVwbHlpbmcuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIGNvbnN0IHdyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrID0gKHtyZWplY3QsIHJlc29sdmV9LCByZXBseSkgPT4ge1xuICAgICAgaWYgKGV4dGVuc2lvbkFQSXMucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgLy8gRGV0ZWN0IHdoZW4gbm9uZSBvZiB0aGUgbGlzdGVuZXJzIHJlcGxpZWQgdG8gdGhlIHNlbmRNZXNzYWdlIGNhbGwgYW5kIHJlc29sdmVcbiAgICAgICAgLy8gdGhlIHByb21pc2UgdG8gdW5kZWZpbmVkIGFzIGluIEZpcmVmb3guXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS93ZWJleHRlbnNpb24tcG9seWZpbGwvaXNzdWVzLzEzMFxuICAgICAgICBpZiAoZXh0ZW5zaW9uQVBJcy5ydW50aW1lLmxhc3RFcnJvci5tZXNzYWdlID09PSBDSFJPTUVfU0VORF9NRVNTQUdFX0NBTExCQUNLX05PX1JFU1BPTlNFX01FU1NBR0UpIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihleHRlbnNpb25BUElzLnJ1bnRpbWUubGFzdEVycm9yLm1lc3NhZ2UpKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChyZXBseSAmJiByZXBseS5fX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X18pIHtcbiAgICAgICAgLy8gQ29udmVydCBiYWNrIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvciBpbnRvXG4gICAgICAgIC8vIGFuIEVycm9yIGluc3RhbmNlLlxuICAgICAgICByZWplY3QobmV3IEVycm9yKHJlcGx5Lm1lc3NhZ2UpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUocmVwbHkpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB3cmFwcGVkU2VuZE1lc3NhZ2UgPSAobmFtZSwgbWV0YWRhdGEsIGFwaU5hbWVzcGFjZU9iaiwgLi4uYXJncykgPT4ge1xuICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgbWV0YWRhdGEubWluQXJncykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGF0IGxlYXN0ICR7bWV0YWRhdGEubWluQXJnc30gJHtwbHVyYWxpemVBcmd1bWVudHMobWV0YWRhdGEubWluQXJncyl9IGZvciAke25hbWV9KCksIGdvdCAke2FyZ3MubGVuZ3RofWApO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXJncy5sZW5ndGggPiBtZXRhZGF0YS5tYXhBcmdzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRXhwZWN0ZWQgYXQgbW9zdCAke21ldGFkYXRhLm1heEFyZ3N9ICR7cGx1cmFsaXplQXJndW1lbnRzKG1ldGFkYXRhLm1heEFyZ3MpfSBmb3IgJHtuYW1lfSgpLCBnb3QgJHthcmdzLmxlbmd0aH1gKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3Qgd3JhcHBlZENiID0gd3JhcHBlZFNlbmRNZXNzYWdlQ2FsbGJhY2suYmluZChudWxsLCB7cmVzb2x2ZSwgcmVqZWN0fSk7XG4gICAgICAgIGFyZ3MucHVzaCh3cmFwcGVkQ2IpO1xuICAgICAgICBhcGlOYW1lc3BhY2VPYmouc2VuZE1lc3NhZ2UoLi4uYXJncyk7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgY29uc3Qgc3RhdGljV3JhcHBlcnMgPSB7XG4gICAgICBkZXZ0b29sczoge1xuICAgICAgICBuZXR3b3JrOiB7XG4gICAgICAgICAgb25SZXF1ZXN0RmluaXNoZWQ6IHdyYXBFdmVudChvblJlcXVlc3RGaW5pc2hlZFdyYXBwZXJzKSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBydW50aW1lOiB7XG4gICAgICAgIG9uTWVzc2FnZTogd3JhcEV2ZW50KG9uTWVzc2FnZVdyYXBwZXJzKSxcbiAgICAgICAgb25NZXNzYWdlRXh0ZXJuYWw6IHdyYXBFdmVudChvbk1lc3NhZ2VXcmFwcGVycyksXG4gICAgICAgIHNlbmRNZXNzYWdlOiB3cmFwcGVkU2VuZE1lc3NhZ2UuYmluZChudWxsLCBcInNlbmRNZXNzYWdlXCIsIHttaW5BcmdzOiAxLCBtYXhBcmdzOiAzfSksXG4gICAgICB9LFxuICAgICAgdGFiczoge1xuICAgICAgICBzZW5kTWVzc2FnZTogd3JhcHBlZFNlbmRNZXNzYWdlLmJpbmQobnVsbCwgXCJzZW5kTWVzc2FnZVwiLCB7bWluQXJnczogMiwgbWF4QXJnczogM30pLFxuICAgICAgfSxcbiAgICB9O1xuICAgIGNvbnN0IHNldHRpbmdNZXRhZGF0YSA9IHtcbiAgICAgIGNsZWFyOiB7bWluQXJnczogMSwgbWF4QXJnczogMX0sXG4gICAgICBnZXQ6IHttaW5BcmdzOiAxLCBtYXhBcmdzOiAxfSxcbiAgICAgIHNldDoge21pbkFyZ3M6IDEsIG1heEFyZ3M6IDF9LFxuICAgIH07XG4gICAgYXBpTWV0YWRhdGEucHJpdmFjeSA9IHtcbiAgICAgIG5ldHdvcms6IHtcIipcIjogc2V0dGluZ01ldGFkYXRhfSxcbiAgICAgIHNlcnZpY2VzOiB7XCIqXCI6IHNldHRpbmdNZXRhZGF0YX0sXG4gICAgICB3ZWJzaXRlczoge1wiKlwiOiBzZXR0aW5nTWV0YWRhdGF9LFxuICAgIH07XG5cbiAgICByZXR1cm4gd3JhcE9iamVjdChleHRlbnNpb25BUElzLCBzdGF0aWNXcmFwcGVycywgYXBpTWV0YWRhdGEpO1xuICB9O1xuXG4gIGlmICh0eXBlb2YgY2hyb21lICE9IFwib2JqZWN0XCIgfHwgIWNocm9tZSB8fCAhY2hyb21lLnJ1bnRpbWUgfHwgIWNocm9tZS5ydW50aW1lLmlkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY3JpcHQgc2hvdWxkIG9ubHkgYmUgbG9hZGVkIGluIGEgYnJvd3NlciBleHRlbnNpb24uXCIpO1xuICB9XG5cbiAgLy8gVGhlIGJ1aWxkIHByb2Nlc3MgYWRkcyBhIFVNRCB3cmFwcGVyIGFyb3VuZCB0aGlzIGZpbGUsIHdoaWNoIG1ha2VzIHRoZVxuICAvLyBgbW9kdWxlYCB2YXJpYWJsZSBhdmFpbGFibGUuXG4gIG1vZHVsZS5leHBvcnRzID0gd3JhcEFQSXMoY2hyb21lKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gYnJvd3Nlcjtcbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgYnVuZGxlVVJMID0ge307XG5cbmZ1bmN0aW9uIGdldEJ1bmRsZVVSTENhY2hlZChpZCkge1xuICB2YXIgdmFsdWUgPSBidW5kbGVVUkxbaWRdO1xuXG4gIGlmICghdmFsdWUpIHtcbiAgICB2YWx1ZSA9IGdldEJ1bmRsZVVSTCgpO1xuICAgIGJ1bmRsZVVSTFtpZF0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gZ2V0QnVuZGxlVVJMKCkge1xuICB0cnkge1xuICAgIHRocm93IG5ldyBFcnJvcigpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB2YXIgbWF0Y2hlcyA9ICgnJyArIGVyci5zdGFjaykubWF0Y2goLyhodHRwcz98ZmlsZXxmdHB8KGNocm9tZXxtb3p8c2FmYXJpLXdlYiktZXh0ZW5zaW9uKTpcXC9cXC9bXilcXG5dKy9nKTtcblxuICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAvLyBUaGUgZmlyc3QgdHdvIHN0YWNrIGZyYW1lcyB3aWxsIGJlIHRoaXMgZnVuY3Rpb24gYW5kIGdldEJ1bmRsZVVSTENhY2hlZC5cbiAgICAgIC8vIFVzZSB0aGUgM3JkIG9uZSwgd2hpY2ggd2lsbCBiZSBhIHJ1bnRpbWUgaW4gdGhlIG9yaWdpbmFsIGJ1bmRsZS5cbiAgICAgIHJldHVybiBnZXRCYXNlVVJMKG1hdGNoZXNbMl0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnLyc7XG59XG5cbmZ1bmN0aW9uIGdldEJhc2VVUkwodXJsKSB7XG4gIHJldHVybiAoJycgKyB1cmwpLnJlcGxhY2UoL14oKD86aHR0cHM/fGZpbGV8ZnRwfChjaHJvbWV8bW96fHNhZmFyaS13ZWIpLWV4dGVuc2lvbik6XFwvXFwvLispXFwvW14vXSskLywgJyQxJykgKyAnLyc7XG59IC8vIFRPRE86IFJlcGxhY2UgdXNlcyB3aXRoIGBuZXcgVVJMKHVybCkub3JpZ2luYCB3aGVuIGllMTEgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZC5cblxuXG5mdW5jdGlvbiBnZXRPcmlnaW4odXJsKSB7XG4gIHZhciBtYXRjaGVzID0gKCcnICsgdXJsKS5tYXRjaCgvKGh0dHBzP3xmaWxlfGZ0cHwoY2hyb21lfG1venxzYWZhcmktd2ViKS1leHRlbnNpb24pOlxcL1xcL1teL10rLyk7XG5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdPcmlnaW4gbm90IGZvdW5kJyk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlc1swXTtcbn1cblxuZXhwb3J0cy5nZXRCdW5kbGVVUkwgPSBnZXRCdW5kbGVVUkxDYWNoZWQ7XG5leHBvcnRzLmdldEJhc2VVUkwgPSBnZXRCYXNlVVJMO1xuZXhwb3J0cy5nZXRPcmlnaW4gPSBnZXRPcmlnaW47IiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwicmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS1tYW5pZmVzdCcpLnJlZ2lzdGVyKEpTT04ucGFyc2UoXCJ7XFxcIjJ4WHhDXFxcIjpcXFwiYmFja2dyb3VuZC5jMzdmNjZiMy5qc1xcXCIsXFxcImVEdVpSXFxcIjpcXFwiaWNvbjQ4LmMyNTRkZTYyLnBuZ1xcXCIsXFxcImliMDFTXFxcIjpcXFwiaWNvbjEyOC43ZjU0NGUyMS5wbmdcXFwiLFxcXCJhcUltWVxcXCI6XFxcImljb24uMWViMDg3OTguc3ZnXFxcIixcXFwiM2FuOVhcXFwiOlxcXCJpY29uLWtleWJvYXJkLWNsaWNraW5nNDguYmE2MzExNmQucG5nXFxcIixcXFwiMlQ2bHlcXFwiOlxcXCJvZmZzY3JlZW4uNDQ3MWQyYjcuaHRtbFxcXCIsXFxcImE0ZXRTXFxcIjpcXFwib2Zmc2NyZWVuLjg2ZmJkNmNlLmpzXFxcIixcXFwiYnp3b2pcXFwiOlxcXCJ3aGF0c05ldy5iYzAyYWY3OC5odG1sXFxcIixcXFwiMUFJQUVcXFwiOlxcXCJ3aGF0c05ldy5mM2FmZTM4MS5jc3NcXFwiLFxcXCJiWUdTaVxcXCI6XFxcIm9uYm9hcmRpbmcuOWYxYjIxMTkuaHRtbFxcXCJ9XCIpKTsiLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBpbml0QmFja2dyb3VuZFNjcmlwdCB9IGZyb20gXCIuL3NldHVwL2luaXRCYWNrZ3JvdW5kU2NyaXB0XCI7XG5pbXBvcnQgeyB0b2dnbGVIaW50c0dsb2JhbCwgdXBkYXRlSGludHNUb2dnbGUgfSBmcm9tIFwiLi9hY3Rpb25zL3RvZ2dsZUhpbnRzXCI7XG5pbXBvcnQgeyB0b2dnbGVLZXlib2FyZENsaWNraW5nIH0gZnJvbSBcIi4vYWN0aW9ucy90b2dnbGVLZXlib2FyZENsaWNraW5nXCI7XG5pbXBvcnQgeyBoYW5kbGVSZXF1ZXN0RnJvbVRhbG9uIH0gZnJvbSBcIi4vbWVzc2FnaW5nL2hhbmRsZVJlcXVlc3RGcm9tVGFsb25cIjtcbmltcG9ydCB7IGhhbmRsZVJlcXVlc3RGcm9tQ29udGVudCB9IGZyb20gXCIuL21lc3NhZ2luZy9oYW5kbGVSZXF1ZXN0RnJvbUNvbnRlbnRcIjtcbmltcG9ydCB7IHNlbmRSZXF1ZXN0VG9Db250ZW50IH0gZnJvbSBcIi4vbWVzc2FnaW5nL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5pbXBvcnQgeyBicm93c2VyQWN0aW9uIH0gZnJvbSBcIi4vdXRpbHMvYnJvd3NlckFjdGlvblwiO1xuaW1wb3J0IHsgY29udGV4dE1lbnVzT25DbGlja2VkIH0gZnJvbSBcIi4vbWlzYy9jcmVhdGVDb250ZXh0TWVudXNcIjtcblxuLy8gV2UgbmVlZCB0byBhZGQgdGhlIGxpc3RlbmVyIHJpZ2h0IGF3YXkgb3IgZWxzZSBjbGlja2luZyB0aGUgY29udGV4dCBtZW51IGl0ZW1cbi8vIHdoaWxlIHRoZSBiYWNrZ3JvdW5kIHNjcmlwdC9zZXJ2aWNlIHdvcmtlciBpcyBpbmFjdGl2ZSBtaWdodCBmYWlsLlxuYnJvd3Nlci5jb250ZXh0TWVudXMub25DbGlja2VkLmFkZExpc3RlbmVyKGNvbnRleHRNZW51c09uQ2xpY2tlZCk7XG5cbihhc3luYyAoKSA9PiB7XG5cdGF3YWl0IGluaXRCYWNrZ3JvdW5kU2NyaXB0KCk7XG59KSgpO1xuXG5icm93c2VyLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKGhhbmRsZVJlcXVlc3RGcm9tQ29udGVudCk7XG5cbmJyb3dzZXJBY3Rpb24ub25DbGlja2VkLmFkZExpc3RlbmVyKGFzeW5jICgpID0+IHtcblx0YXdhaXQgdG9nZ2xlSGludHNHbG9iYWwoKTtcbn0pO1xuXG5icm93c2VyLmNvbW1hbmRzLm9uQ29tbWFuZC5hZGRMaXN0ZW5lcihhc3luYyAoaW50ZXJuYWxDb21tYW5kOiBzdHJpbmcpID0+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBzZW5kUmVxdWVzdFRvQ29udGVudCh7IHR5cGU6IFwiYWxsb3dUb2FzdE5vdGlmaWNhdGlvblwiIH0pO1xuXHR9IGNhdGNoIHtcblx0XHQvLyBObyBjb250ZW50IHNjcmlwdC4gV2UgZG8gbm90aGluZy5cblx0fVxuXG5cdGlmIChcblx0XHRpbnRlcm5hbENvbW1hbmQgPT09IFwiZ2V0LXRhbG9uLXJlcXVlc3RcIiB8fFxuXHRcdGludGVybmFsQ29tbWFuZCA9PT0gXCJnZXQtdGFsb24tcmVxdWVzdC1hbHRlcm5hdGl2ZVwiXG5cdCkge1xuXHRcdGF3YWl0IGhhbmRsZVJlcXVlc3RGcm9tVGFsb24oKTtcblx0fVxuXG5cdGlmIChpbnRlcm5hbENvbW1hbmQgPT09IFwidG9nZ2xlLWhpbnRzXCIpIHtcblx0XHRhd2FpdCB0b2dnbGVIaW50c0dsb2JhbCgpO1xuXHR9XG5cblx0aWYgKGludGVybmFsQ29tbWFuZCA9PT0gXCJkaXNhYmxlLWhpbnRzXCIpIHtcblx0XHRhd2FpdCB1cGRhdGVIaW50c1RvZ2dsZShcImdsb2JhbFwiLCBmYWxzZSk7XG5cdH1cblxuXHRpZiAoaW50ZXJuYWxDb21tYW5kID09PSBcImVuYWJsZS1oaW50c1wiKSB7XG5cdFx0YXdhaXQgdXBkYXRlSGludHNUb2dnbGUoXCJnbG9iYWxcIiwgdHJ1ZSk7XG5cdH1cblxuXHRpZiAoaW50ZXJuYWxDb21tYW5kID09PSBcInRvZ2dsZS1rZXlib2FyZC1jbGlja2luZ1wiKSB7XG5cdFx0YXdhaXQgdG9nZ2xlS2V5Ym9hcmRDbGlja2luZygpO1xuXHR9XG59KTtcbiIsIi8qIGVzbGludC1kaXNhYmxlIG5vLWF3YWl0LWluLWxvb3AgKi9cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcbmltcG9ydCB7IFNldHRpbmdzLCBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3NldHRpbmdzXCI7XG5pbXBvcnQge1xuXHRyZXRyaWV2ZSxcblx0c3RvcmFnZUhhcyxcblx0c3RvcmUsXG5cdHN0b3JlSWZVbmRlZmluZWQsXG59IGZyb20gXCIuLi8uLi9jb21tb24vc3RvcmFnZVwiO1xuaW1wb3J0IHsgdXJscyB9IGZyb20gXCIuLi8uLi9jb21tb24vdXJsc1wiO1xuaW1wb3J0IHsgd2F0Y2hOYXZpZ2F0aW9uIH0gZnJvbSBcIi4uL2hpbnRzL3dhdGNoTmF2aWdhdGlvblwiO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dE1lbnVzIH0gZnJvbSBcIi4uL21pc2MvY3JlYXRlQ29udGV4dE1lbnVzXCI7XG5pbXBvcnQgeyBpbml0VGFiTWFya2VycyB9IGZyb20gXCIuLi9taXNjL3RhYk1hcmtlcnNcIjtcbmltcG9ydCB7IHNldEJyb3dzZXJBY3Rpb25JY29uIH0gZnJvbSBcIi4uL3V0aWxzL2Jyb3dzZXJBY3Rpb25cIjtcbmltcG9ydCB7IGlzU2FmYXJpIH0gZnJvbSBcIi4uL3V0aWxzL2lzU2FmYXJpXCI7XG5pbXBvcnQgeyB0cmFja1JlY2VudFRhYnMgfSBmcm9tIFwiLi90cmFja1JlY2VudFRhYnNcIjtcblxuLyoqXG4gKiBXZSBvbmx5IG5lZWQgdGhpcyBmdW5jdGlvbiB0ZW1wb3JhcmlseSB3aGlsZSB0aGUgdXNlcnMgZ28gZnJvbSBhIHZlcnNpb25cbiAqIGJlbG93IDAuMy41IHRvIGEgdmVyc2lvbiBlcXVhbCBvciBhYm92ZSBpdC4gVG8gYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLlxuICovXG5hc3luYyBmdW5jdGlvbiBzd2l0Y2hUb1N5bmNTdG9yYWdlKCkge1xuXHRsZXQga2V5OiBrZXlvZiBTZXR0aW5ncztcblxuXHRmb3IgKGtleSBpbiBkZWZhdWx0U2V0dGluZ3MpIHtcblx0XHRpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlZmF1bHRTZXR0aW5ncywga2V5KSkge1xuXHRcdFx0Y29uc3QgaGFzTG9jYWwgPSBhd2FpdCBzdG9yYWdlSGFzKGtleSwgZmFsc2UpO1xuXHRcdFx0aWYgKGhhc0xvY2FsKSB7XG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gYXdhaXQgcmV0cmlldmUoa2V5LCBmYWxzZSk7XG5cdFx0XHRcdGF3YWl0IHN0b3JlKGtleSwgdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGNvbnN0IGhpbnRzVG9nZ2xlID0gYXdhaXQgcmV0cmlldmUoXCJoaW50c1RvZ2dsZVwiKTtcblxuXHRpZiAoaGludHNUb2dnbGUpIHtcblx0XHRjb25zdCBoaW50c1RvZ2dsZUdsb2JhbCA9IGhpbnRzVG9nZ2xlLmdsb2JhbDtcblx0XHRjb25zdCBoaW50c1RvZ2dsZUhvc3RzID0gbmV3IE1hcChoaW50c1RvZ2dsZS5ob3N0cyk7XG5cdFx0Y29uc3QgaGludHNUb2dnbGVQYXRocyA9IG5ldyBNYXAoaGludHNUb2dnbGUucGF0aHMpO1xuXHRcdGNvbnN0IGhpbnRzVG9nZ2xlVGFicyA9IG5ldyBNYXAoaGludHNUb2dnbGUudGFicyk7XG5cblx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlR2xvYmFsXCIsIGhpbnRzVG9nZ2xlR2xvYmFsKTtcblx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlSG9zdHNcIiwgaGludHNUb2dnbGVIb3N0cyk7XG5cdFx0YXdhaXQgc3RvcmUoXCJoaW50c1RvZ2dsZVBhdGhzXCIsIGhpbnRzVG9nZ2xlUGF0aHMpO1xuXHRcdGF3YWl0IHN0b3JlKFwiaGludHNUb2dnbGVUYWJzXCIsIGhpbnRzVG9nZ2xlVGFicyk7XG5cdH1cblxuXHRhd2FpdCBzdG9yZShcInN3aXRjaGVkVG9TeW5jU3RvcmFnZVwiLCB0cnVlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmVzZXRIaW50c1N0YWNrcygpIHtcblx0YXdhaXQgc3RvcmUoXCJoaW50c1N0YWNrc1wiLCBuZXcgTWFwKCkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdEJhY2tncm91bmRTY3JpcHQoKSB7XG5cdGJyb3dzZXIucnVudGltZS5vbkluc3RhbGxlZC5hZGRMaXN0ZW5lcihcblx0XHRhc3luYyAoeyByZWFzb24sIHByZXZpb3VzVmVyc2lvbiB9KSA9PiB7XG5cdFx0XHRpZiAocmVhc29uICE9PSBcImluc3RhbGxcIiAmJiByZWFzb24gIT09IFwidXBkYXRlXCIpIHJldHVybjtcblxuXHRcdFx0YXdhaXQgc2V0QnJvd3NlckFjdGlvbkljb24oKTtcblx0XHRcdGF3YWl0IGNyZWF0ZUNvbnRleHRNZW51cygpO1xuXG5cdFx0XHRjb25zdCBzd2l0Y2hlZFRvU3luY1N0b3JhZ2UgPSBhd2FpdCByZXRyaWV2ZShcInN3aXRjaGVkVG9TeW5jU3RvcmFnZVwiKTtcblx0XHRcdGlmICghc3dpdGNoZWRUb1N5bmNTdG9yYWdlKSBhd2FpdCBzd2l0Y2hUb1N5bmNTdG9yYWdlKCk7XG5cblx0XHRcdGxldCBrZXk6IGtleW9mIHR5cGVvZiBkZWZhdWx0U2V0dGluZ3M7XG5cdFx0XHRjb25zdCBzdG9yaW5nOiBBcnJheTxQcm9taXNlPHZvaWQ+PiA9IFtdO1xuXG5cdFx0XHRmb3IgKGtleSBpbiBkZWZhdWx0U2V0dGluZ3MpIHtcblx0XHRcdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkZWZhdWx0U2V0dGluZ3MsIGtleSkpIHtcblx0XHRcdFx0XHRzdG9yaW5nLnB1c2goc3RvcmVJZlVuZGVmaW5lZChrZXksIGRlZmF1bHRTZXR0aW5nc1trZXldKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgUHJvbWlzZS5hbGwoc3RvcmluZyk7XG5cblx0XHRcdGlmIChyZWFzb24gPT09IFwiaW5zdGFsbFwiICYmIHByb2Nlc3MuZW52W1wiTk9ERV9FTlZcIl0gPT09IFwicHJvZHVjdGlvblwiKSB7XG5cdFx0XHRcdGF3YWl0IGJyb3dzZXIudGFicy5jcmVhdGUoeyB1cmw6IHVybHMub25ib2FyZGluZy5ocmVmIH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHJlYXNvbiA9PT0gXCJ1cGRhdGVcIiAmJlxuXHRcdFx0XHQoYXdhaXQgcmV0cmlldmUoXCJzaG93V2hhdHNOZXdQYWdlT25VcGRhdGVcIikpICYmXG5cdFx0XHRcdHByb2Nlc3MuZW52W1wiTk9ERV9FTlZcIl0gPT09IFwicHJvZHVjdGlvblwiXG5cdFx0XHQpIHtcblx0XHRcdFx0Y29uc3QgY3VycmVudFZlcnNpb24gPSBicm93c2VyLnJ1bnRpbWUuZ2V0TWFuaWZlc3QoKS52ZXJzaW9uO1xuXHRcdFx0XHRjb25zdCBbY3VycmVudE1ham9yLCBjdXJyZW50TWlub3JdID0gY3VycmVudFZlcnNpb24uc3BsaXQoXCIuXCIpIGFzIFtcblx0XHRcdFx0XHRzdHJpbmcsXG5cdFx0XHRcdFx0c3RyaW5nLFxuXHRcdFx0XHRcdHN0cmluZ1xuXHRcdFx0XHRdO1xuXHRcdFx0XHRjb25zdCBbcHJldmlvdXNNYWpvciwgcHJldmlvdXNNaW5vcl0gPSBwcmV2aW91c1ZlcnNpb24hLnNwbGl0KFwiLlwiKSBhcyBbXG5cdFx0XHRcdFx0c3RyaW5nLFxuXHRcdFx0XHRcdHN0cmluZyxcblx0XHRcdFx0XHRzdHJpbmdcblx0XHRcdFx0XTtcblxuXHRcdFx0XHRpZiAoY3VycmVudE1ham9yICE9PSBwcmV2aW91c01ham9yIHx8IGN1cnJlbnRNaW5vciAhPT0gcHJldmlvdXNNaW5vcikge1xuXHRcdFx0XHRcdGF3YWl0IGJyb3dzZXIudGFicy5jcmVhdGUoeyB1cmw6IHVybHMud2hhdHNOZXdQYWdlLmhyZWYgfSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0YXdhaXQgc3RvcmVJZlVuZGVmaW5lZChcImhpbnRzVG9nZ2xlVGFic1wiLCBuZXcgTWFwKCkpO1xuXHRcdFx0YXdhaXQgc3RvcmVJZlVuZGVmaW5lZChcInRhYnNCeVJlY2VuY3lcIiwge30pO1xuXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGFuIHVwZGF0ZSB0aGUgY29udGVudCBzY3JpcHMgZWl0aGVyIHJlbG9hZCAoRmlyZWZveCkgb3Igc3RvcFxuXHRcdFx0Ly8gY29tcGxldGVseSAoQ2hyb21lKSwgZWl0aGVyIHdheSB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBoaW50cyBzdGFja3Ncblx0XHRcdGF3YWl0IHJlc2V0SGludHNTdGFja3MoKTtcblxuXHRcdFx0aWYgKHJlYXNvbiA9PT0gXCJpbnN0YWxsXCIpIHtcblx0XHRcdFx0YXdhaXQgaW5pdFRhYk1hcmtlcnMoKTtcblx0XHRcdFx0YXdhaXQgdHJhY2tSZWNlbnRUYWJzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xuXG5cdGJyb3dzZXIucnVudGltZS5vblN0YXJ0dXAuYWRkTGlzdGVuZXIoYXN5bmMgKCkgPT4ge1xuXHRcdGF3YWl0IGluaXRUYWJNYXJrZXJzKCk7XG5cdFx0YXdhaXQgcmVzZXRIaW50c1N0YWNrcygpO1xuXHRcdGF3YWl0IHNldEJyb3dzZXJBY3Rpb25JY29uKCk7XG5cblx0XHQvLyBJbiBTYWZhcmkgd2UgbmVlZCB0byBjcmVhdGUgdGhlIG1lbnVzIGV2ZXJ5IHRpbWUgdGhlIGJyb3dzZXIgc3RhcnRzLlxuXHRcdGlmIChpc1NhZmFyaSgpKSB7XG5cdFx0XHRhd2FpdCBjcmVhdGVDb250ZXh0TWVudXMoKTtcblx0XHR9XG5cblx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlVGFic1wiLCBuZXcgTWFwKCkpO1xuXHRcdGF3YWl0IHN0b3JlKFwidGFic0J5UmVjZW5jeVwiLCB7fSk7XG5cdFx0YXdhaXQgdHJhY2tSZWNlbnRUYWJzKCk7XG5cdH0pO1xuXG5cdC8vIFRoaXMgaXMgdG8gdHJhY2sgcmVjZW50IHRhYnMgd2hlbiB0aGUgYmFja2dyb3VuZCBzY3JpcHQvc2VydmljZSB3b3JrZXIgaXNcblx0Ly8gcmVzdGFydGVkLiBGaXJzdCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0YWJzQnlSZWNlbmN5IGhhcyBhbHJlYWR5IGJlZW5cblx0Ly8gaW5pdGlhbGl6ZWQgZWl0aGVyIG9uSW5zdGFsbGVkIG9yIG9uU3RhcnR1cC5cblx0Y29uc3QgdGFic0J5UmVjZW5jeSA9IGF3YWl0IHJldHJpZXZlKFwidGFic0J5UmVjZW5jeVwiKTtcblx0aWYgKHRhYnNCeVJlY2VuY3kpIHtcblx0XHRhd2FpdCB0cmFja1JlY2VudFRhYnMoKTtcblx0fVxuXG5cdHdhdGNoTmF2aWdhdGlvbigpO1xufVxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuXHRcImFsaWNlYmx1ZVwiOiBbMjQwLCAyNDgsIDI1NV0sXHJcblx0XCJhbnRpcXVld2hpdGVcIjogWzI1MCwgMjM1LCAyMTVdLFxyXG5cdFwiYXF1YVwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiYXF1YW1hcmluZVwiOiBbMTI3LCAyNTUsIDIxMl0sXHJcblx0XCJhenVyZVwiOiBbMjQwLCAyNTUsIDI1NV0sXHJcblx0XCJiZWlnZVwiOiBbMjQ1LCAyNDUsIDIyMF0sXHJcblx0XCJiaXNxdWVcIjogWzI1NSwgMjI4LCAxOTZdLFxyXG5cdFwiYmxhY2tcIjogWzAsIDAsIDBdLFxyXG5cdFwiYmxhbmNoZWRhbG1vbmRcIjogWzI1NSwgMjM1LCAyMDVdLFxyXG5cdFwiYmx1ZVwiOiBbMCwgMCwgMjU1XSxcclxuXHRcImJsdWV2aW9sZXRcIjogWzEzOCwgNDMsIDIyNl0sXHJcblx0XCJicm93blwiOiBbMTY1LCA0MiwgNDJdLFxyXG5cdFwiYnVybHl3b29kXCI6IFsyMjIsIDE4NCwgMTM1XSxcclxuXHRcImNhZGV0Ymx1ZVwiOiBbOTUsIDE1OCwgMTYwXSxcclxuXHRcImNoYXJ0cmV1c2VcIjogWzEyNywgMjU1LCAwXSxcclxuXHRcImNob2NvbGF0ZVwiOiBbMjEwLCAxMDUsIDMwXSxcclxuXHRcImNvcmFsXCI6IFsyNTUsIDEyNywgODBdLFxyXG5cdFwiY29ybmZsb3dlcmJsdWVcIjogWzEwMCwgMTQ5LCAyMzddLFxyXG5cdFwiY29ybnNpbGtcIjogWzI1NSwgMjQ4LCAyMjBdLFxyXG5cdFwiY3JpbXNvblwiOiBbMjIwLCAyMCwgNjBdLFxyXG5cdFwiY3lhblwiOiBbMCwgMjU1LCAyNTVdLFxyXG5cdFwiZGFya2JsdWVcIjogWzAsIDAsIDEzOV0sXHJcblx0XCJkYXJrY3lhblwiOiBbMCwgMTM5LCAxMzldLFxyXG5cdFwiZGFya2dvbGRlbnJvZFwiOiBbMTg0LCAxMzQsIDExXSxcclxuXHRcImRhcmtncmF5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtncmVlblwiOiBbMCwgMTAwLCAwXSxcclxuXHRcImRhcmtncmV5XCI6IFsxNjksIDE2OSwgMTY5XSxcclxuXHRcImRhcmtraGFraVwiOiBbMTg5LCAxODMsIDEwN10sXHJcblx0XCJkYXJrbWFnZW50YVwiOiBbMTM5LCAwLCAxMzldLFxyXG5cdFwiZGFya29saXZlZ3JlZW5cIjogWzg1LCAxMDcsIDQ3XSxcclxuXHRcImRhcmtvcmFuZ2VcIjogWzI1NSwgMTQwLCAwXSxcclxuXHRcImRhcmtvcmNoaWRcIjogWzE1MywgNTAsIDIwNF0sXHJcblx0XCJkYXJrcmVkXCI6IFsxMzksIDAsIDBdLFxyXG5cdFwiZGFya3NhbG1vblwiOiBbMjMzLCAxNTAsIDEyMl0sXHJcblx0XCJkYXJrc2VhZ3JlZW5cIjogWzE0MywgMTg4LCAxNDNdLFxyXG5cdFwiZGFya3NsYXRlYmx1ZVwiOiBbNzIsIDYxLCAxMzldLFxyXG5cdFwiZGFya3NsYXRlZ3JheVwiOiBbNDcsIDc5LCA3OV0sXHJcblx0XCJkYXJrc2xhdGVncmV5XCI6IFs0NywgNzksIDc5XSxcclxuXHRcImRhcmt0dXJxdW9pc2VcIjogWzAsIDIwNiwgMjA5XSxcclxuXHRcImRhcmt2aW9sZXRcIjogWzE0OCwgMCwgMjExXSxcclxuXHRcImRlZXBwaW5rXCI6IFsyNTUsIDIwLCAxNDddLFxyXG5cdFwiZGVlcHNreWJsdWVcIjogWzAsIDE5MSwgMjU1XSxcclxuXHRcImRpbWdyYXlcIjogWzEwNSwgMTA1LCAxMDVdLFxyXG5cdFwiZGltZ3JleVwiOiBbMTA1LCAxMDUsIDEwNV0sXHJcblx0XCJkb2RnZXJibHVlXCI6IFszMCwgMTQ0LCAyNTVdLFxyXG5cdFwiZmlyZWJyaWNrXCI6IFsxNzgsIDM0LCAzNF0sXHJcblx0XCJmbG9yYWx3aGl0ZVwiOiBbMjU1LCAyNTAsIDI0MF0sXHJcblx0XCJmb3Jlc3RncmVlblwiOiBbMzQsIDEzOSwgMzRdLFxyXG5cdFwiZnVjaHNpYVwiOiBbMjU1LCAwLCAyNTVdLFxyXG5cdFwiZ2FpbnNib3JvXCI6IFsyMjAsIDIyMCwgMjIwXSxcclxuXHRcImdob3N0d2hpdGVcIjogWzI0OCwgMjQ4LCAyNTVdLFxyXG5cdFwiZ29sZFwiOiBbMjU1LCAyMTUsIDBdLFxyXG5cdFwiZ29sZGVucm9kXCI6IFsyMTgsIDE2NSwgMzJdLFxyXG5cdFwiZ3JheVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJncmVlblwiOiBbMCwgMTI4LCAwXSxcclxuXHRcImdyZWVueWVsbG93XCI6IFsxNzMsIDI1NSwgNDddLFxyXG5cdFwiZ3JleVwiOiBbMTI4LCAxMjgsIDEyOF0sXHJcblx0XCJob25leWRld1wiOiBbMjQwLCAyNTUsIDI0MF0sXHJcblx0XCJob3RwaW5rXCI6IFsyNTUsIDEwNSwgMTgwXSxcclxuXHRcImluZGlhbnJlZFwiOiBbMjA1LCA5MiwgOTJdLFxyXG5cdFwiaW5kaWdvXCI6IFs3NSwgMCwgMTMwXSxcclxuXHRcIml2b3J5XCI6IFsyNTUsIDI1NSwgMjQwXSxcclxuXHRcImtoYWtpXCI6IFsyNDAsIDIzMCwgMTQwXSxcclxuXHRcImxhdmVuZGVyXCI6IFsyMzAsIDIzMCwgMjUwXSxcclxuXHRcImxhdmVuZGVyYmx1c2hcIjogWzI1NSwgMjQwLCAyNDVdLFxyXG5cdFwibGF3bmdyZWVuXCI6IFsxMjQsIDI1MiwgMF0sXHJcblx0XCJsZW1vbmNoaWZmb25cIjogWzI1NSwgMjUwLCAyMDVdLFxyXG5cdFwibGlnaHRibHVlXCI6IFsxNzMsIDIxNiwgMjMwXSxcclxuXHRcImxpZ2h0Y29yYWxcIjogWzI0MCwgMTI4LCAxMjhdLFxyXG5cdFwibGlnaHRjeWFuXCI6IFsyMjQsIDI1NSwgMjU1XSxcclxuXHRcImxpZ2h0Z29sZGVucm9keWVsbG93XCI6IFsyNTAsIDI1MCwgMjEwXSxcclxuXHRcImxpZ2h0Z3JheVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodGdyZWVuXCI6IFsxNDQsIDIzOCwgMTQ0XSxcclxuXHRcImxpZ2h0Z3JleVwiOiBbMjExLCAyMTEsIDIxMV0sXHJcblx0XCJsaWdodHBpbmtcIjogWzI1NSwgMTgyLCAxOTNdLFxyXG5cdFwibGlnaHRzYWxtb25cIjogWzI1NSwgMTYwLCAxMjJdLFxyXG5cdFwibGlnaHRzZWFncmVlblwiOiBbMzIsIDE3OCwgMTcwXSxcclxuXHRcImxpZ2h0c2t5Ymx1ZVwiOiBbMTM1LCAyMDYsIDI1MF0sXHJcblx0XCJsaWdodHNsYXRlZ3JheVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHNsYXRlZ3JleVwiOiBbMTE5LCAxMzYsIDE1M10sXHJcblx0XCJsaWdodHN0ZWVsYmx1ZVwiOiBbMTc2LCAxOTYsIDIyMl0sXHJcblx0XCJsaWdodHllbGxvd1wiOiBbMjU1LCAyNTUsIDIyNF0sXHJcblx0XCJsaW1lXCI6IFswLCAyNTUsIDBdLFxyXG5cdFwibGltZWdyZWVuXCI6IFs1MCwgMjA1LCA1MF0sXHJcblx0XCJsaW5lblwiOiBbMjUwLCAyNDAsIDIzMF0sXHJcblx0XCJtYWdlbnRhXCI6IFsyNTUsIDAsIDI1NV0sXHJcblx0XCJtYXJvb25cIjogWzEyOCwgMCwgMF0sXHJcblx0XCJtZWRpdW1hcXVhbWFyaW5lXCI6IFsxMDIsIDIwNSwgMTcwXSxcclxuXHRcIm1lZGl1bWJsdWVcIjogWzAsIDAsIDIwNV0sXHJcblx0XCJtZWRpdW1vcmNoaWRcIjogWzE4NiwgODUsIDIxMV0sXHJcblx0XCJtZWRpdW1wdXJwbGVcIjogWzE0NywgMTEyLCAyMTldLFxyXG5cdFwibWVkaXVtc2VhZ3JlZW5cIjogWzYwLCAxNzksIDExM10sXHJcblx0XCJtZWRpdW1zbGF0ZWJsdWVcIjogWzEyMywgMTA0LCAyMzhdLFxyXG5cdFwibWVkaXVtc3ByaW5nZ3JlZW5cIjogWzAsIDI1MCwgMTU0XSxcclxuXHRcIm1lZGl1bXR1cnF1b2lzZVwiOiBbNzIsIDIwOSwgMjA0XSxcclxuXHRcIm1lZGl1bXZpb2xldHJlZFwiOiBbMTk5LCAyMSwgMTMzXSxcclxuXHRcIm1pZG5pZ2h0Ymx1ZVwiOiBbMjUsIDI1LCAxMTJdLFxyXG5cdFwibWludGNyZWFtXCI6IFsyNDUsIDI1NSwgMjUwXSxcclxuXHRcIm1pc3R5cm9zZVwiOiBbMjU1LCAyMjgsIDIyNV0sXHJcblx0XCJtb2NjYXNpblwiOiBbMjU1LCAyMjgsIDE4MV0sXHJcblx0XCJuYXZham93aGl0ZVwiOiBbMjU1LCAyMjIsIDE3M10sXHJcblx0XCJuYXZ5XCI6IFswLCAwLCAxMjhdLFxyXG5cdFwib2xkbGFjZVwiOiBbMjUzLCAyNDUsIDIzMF0sXHJcblx0XCJvbGl2ZVwiOiBbMTI4LCAxMjgsIDBdLFxyXG5cdFwib2xpdmVkcmFiXCI6IFsxMDcsIDE0MiwgMzVdLFxyXG5cdFwib3JhbmdlXCI6IFsyNTUsIDE2NSwgMF0sXHJcblx0XCJvcmFuZ2VyZWRcIjogWzI1NSwgNjksIDBdLFxyXG5cdFwib3JjaGlkXCI6IFsyMTgsIDExMiwgMjE0XSxcclxuXHRcInBhbGVnb2xkZW5yb2RcIjogWzIzOCwgMjMyLCAxNzBdLFxyXG5cdFwicGFsZWdyZWVuXCI6IFsxNTIsIDI1MSwgMTUyXSxcclxuXHRcInBhbGV0dXJxdW9pc2VcIjogWzE3NSwgMjM4LCAyMzhdLFxyXG5cdFwicGFsZXZpb2xldHJlZFwiOiBbMjE5LCAxMTIsIDE0N10sXHJcblx0XCJwYXBheWF3aGlwXCI6IFsyNTUsIDIzOSwgMjEzXSxcclxuXHRcInBlYWNocHVmZlwiOiBbMjU1LCAyMTgsIDE4NV0sXHJcblx0XCJwZXJ1XCI6IFsyMDUsIDEzMywgNjNdLFxyXG5cdFwicGlua1wiOiBbMjU1LCAxOTIsIDIwM10sXHJcblx0XCJwbHVtXCI6IFsyMjEsIDE2MCwgMjIxXSxcclxuXHRcInBvd2RlcmJsdWVcIjogWzE3NiwgMjI0LCAyMzBdLFxyXG5cdFwicHVycGxlXCI6IFsxMjgsIDAsIDEyOF0sXHJcblx0XCJyZWJlY2NhcHVycGxlXCI6IFsxMDIsIDUxLCAxNTNdLFxyXG5cdFwicmVkXCI6IFsyNTUsIDAsIDBdLFxyXG5cdFwicm9zeWJyb3duXCI6IFsxODgsIDE0MywgMTQzXSxcclxuXHRcInJveWFsYmx1ZVwiOiBbNjUsIDEwNSwgMjI1XSxcclxuXHRcInNhZGRsZWJyb3duXCI6IFsxMzksIDY5LCAxOV0sXHJcblx0XCJzYWxtb25cIjogWzI1MCwgMTI4LCAxMTRdLFxyXG5cdFwic2FuZHlicm93blwiOiBbMjQ0LCAxNjQsIDk2XSxcclxuXHRcInNlYWdyZWVuXCI6IFs0NiwgMTM5LCA4N10sXHJcblx0XCJzZWFzaGVsbFwiOiBbMjU1LCAyNDUsIDIzOF0sXHJcblx0XCJzaWVubmFcIjogWzE2MCwgODIsIDQ1XSxcclxuXHRcInNpbHZlclwiOiBbMTkyLCAxOTIsIDE5Ml0sXHJcblx0XCJza3libHVlXCI6IFsxMzUsIDIwNiwgMjM1XSxcclxuXHRcInNsYXRlYmx1ZVwiOiBbMTA2LCA5MCwgMjA1XSxcclxuXHRcInNsYXRlZ3JheVwiOiBbMTEyLCAxMjgsIDE0NF0sXHJcblx0XCJzbGF0ZWdyZXlcIjogWzExMiwgMTI4LCAxNDRdLFxyXG5cdFwic25vd1wiOiBbMjU1LCAyNTAsIDI1MF0sXHJcblx0XCJzcHJpbmdncmVlblwiOiBbMCwgMjU1LCAxMjddLFxyXG5cdFwic3RlZWxibHVlXCI6IFs3MCwgMTMwLCAxODBdLFxyXG5cdFwidGFuXCI6IFsyMTAsIDE4MCwgMTQwXSxcclxuXHRcInRlYWxcIjogWzAsIDEyOCwgMTI4XSxcclxuXHRcInRoaXN0bGVcIjogWzIxNiwgMTkxLCAyMTZdLFxyXG5cdFwidG9tYXRvXCI6IFsyNTUsIDk5LCA3MV0sXHJcblx0XCJ0dXJxdW9pc2VcIjogWzY0LCAyMjQsIDIwOF0sXHJcblx0XCJ2aW9sZXRcIjogWzIzOCwgMTMwLCAyMzhdLFxyXG5cdFwid2hlYXRcIjogWzI0NSwgMjIyLCAxNzldLFxyXG5cdFwid2hpdGVcIjogWzI1NSwgMjU1LCAyNTVdLFxyXG5cdFwid2hpdGVzbW9rZVwiOiBbMjQ1LCAyNDUsIDI0NV0sXHJcblx0XCJ5ZWxsb3dcIjogWzI1NSwgMjU1LCAwXSxcclxuXHRcInllbGxvd2dyZWVuXCI6IFsxNTQsIDIwNSwgNTBdXHJcbn07XHJcbiIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNBcnJheWlzaChvYmopIHtcblx0aWYgKCFvYmogfHwgdHlwZW9mIG9iaiA9PT0gJ3N0cmluZycpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gb2JqIGluc3RhbmNlb2YgQXJyYXkgfHwgQXJyYXkuaXNBcnJheShvYmopIHx8XG5cdFx0KG9iai5sZW5ndGggPj0gMCAmJiAob2JqLnNwbGljZSBpbnN0YW5jZW9mIEZ1bmN0aW9uIHx8XG5cdFx0XHQoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmosIChvYmoubGVuZ3RoIC0gMSkpICYmIG9iai5jb25zdHJ1Y3Rvci5uYW1lICE9PSAnU3RyaW5nJykpKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc0FycmF5aXNoID0gcmVxdWlyZSgnaXMtYXJyYXlpc2gnKTtcblxudmFyIGNvbmNhdCA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQ7XG52YXIgc2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbnZhciBzd2l6emxlID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzd2l6emxlKGFyZ3MpIHtcblx0dmFyIHJlc3VsdHMgPSBbXTtcblxuXHRmb3IgKHZhciBpID0gMCwgbGVuID0gYXJncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuXHRcdHZhciBhcmcgPSBhcmdzW2ldO1xuXG5cdFx0aWYgKGlzQXJyYXlpc2goYXJnKSkge1xuXHRcdFx0Ly8gaHR0cDovL2pzcGVyZi5jb20vamF2YXNjcmlwdC1hcnJheS1jb25jYXQtdnMtcHVzaC85OFxuXHRcdFx0cmVzdWx0cyA9IGNvbmNhdC5jYWxsKHJlc3VsdHMsIHNsaWNlLmNhbGwoYXJnKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdHMucHVzaChhcmcpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXN1bHRzO1xufTtcblxuc3dpenpsZS53cmFwID0gZnVuY3Rpb24gKGZuKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGZuKHN3aXp6bGUoYXJndW1lbnRzKSk7XG5cdH07XG59O1xuIiwiLyogTUlUIGxpY2Vuc2UgKi9cbnZhciBjb2xvck5hbWVzID0gcmVxdWlyZSgnY29sb3ItbmFtZScpO1xudmFyIHN3aXp6bGUgPSByZXF1aXJlKCdzaW1wbGUtc3dpenpsZScpO1xudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0Lmhhc093blByb3BlcnR5O1xuXG52YXIgcmV2ZXJzZU5hbWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gY3JlYXRlIGEgbGlzdCBvZiByZXZlcnNlIGNvbG9yIG5hbWVzXG5mb3IgKHZhciBuYW1lIGluIGNvbG9yTmFtZXMpIHtcblx0aWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sb3JOYW1lcywgbmFtZSkpIHtcblx0XHRyZXZlcnNlTmFtZXNbY29sb3JOYW1lc1tuYW1lXV0gPSBuYW1lO1xuXHR9XG59XG5cbnZhciBjcyA9IG1vZHVsZS5leHBvcnRzID0ge1xuXHR0bzoge30sXG5cdGdldDoge31cbn07XG5cbmNzLmdldCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0dmFyIHByZWZpeCA9IHN0cmluZy5zdWJzdHJpbmcoMCwgMykudG9Mb3dlckNhc2UoKTtcblx0dmFyIHZhbDtcblx0dmFyIG1vZGVsO1xuXHRzd2l0Y2ggKHByZWZpeCkge1xuXHRcdGNhc2UgJ2hzbCc6XG5cdFx0XHR2YWwgPSBjcy5nZXQuaHNsKHN0cmluZyk7XG5cdFx0XHRtb2RlbCA9ICdoc2wnO1xuXHRcdFx0YnJlYWs7XG5cdFx0Y2FzZSAnaHdiJzpcblx0XHRcdHZhbCA9IGNzLmdldC5od2Ioc3RyaW5nKTtcblx0XHRcdG1vZGVsID0gJ2h3Yic7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0dmFsID0gY3MuZ2V0LnJnYihzdHJpbmcpO1xuXHRcdFx0bW9kZWwgPSAncmdiJztcblx0XHRcdGJyZWFrO1xuXHR9XG5cblx0aWYgKCF2YWwpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiB7bW9kZWw6IG1vZGVsLCB2YWx1ZTogdmFsfTtcbn07XG5cbmNzLmdldC5yZ2IgPSBmdW5jdGlvbiAoc3RyaW5nKSB7XG5cdGlmICghc3RyaW5nKSB7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHR2YXIgYWJiciA9IC9eIyhbYS1mMC05XXszLDR9KSQvaTtcblx0dmFyIGhleCA9IC9eIyhbYS1mMC05XXs2fSkoW2EtZjAtOV17Mn0pPyQvaTtcblx0dmFyIHJnYmEgPSAvXnJnYmE/XFwoXFxzKihbKy1dP1xcZCspKD89W1xccyxdKVxccyooPzosXFxzKik/KFsrLV0/XFxkKykoPz1bXFxzLF0pXFxzKig/OixcXHMqKT8oWystXT9cXGQrKVxccyooPzpbLHxcXC9dXFxzKihbKy1dP1tcXGRcXC5dKykoJT8pXFxzKik/XFwpJC87XG5cdHZhciBwZXIgPSAvXnJnYmE/XFwoXFxzKihbKy1dP1tcXGRcXC5dKylcXCVcXHMqLD9cXHMqKFsrLV0/W1xcZFxcLl0rKVxcJVxccyosP1xccyooWystXT9bXFxkXFwuXSspXFwlXFxzKig/OlssfFxcL11cXHMqKFsrLV0/W1xcZFxcLl0rKSglPylcXHMqKT9cXCkkLztcblx0dmFyIGtleXdvcmQgPSAvXihcXHcrKSQvO1xuXG5cdHZhciByZ2IgPSBbMCwgMCwgMCwgMV07XG5cdHZhciBtYXRjaDtcblx0dmFyIGk7XG5cdHZhciBoZXhBbHBoYTtcblxuXHRpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goaGV4KSkge1xuXHRcdGhleEFscGhhID0gbWF0Y2hbMl07XG5cdFx0bWF0Y2ggPSBtYXRjaFsxXTtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdC8vIGh0dHBzOi8vanNwZXJmLmNvbS9zbGljZS12cy1zdWJzdHItdnMtc3Vic3RyaW5nLW1ldGhvZHMtbG9uZy1zdHJpbmcvMTlcblx0XHRcdHZhciBpMiA9IGkgKiAyO1xuXHRcdFx0cmdiW2ldID0gcGFyc2VJbnQobWF0Y2guc2xpY2UoaTIsIGkyICsgMiksIDE2KTtcblx0XHR9XG5cblx0XHRpZiAoaGV4QWxwaGEpIHtcblx0XHRcdHJnYlszXSA9IHBhcnNlSW50KGhleEFscGhhLCAxNikgLyAyNTU7XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKGFiYnIpKSB7XG5cdFx0bWF0Y2ggPSBtYXRjaFsxXTtcblx0XHRoZXhBbHBoYSA9IG1hdGNoWzNdO1xuXG5cdFx0Zm9yIChpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiW2ldID0gcGFyc2VJbnQobWF0Y2hbaV0gKyBtYXRjaFtpXSwgMTYpO1xuXHRcdH1cblxuXHRcdGlmIChoZXhBbHBoYSkge1xuXHRcdFx0cmdiWzNdID0gcGFyc2VJbnQoaGV4QWxwaGEgKyBoZXhBbHBoYSwgMTYpIC8gMjU1O1xuXHRcdH1cblx0fSBlbHNlIGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChyZ2JhKSkge1xuXHRcdGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRcdHJnYltpXSA9IHBhcnNlSW50KG1hdGNoW2kgKyAxXSwgMCk7XG5cdFx0fVxuXG5cdFx0aWYgKG1hdGNoWzRdKSB7XG5cdFx0XHRpZiAobWF0Y2hbNV0pIHtcblx0XHRcdFx0cmdiWzNdID0gcGFyc2VGbG9hdChtYXRjaFs0XSkgKiAwLjAxO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmdiWzNdID0gcGFyc2VGbG9hdChtYXRjaFs0XSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9IGVsc2UgaWYgKG1hdGNoID0gc3RyaW5nLm1hdGNoKHBlcikpIHtcblx0XHRmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG5cdFx0XHRyZ2JbaV0gPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQobWF0Y2hbaSArIDFdKSAqIDIuNTUpO1xuXHRcdH1cblxuXHRcdGlmIChtYXRjaFs0XSkge1xuXHRcdFx0aWYgKG1hdGNoWzVdKSB7XG5cdFx0XHRcdHJnYlszXSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pICogMC4wMTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJnYlszXSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIGlmIChtYXRjaCA9IHN0cmluZy5tYXRjaChrZXl3b3JkKSkge1xuXHRcdGlmIChtYXRjaFsxXSA9PT0gJ3RyYW5zcGFyZW50Jykge1xuXHRcdFx0cmV0dXJuIFswLCAwLCAwLCAwXTtcblx0XHR9XG5cblx0XHRpZiAoIWhhc093blByb3BlcnR5LmNhbGwoY29sb3JOYW1lcywgbWF0Y2hbMV0pKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRyZ2IgPSBjb2xvck5hbWVzW21hdGNoWzFdXTtcblx0XHRyZ2JbM10gPSAxO1xuXG5cdFx0cmV0dXJuIHJnYjtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGZvciAoaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHRyZ2JbaV0gPSBjbGFtcChyZ2JbaV0sIDAsIDI1NSk7XG5cdH1cblx0cmdiWzNdID0gY2xhbXAocmdiWzNdLCAwLCAxKTtcblxuXHRyZXR1cm4gcmdiO1xufTtcblxuY3MuZ2V0LmhzbCA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0aWYgKCFzdHJpbmcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHZhciBoc2wgPSAvXmhzbGE/XFwoXFxzKihbKy1dPyg/OlxcZHswLDN9XFwuKT9cXGQrKSg/OmRlZyk/XFxzKiw/XFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKiw/XFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKig/OlssfFxcL11cXHMqKFsrLV0/KD89XFwuXFxkfFxcZCkoPzowfFsxLTldXFxkKik/KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KVxccyopP1xcKSQvO1xuXHR2YXIgbWF0Y2ggPSBzdHJpbmcubWF0Y2goaHNsKTtcblxuXHRpZiAobWF0Y2gpIHtcblx0XHR2YXIgYWxwaGEgPSBwYXJzZUZsb2F0KG1hdGNoWzRdKTtcblx0XHR2YXIgaCA9ICgocGFyc2VGbG9hdChtYXRjaFsxXSkgJSAzNjApICsgMzYwKSAlIDM2MDtcblx0XHR2YXIgcyA9IGNsYW1wKHBhcnNlRmxvYXQobWF0Y2hbMl0pLCAwLCAxMDApO1xuXHRcdHZhciBsID0gY2xhbXAocGFyc2VGbG9hdChtYXRjaFszXSksIDAsIDEwMCk7XG5cdFx0dmFyIGEgPSBjbGFtcChpc05hTihhbHBoYSkgPyAxIDogYWxwaGEsIDAsIDEpO1xuXG5cdFx0cmV0dXJuIFtoLCBzLCBsLCBhXTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufTtcblxuY3MuZ2V0Lmh3YiA9IGZ1bmN0aW9uIChzdHJpbmcpIHtcblx0aWYgKCFzdHJpbmcpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHZhciBod2IgPSAvXmh3YlxcKFxccyooWystXT9cXGR7MCwzfSg/OlxcLlxcZCspPykoPzpkZWcpP1xccyosXFxzKihbKy1dP1tcXGRcXC5dKyklXFxzKixcXHMqKFsrLV0/W1xcZFxcLl0rKSVcXHMqKD86LFxccyooWystXT8oPz1cXC5cXGR8XFxkKSg/OjB8WzEtOV1cXGQqKT8oPzpcXC5cXGQqKT8oPzpbZUVdWystXT9cXGQrKT8pXFxzKik/XFwpJC87XG5cdHZhciBtYXRjaCA9IHN0cmluZy5tYXRjaChod2IpO1xuXG5cdGlmIChtYXRjaCkge1xuXHRcdHZhciBhbHBoYSA9IHBhcnNlRmxvYXQobWF0Y2hbNF0pO1xuXHRcdHZhciBoID0gKChwYXJzZUZsb2F0KG1hdGNoWzFdKSAlIDM2MCkgKyAzNjApICUgMzYwO1xuXHRcdHZhciB3ID0gY2xhbXAocGFyc2VGbG9hdChtYXRjaFsyXSksIDAsIDEwMCk7XG5cdFx0dmFyIGIgPSBjbGFtcChwYXJzZUZsb2F0KG1hdGNoWzNdKSwgMCwgMTAwKTtcblx0XHR2YXIgYSA9IGNsYW1wKGlzTmFOKGFscGhhKSA/IDEgOiBhbHBoYSwgMCwgMSk7XG5cdFx0cmV0dXJuIFtoLCB3LCBiLCBhXTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufTtcblxuY3MudG8uaGV4ID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgcmdiYSA9IHN3aXp6bGUoYXJndW1lbnRzKTtcblxuXHRyZXR1cm4gKFxuXHRcdCcjJyArXG5cdFx0aGV4RG91YmxlKHJnYmFbMF0pICtcblx0XHRoZXhEb3VibGUocmdiYVsxXSkgK1xuXHRcdGhleERvdWJsZShyZ2JhWzJdKSArXG5cdFx0KHJnYmFbM10gPCAxXG5cdFx0XHQ/IChoZXhEb3VibGUoTWF0aC5yb3VuZChyZ2JhWzNdICogMjU1KSkpXG5cdFx0XHQ6ICcnKVxuXHQpO1xufTtcblxuY3MudG8ucmdiID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgcmdiYSA9IHN3aXp6bGUoYXJndW1lbnRzKTtcblxuXHRyZXR1cm4gcmdiYS5sZW5ndGggPCA0IHx8IHJnYmFbM10gPT09IDFcblx0XHQ/ICdyZ2IoJyArIE1hdGgucm91bmQocmdiYVswXSkgKyAnLCAnICsgTWF0aC5yb3VuZChyZ2JhWzFdKSArICcsICcgKyBNYXRoLnJvdW5kKHJnYmFbMl0pICsgJyknXG5cdFx0OiAncmdiYSgnICsgTWF0aC5yb3VuZChyZ2JhWzBdKSArICcsICcgKyBNYXRoLnJvdW5kKHJnYmFbMV0pICsgJywgJyArIE1hdGgucm91bmQocmdiYVsyXSkgKyAnLCAnICsgcmdiYVszXSArICcpJztcbn07XG5cbmNzLnRvLnJnYi5wZXJjZW50ID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgcmdiYSA9IHN3aXp6bGUoYXJndW1lbnRzKTtcblxuXHR2YXIgciA9IE1hdGgucm91bmQocmdiYVswXSAvIDI1NSAqIDEwMCk7XG5cdHZhciBnID0gTWF0aC5yb3VuZChyZ2JhWzFdIC8gMjU1ICogMTAwKTtcblx0dmFyIGIgPSBNYXRoLnJvdW5kKHJnYmFbMl0gLyAyNTUgKiAxMDApO1xuXG5cdHJldHVybiByZ2JhLmxlbmd0aCA8IDQgfHwgcmdiYVszXSA9PT0gMVxuXHRcdD8gJ3JnYignICsgciArICclLCAnICsgZyArICclLCAnICsgYiArICclKSdcblx0XHQ6ICdyZ2JhKCcgKyByICsgJyUsICcgKyBnICsgJyUsICcgKyBiICsgJyUsICcgKyByZ2JhWzNdICsgJyknO1xufTtcblxuY3MudG8uaHNsID0gZnVuY3Rpb24gKCkge1xuXHR2YXIgaHNsYSA9IHN3aXp6bGUoYXJndW1lbnRzKTtcblx0cmV0dXJuIGhzbGEubGVuZ3RoIDwgNCB8fCBoc2xhWzNdID09PSAxXG5cdFx0PyAnaHNsKCcgKyBoc2xhWzBdICsgJywgJyArIGhzbGFbMV0gKyAnJSwgJyArIGhzbGFbMl0gKyAnJSknXG5cdFx0OiAnaHNsYSgnICsgaHNsYVswXSArICcsICcgKyBoc2xhWzFdICsgJyUsICcgKyBoc2xhWzJdICsgJyUsICcgKyBoc2xhWzNdICsgJyknO1xufTtcblxuLy8gaHdiIGlzIGEgYml0IGRpZmZlcmVudCB0aGFuIHJnYihhKSAmIGhzbChhKSBzaW5jZSB0aGVyZSBpcyBubyBhbHBoYSBzcGVjaWZpYyBzeW50YXhcbi8vIChod2IgaGF2ZSBhbHBoYSBvcHRpb25hbCAmIDEgaXMgZGVmYXVsdCB2YWx1ZSlcbmNzLnRvLmh3YiA9IGZ1bmN0aW9uICgpIHtcblx0dmFyIGh3YmEgPSBzd2l6emxlKGFyZ3VtZW50cyk7XG5cblx0dmFyIGEgPSAnJztcblx0aWYgKGh3YmEubGVuZ3RoID49IDQgJiYgaHdiYVszXSAhPT0gMSkge1xuXHRcdGEgPSAnLCAnICsgaHdiYVszXTtcblx0fVxuXG5cdHJldHVybiAnaHdiKCcgKyBod2JhWzBdICsgJywgJyArIGh3YmFbMV0gKyAnJSwgJyArIGh3YmFbMl0gKyAnJScgKyBhICsgJyknO1xufTtcblxuY3MudG8ua2V5d29yZCA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0cmV0dXJuIHJldmVyc2VOYW1lc1tyZ2Iuc2xpY2UoMCwgMyldO1xufTtcblxuLy8gaGVscGVyc1xuZnVuY3Rpb24gY2xhbXAobnVtLCBtaW4sIG1heCkge1xuXHRyZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobWluLCBudW0pLCBtYXgpO1xufVxuXG5mdW5jdGlvbiBoZXhEb3VibGUobnVtKSB7XG5cdHZhciBzdHIgPSBNYXRoLnJvdW5kKG51bSkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdHJldHVybiAoc3RyLmxlbmd0aCA8IDIpID8gJzAnICsgc3RyIDogc3RyO1xufVxuIiwiLyogTUlUIGxpY2Vuc2UgKi9cbi8qIGVzbGludC1kaXNhYmxlIG5vLW1peGVkLW9wZXJhdG9ycyAqL1xuY29uc3QgY3NzS2V5d29yZHMgPSByZXF1aXJlKCdjb2xvci1uYW1lJyk7XG5cbi8vIE5PVEU6IGNvbnZlcnNpb25zIHNob3VsZCBvbmx5IHJldHVybiBwcmltaXRpdmUgdmFsdWVzIChpLmUuIGFycmF5cywgb3Jcbi8vICAgICAgIHZhbHVlcyB0aGF0IGdpdmUgY29ycmVjdCBgdHlwZW9mYCByZXN1bHRzKS5cbi8vICAgICAgIGRvIG5vdCB1c2UgYm94IHZhbHVlcyB0eXBlcyAoaS5lLiBOdW1iZXIoKSwgU3RyaW5nKCksIGV0Yy4pXG5cbmNvbnN0IHJldmVyc2VLZXl3b3JkcyA9IHt9O1xuZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoY3NzS2V5d29yZHMpKSB7XG5cdHJldmVyc2VLZXl3b3Jkc1tjc3NLZXl3b3Jkc1trZXldXSA9IGtleTtcbn1cblxuY29uc3QgY29udmVydCA9IHtcblx0cmdiOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ3JnYid9LFxuXHRoc2w6IHtjaGFubmVsczogMywgbGFiZWxzOiAnaHNsJ30sXG5cdGhzdjoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdoc3YnfSxcblx0aHdiOiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ2h3Yid9LFxuXHRjbXlrOiB7Y2hhbm5lbHM6IDQsIGxhYmVsczogJ2NteWsnfSxcblx0eHl6OiB7Y2hhbm5lbHM6IDMsIGxhYmVsczogJ3h5eid9LFxuXHRsYWI6IHtjaGFubmVsczogMywgbGFiZWxzOiAnbGFiJ30sXG5cdGxjaDoge2NoYW5uZWxzOiAzLCBsYWJlbHM6ICdsY2gnfSxcblx0aGV4OiB7Y2hhbm5lbHM6IDEsIGxhYmVsczogWydoZXgnXX0sXG5cdGtleXdvcmQ6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2tleXdvcmQnXX0sXG5cdGFuc2kxNjoge2NoYW5uZWxzOiAxLCBsYWJlbHM6IFsnYW5zaTE2J119LFxuXHRhbnNpMjU2OiB7Y2hhbm5lbHM6IDEsIGxhYmVsczogWydhbnNpMjU2J119LFxuXHRoY2c6IHtjaGFubmVsczogMywgbGFiZWxzOiBbJ2gnLCAnYycsICdnJ119LFxuXHRhcHBsZToge2NoYW5uZWxzOiAzLCBsYWJlbHM6IFsncjE2JywgJ2cxNicsICdiMTYnXX0sXG5cdGdyYXk6IHtjaGFubmVsczogMSwgbGFiZWxzOiBbJ2dyYXknXX1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gY29udmVydDtcblxuLy8gSGlkZSAuY2hhbm5lbHMgYW5kIC5sYWJlbHMgcHJvcGVydGllc1xuZm9yIChjb25zdCBtb2RlbCBvZiBPYmplY3Qua2V5cyhjb252ZXJ0KSkge1xuXHRpZiAoISgnY2hhbm5lbHMnIGluIGNvbnZlcnRbbW9kZWxdKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjaGFubmVscyBwcm9wZXJ0eTogJyArIG1vZGVsKTtcblx0fVxuXG5cdGlmICghKCdsYWJlbHMnIGluIGNvbnZlcnRbbW9kZWxdKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignbWlzc2luZyBjaGFubmVsIGxhYmVscyBwcm9wZXJ0eTogJyArIG1vZGVsKTtcblx0fVxuXG5cdGlmIChjb252ZXJ0W21vZGVsXS5sYWJlbHMubGVuZ3RoICE9PSBjb252ZXJ0W21vZGVsXS5jaGFubmVscykge1xuXHRcdHRocm93IG5ldyBFcnJvcignY2hhbm5lbCBhbmQgbGFiZWwgY291bnRzIG1pc21hdGNoOiAnICsgbW9kZWwpO1xuXHR9XG5cblx0Y29uc3Qge2NoYW5uZWxzLCBsYWJlbHN9ID0gY29udmVydFttb2RlbF07XG5cdGRlbGV0ZSBjb252ZXJ0W21vZGVsXS5jaGFubmVscztcblx0ZGVsZXRlIGNvbnZlcnRbbW9kZWxdLmxhYmVscztcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnZlcnRbbW9kZWxdLCAnY2hhbm5lbHMnLCB7dmFsdWU6IGNoYW5uZWxzfSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0W21vZGVsXSwgJ2xhYmVscycsIHt2YWx1ZTogbGFiZWxzfSk7XG59XG5cbmNvbnZlcnQucmdiLmhzbCA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0Y29uc3QgciA9IHJnYlswXSAvIDI1NTtcblx0Y29uc3QgZyA9IHJnYlsxXSAvIDI1NTtcblx0Y29uc3QgYiA9IHJnYlsyXSAvIDI1NTtcblx0Y29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG5cdGNvbnN0IG1heCA9IE1hdGgubWF4KHIsIGcsIGIpO1xuXHRjb25zdCBkZWx0YSA9IG1heCAtIG1pbjtcblx0bGV0IGg7XG5cdGxldCBzO1xuXG5cdGlmIChtYXggPT09IG1pbikge1xuXHRcdGggPSAwO1xuXHR9IGVsc2UgaWYgKHIgPT09IG1heCkge1xuXHRcdGggPSAoZyAtIGIpIC8gZGVsdGE7XG5cdH0gZWxzZSBpZiAoZyA9PT0gbWF4KSB7XG5cdFx0aCA9IDIgKyAoYiAtIHIpIC8gZGVsdGE7XG5cdH0gZWxzZSBpZiAoYiA9PT0gbWF4KSB7XG5cdFx0aCA9IDQgKyAociAtIGcpIC8gZGVsdGE7XG5cdH1cblxuXHRoID0gTWF0aC5taW4oaCAqIDYwLCAzNjApO1xuXG5cdGlmIChoIDwgMCkge1xuXHRcdGggKz0gMzYwO1xuXHR9XG5cblx0Y29uc3QgbCA9IChtaW4gKyBtYXgpIC8gMjtcblxuXHRpZiAobWF4ID09PSBtaW4pIHtcblx0XHRzID0gMDtcblx0fSBlbHNlIGlmIChsIDw9IDAuNSkge1xuXHRcdHMgPSBkZWx0YSAvIChtYXggKyBtaW4pO1xuXHR9IGVsc2Uge1xuXHRcdHMgPSBkZWx0YSAvICgyIC0gbWF4IC0gbWluKTtcblx0fVxuXG5cdHJldHVybiBbaCwgcyAqIDEwMCwgbCAqIDEwMF07XG59O1xuXG5jb252ZXJ0LnJnYi5oc3YgPSBmdW5jdGlvbiAocmdiKSB7XG5cdGxldCByZGlmO1xuXHRsZXQgZ2RpZjtcblx0bGV0IGJkaWY7XG5cdGxldCBoO1xuXHRsZXQgcztcblxuXHRjb25zdCByID0gcmdiWzBdIC8gMjU1O1xuXHRjb25zdCBnID0gcmdiWzFdIC8gMjU1O1xuXHRjb25zdCBiID0gcmdiWzJdIC8gMjU1O1xuXHRjb25zdCB2ID0gTWF0aC5tYXgociwgZywgYik7XG5cdGNvbnN0IGRpZmYgPSB2IC0gTWF0aC5taW4ociwgZywgYik7XG5cdGNvbnN0IGRpZmZjID0gZnVuY3Rpb24gKGMpIHtcblx0XHRyZXR1cm4gKHYgLSBjKSAvIDYgLyBkaWZmICsgMSAvIDI7XG5cdH07XG5cblx0aWYgKGRpZmYgPT09IDApIHtcblx0XHRoID0gMDtcblx0XHRzID0gMDtcblx0fSBlbHNlIHtcblx0XHRzID0gZGlmZiAvIHY7XG5cdFx0cmRpZiA9IGRpZmZjKHIpO1xuXHRcdGdkaWYgPSBkaWZmYyhnKTtcblx0XHRiZGlmID0gZGlmZmMoYik7XG5cblx0XHRpZiAociA9PT0gdikge1xuXHRcdFx0aCA9IGJkaWYgLSBnZGlmO1xuXHRcdH0gZWxzZSBpZiAoZyA9PT0gdikge1xuXHRcdFx0aCA9ICgxIC8gMykgKyByZGlmIC0gYmRpZjtcblx0XHR9IGVsc2UgaWYgKGIgPT09IHYpIHtcblx0XHRcdGggPSAoMiAvIDMpICsgZ2RpZiAtIHJkaWY7XG5cdFx0fVxuXG5cdFx0aWYgKGggPCAwKSB7XG5cdFx0XHRoICs9IDE7XG5cdFx0fSBlbHNlIGlmIChoID4gMSkge1xuXHRcdFx0aCAtPSAxO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBbXG5cdFx0aCAqIDM2MCxcblx0XHRzICogMTAwLFxuXHRcdHYgKiAxMDBcblx0XTtcbn07XG5cbmNvbnZlcnQucmdiLmh3YiA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0Y29uc3QgciA9IHJnYlswXTtcblx0Y29uc3QgZyA9IHJnYlsxXTtcblx0bGV0IGIgPSByZ2JbMl07XG5cdGNvbnN0IGggPSBjb252ZXJ0LnJnYi5oc2wocmdiKVswXTtcblx0Y29uc3QgdyA9IDEgLyAyNTUgKiBNYXRoLm1pbihyLCBNYXRoLm1pbihnLCBiKSk7XG5cblx0YiA9IDEgLSAxIC8gMjU1ICogTWF0aC5tYXgociwgTWF0aC5tYXgoZywgYikpO1xuXG5cdHJldHVybiBbaCwgdyAqIDEwMCwgYiAqIDEwMF07XG59O1xuXG5jb252ZXJ0LnJnYi5jbXlrID0gZnVuY3Rpb24gKHJnYikge1xuXHRjb25zdCByID0gcmdiWzBdIC8gMjU1O1xuXHRjb25zdCBnID0gcmdiWzFdIC8gMjU1O1xuXHRjb25zdCBiID0gcmdiWzJdIC8gMjU1O1xuXG5cdGNvbnN0IGsgPSBNYXRoLm1pbigxIC0gciwgMSAtIGcsIDEgLSBiKTtcblx0Y29uc3QgYyA9ICgxIC0gciAtIGspIC8gKDEgLSBrKSB8fCAwO1xuXHRjb25zdCBtID0gKDEgLSBnIC0gaykgLyAoMSAtIGspIHx8IDA7XG5cdGNvbnN0IHkgPSAoMSAtIGIgLSBrKSAvICgxIC0gaykgfHwgMDtcblxuXHRyZXR1cm4gW2MgKiAxMDAsIG0gKiAxMDAsIHkgKiAxMDAsIGsgKiAxMDBdO1xufTtcblxuZnVuY3Rpb24gY29tcGFyYXRpdmVEaXN0YW5jZSh4LCB5KSB7XG5cdC8qXG5cdFx0U2VlIGh0dHBzOi8vZW4ubS53aWtpcGVkaWEub3JnL3dpa2kvRXVjbGlkZWFuX2Rpc3RhbmNlI1NxdWFyZWRfRXVjbGlkZWFuX2Rpc3RhbmNlXG5cdCovXG5cdHJldHVybiAoXG5cdFx0KCh4WzBdIC0geVswXSkgKiogMikgK1xuXHRcdCgoeFsxXSAtIHlbMV0pICoqIDIpICtcblx0XHQoKHhbMl0gLSB5WzJdKSAqKiAyKVxuXHQpO1xufVxuXG5jb252ZXJ0LnJnYi5rZXl3b3JkID0gZnVuY3Rpb24gKHJnYikge1xuXHRjb25zdCByZXZlcnNlZCA9IHJldmVyc2VLZXl3b3Jkc1tyZ2JdO1xuXHRpZiAocmV2ZXJzZWQpIHtcblx0XHRyZXR1cm4gcmV2ZXJzZWQ7XG5cdH1cblxuXHRsZXQgY3VycmVudENsb3Nlc3REaXN0YW5jZSA9IEluZmluaXR5O1xuXHRsZXQgY3VycmVudENsb3Nlc3RLZXl3b3JkO1xuXG5cdGZvciAoY29uc3Qga2V5d29yZCBvZiBPYmplY3Qua2V5cyhjc3NLZXl3b3JkcykpIHtcblx0XHRjb25zdCB2YWx1ZSA9IGNzc0tleXdvcmRzW2tleXdvcmRdO1xuXG5cdFx0Ly8gQ29tcHV0ZSBjb21wYXJhdGl2ZSBkaXN0YW5jZVxuXHRcdGNvbnN0IGRpc3RhbmNlID0gY29tcGFyYXRpdmVEaXN0YW5jZShyZ2IsIHZhbHVlKTtcblxuXHRcdC8vIENoZWNrIGlmIGl0cyBsZXNzLCBpZiBzbyBzZXQgYXMgY2xvc2VzdFxuXHRcdGlmIChkaXN0YW5jZSA8IGN1cnJlbnRDbG9zZXN0RGlzdGFuY2UpIHtcblx0XHRcdGN1cnJlbnRDbG9zZXN0RGlzdGFuY2UgPSBkaXN0YW5jZTtcblx0XHRcdGN1cnJlbnRDbG9zZXN0S2V5d29yZCA9IGtleXdvcmQ7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnRDbG9zZXN0S2V5d29yZDtcbn07XG5cbmNvbnZlcnQua2V5d29yZC5yZ2IgPSBmdW5jdGlvbiAoa2V5d29yZCkge1xuXHRyZXR1cm4gY3NzS2V5d29yZHNba2V5d29yZF07XG59O1xuXG5jb252ZXJ0LnJnYi54eXogPSBmdW5jdGlvbiAocmdiKSB7XG5cdGxldCByID0gcmdiWzBdIC8gMjU1O1xuXHRsZXQgZyA9IHJnYlsxXSAvIDI1NTtcblx0bGV0IGIgPSByZ2JbMl0gLyAyNTU7XG5cblx0Ly8gQXNzdW1lIHNSR0Jcblx0ciA9IHIgPiAwLjA0MDQ1ID8gKCgociArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQpIDogKHIgLyAxMi45Mik7XG5cdGcgPSBnID4gMC4wNDA0NSA/ICgoKGcgKyAwLjA1NSkgLyAxLjA1NSkgKiogMi40KSA6IChnIC8gMTIuOTIpO1xuXHRiID0gYiA+IDAuMDQwNDUgPyAoKChiICsgMC4wNTUpIC8gMS4wNTUpICoqIDIuNCkgOiAoYiAvIDEyLjkyKTtcblxuXHRjb25zdCB4ID0gKHIgKiAwLjQxMjQpICsgKGcgKiAwLjM1NzYpICsgKGIgKiAwLjE4MDUpO1xuXHRjb25zdCB5ID0gKHIgKiAwLjIxMjYpICsgKGcgKiAwLjcxNTIpICsgKGIgKiAwLjA3MjIpO1xuXHRjb25zdCB6ID0gKHIgKiAwLjAxOTMpICsgKGcgKiAwLjExOTIpICsgKGIgKiAwLjk1MDUpO1xuXG5cdHJldHVybiBbeCAqIDEwMCwgeSAqIDEwMCwgeiAqIDEwMF07XG59O1xuXG5jb252ZXJ0LnJnYi5sYWIgPSBmdW5jdGlvbiAocmdiKSB7XG5cdGNvbnN0IHh5eiA9IGNvbnZlcnQucmdiLnh5eihyZ2IpO1xuXHRsZXQgeCA9IHh5elswXTtcblx0bGV0IHkgPSB4eXpbMV07XG5cdGxldCB6ID0geHl6WzJdO1xuXG5cdHggLz0gOTUuMDQ3O1xuXHR5IC89IDEwMDtcblx0eiAvPSAxMDguODgzO1xuXG5cdHggPSB4ID4gMC4wMDg4NTYgPyAoeCAqKiAoMSAvIDMpKSA6ICg3Ljc4NyAqIHgpICsgKDE2IC8gMTE2KTtcblx0eSA9IHkgPiAwLjAwODg1NiA/ICh5ICoqICgxIC8gMykpIDogKDcuNzg3ICogeSkgKyAoMTYgLyAxMTYpO1xuXHR6ID0geiA+IDAuMDA4ODU2ID8gKHogKiogKDEgLyAzKSkgOiAoNy43ODcgKiB6KSArICgxNiAvIDExNik7XG5cblx0Y29uc3QgbCA9ICgxMTYgKiB5KSAtIDE2O1xuXHRjb25zdCBhID0gNTAwICogKHggLSB5KTtcblx0Y29uc3QgYiA9IDIwMCAqICh5IC0geik7XG5cblx0cmV0dXJuIFtsLCBhLCBiXTtcbn07XG5cbmNvbnZlcnQuaHNsLnJnYiA9IGZ1bmN0aW9uIChoc2wpIHtcblx0Y29uc3QgaCA9IGhzbFswXSAvIDM2MDtcblx0Y29uc3QgcyA9IGhzbFsxXSAvIDEwMDtcblx0Y29uc3QgbCA9IGhzbFsyXSAvIDEwMDtcblx0bGV0IHQyO1xuXHRsZXQgdDM7XG5cdGxldCB2YWw7XG5cblx0aWYgKHMgPT09IDApIHtcblx0XHR2YWwgPSBsICogMjU1O1xuXHRcdHJldHVybiBbdmFsLCB2YWwsIHZhbF07XG5cdH1cblxuXHRpZiAobCA8IDAuNSkge1xuXHRcdHQyID0gbCAqICgxICsgcyk7XG5cdH0gZWxzZSB7XG5cdFx0dDIgPSBsICsgcyAtIGwgKiBzO1xuXHR9XG5cblx0Y29uc3QgdDEgPSAyICogbCAtIHQyO1xuXG5cdGNvbnN0IHJnYiA9IFswLCAwLCAwXTtcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpKyspIHtcblx0XHR0MyA9IGggKyAxIC8gMyAqIC0oaSAtIDEpO1xuXHRcdGlmICh0MyA8IDApIHtcblx0XHRcdHQzKys7XG5cdFx0fVxuXG5cdFx0aWYgKHQzID4gMSkge1xuXHRcdFx0dDMtLTtcblx0XHR9XG5cblx0XHRpZiAoNiAqIHQzIDwgMSkge1xuXHRcdFx0dmFsID0gdDEgKyAodDIgLSB0MSkgKiA2ICogdDM7XG5cdFx0fSBlbHNlIGlmICgyICogdDMgPCAxKSB7XG5cdFx0XHR2YWwgPSB0Mjtcblx0XHR9IGVsc2UgaWYgKDMgKiB0MyA8IDIpIHtcblx0XHRcdHZhbCA9IHQxICsgKHQyIC0gdDEpICogKDIgLyAzIC0gdDMpICogNjtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmFsID0gdDE7XG5cdFx0fVxuXG5cdFx0cmdiW2ldID0gdmFsICogMjU1O1xuXHR9XG5cblx0cmV0dXJuIHJnYjtcbn07XG5cbmNvbnZlcnQuaHNsLmhzdiA9IGZ1bmN0aW9uIChoc2wpIHtcblx0Y29uc3QgaCA9IGhzbFswXTtcblx0bGV0IHMgPSBoc2xbMV0gLyAxMDA7XG5cdGxldCBsID0gaHNsWzJdIC8gMTAwO1xuXHRsZXQgc21pbiA9IHM7XG5cdGNvbnN0IGxtaW4gPSBNYXRoLm1heChsLCAwLjAxKTtcblxuXHRsICo9IDI7XG5cdHMgKj0gKGwgPD0gMSkgPyBsIDogMiAtIGw7XG5cdHNtaW4gKj0gbG1pbiA8PSAxID8gbG1pbiA6IDIgLSBsbWluO1xuXHRjb25zdCB2ID0gKGwgKyBzKSAvIDI7XG5cdGNvbnN0IHN2ID0gbCA9PT0gMCA/ICgyICogc21pbikgLyAobG1pbiArIHNtaW4pIDogKDIgKiBzKSAvIChsICsgcyk7XG5cblx0cmV0dXJuIFtoLCBzdiAqIDEwMCwgdiAqIDEwMF07XG59O1xuXG5jb252ZXJ0Lmhzdi5yZ2IgPSBmdW5jdGlvbiAoaHN2KSB7XG5cdGNvbnN0IGggPSBoc3ZbMF0gLyA2MDtcblx0Y29uc3QgcyA9IGhzdlsxXSAvIDEwMDtcblx0bGV0IHYgPSBoc3ZbMl0gLyAxMDA7XG5cdGNvbnN0IGhpID0gTWF0aC5mbG9vcihoKSAlIDY7XG5cblx0Y29uc3QgZiA9IGggLSBNYXRoLmZsb29yKGgpO1xuXHRjb25zdCBwID0gMjU1ICogdiAqICgxIC0gcyk7XG5cdGNvbnN0IHEgPSAyNTUgKiB2ICogKDEgLSAocyAqIGYpKTtcblx0Y29uc3QgdCA9IDI1NSAqIHYgKiAoMSAtIChzICogKDEgLSBmKSkpO1xuXHR2ICo9IDI1NTtcblxuXHRzd2l0Y2ggKGhpKSB7XG5cdFx0Y2FzZSAwOlxuXHRcdFx0cmV0dXJuIFt2LCB0LCBwXTtcblx0XHRjYXNlIDE6XG5cdFx0XHRyZXR1cm4gW3EsIHYsIHBdO1xuXHRcdGNhc2UgMjpcblx0XHRcdHJldHVybiBbcCwgdiwgdF07XG5cdFx0Y2FzZSAzOlxuXHRcdFx0cmV0dXJuIFtwLCBxLCB2XTtcblx0XHRjYXNlIDQ6XG5cdFx0XHRyZXR1cm4gW3QsIHAsIHZdO1xuXHRcdGNhc2UgNTpcblx0XHRcdHJldHVybiBbdiwgcCwgcV07XG5cdH1cbn07XG5cbmNvbnZlcnQuaHN2LmhzbCA9IGZ1bmN0aW9uIChoc3YpIHtcblx0Y29uc3QgaCA9IGhzdlswXTtcblx0Y29uc3QgcyA9IGhzdlsxXSAvIDEwMDtcblx0Y29uc3QgdiA9IGhzdlsyXSAvIDEwMDtcblx0Y29uc3Qgdm1pbiA9IE1hdGgubWF4KHYsIDAuMDEpO1xuXHRsZXQgc2w7XG5cdGxldCBsO1xuXG5cdGwgPSAoMiAtIHMpICogdjtcblx0Y29uc3QgbG1pbiA9ICgyIC0gcykgKiB2bWluO1xuXHRzbCA9IHMgKiB2bWluO1xuXHRzbCAvPSAobG1pbiA8PSAxKSA/IGxtaW4gOiAyIC0gbG1pbjtcblx0c2wgPSBzbCB8fCAwO1xuXHRsIC89IDI7XG5cblx0cmV0dXJuIFtoLCBzbCAqIDEwMCwgbCAqIDEwMF07XG59O1xuXG4vLyBodHRwOi8vZGV2LnczLm9yZy9jc3N3Zy9jc3MtY29sb3IvI2h3Yi10by1yZ2JcbmNvbnZlcnQuaHdiLnJnYiA9IGZ1bmN0aW9uIChod2IpIHtcblx0Y29uc3QgaCA9IGh3YlswXSAvIDM2MDtcblx0bGV0IHdoID0gaHdiWzFdIC8gMTAwO1xuXHRsZXQgYmwgPSBod2JbMl0gLyAxMDA7XG5cdGNvbnN0IHJhdGlvID0gd2ggKyBibDtcblx0bGV0IGY7XG5cblx0Ly8gV2ggKyBibCBjYW50IGJlID4gMVxuXHRpZiAocmF0aW8gPiAxKSB7XG5cdFx0d2ggLz0gcmF0aW87XG5cdFx0YmwgLz0gcmF0aW87XG5cdH1cblxuXHRjb25zdCBpID0gTWF0aC5mbG9vcig2ICogaCk7XG5cdGNvbnN0IHYgPSAxIC0gYmw7XG5cdGYgPSA2ICogaCAtIGk7XG5cblx0aWYgKChpICYgMHgwMSkgIT09IDApIHtcblx0XHRmID0gMSAtIGY7XG5cdH1cblxuXHRjb25zdCBuID0gd2ggKyBmICogKHYgLSB3aCk7IC8vIExpbmVhciBpbnRlcnBvbGF0aW9uXG5cblx0bGV0IHI7XG5cdGxldCBnO1xuXHRsZXQgYjtcblx0LyogZXNsaW50LWRpc2FibGUgbWF4LXN0YXRlbWVudHMtcGVyLWxpbmUsbm8tbXVsdGktc3BhY2VzICovXG5cdHN3aXRjaCAoaSkge1xuXHRcdGRlZmF1bHQ6XG5cdFx0Y2FzZSA2OlxuXHRcdGNhc2UgMDogciA9IHY7ICBnID0gbjsgIGIgPSB3aDsgYnJlYWs7XG5cdFx0Y2FzZSAxOiByID0gbjsgIGcgPSB2OyAgYiA9IHdoOyBicmVhaztcblx0XHRjYXNlIDI6IHIgPSB3aDsgZyA9IHY7ICBiID0gbjsgYnJlYWs7XG5cdFx0Y2FzZSAzOiByID0gd2g7IGcgPSBuOyAgYiA9IHY7IGJyZWFrO1xuXHRcdGNhc2UgNDogciA9IG47ICBnID0gd2g7IGIgPSB2OyBicmVhaztcblx0XHRjYXNlIDU6IHIgPSB2OyAgZyA9IHdoOyBiID0gbjsgYnJlYWs7XG5cdH1cblx0LyogZXNsaW50LWVuYWJsZSBtYXgtc3RhdGVtZW50cy1wZXItbGluZSxuby1tdWx0aS1zcGFjZXMgKi9cblxuXHRyZXR1cm4gW3IgKiAyNTUsIGcgKiAyNTUsIGIgKiAyNTVdO1xufTtcblxuY29udmVydC5jbXlrLnJnYiA9IGZ1bmN0aW9uIChjbXlrKSB7XG5cdGNvbnN0IGMgPSBjbXlrWzBdIC8gMTAwO1xuXHRjb25zdCBtID0gY215a1sxXSAvIDEwMDtcblx0Y29uc3QgeSA9IGNteWtbMl0gLyAxMDA7XG5cdGNvbnN0IGsgPSBjbXlrWzNdIC8gMTAwO1xuXG5cdGNvbnN0IHIgPSAxIC0gTWF0aC5taW4oMSwgYyAqICgxIC0gaykgKyBrKTtcblx0Y29uc3QgZyA9IDEgLSBNYXRoLm1pbigxLCBtICogKDEgLSBrKSArIGspO1xuXHRjb25zdCBiID0gMSAtIE1hdGgubWluKDEsIHkgKiAoMSAtIGspICsgayk7XG5cblx0cmV0dXJuIFtyICogMjU1LCBnICogMjU1LCBiICogMjU1XTtcbn07XG5cbmNvbnZlcnQueHl6LnJnYiA9IGZ1bmN0aW9uICh4eXopIHtcblx0Y29uc3QgeCA9IHh5elswXSAvIDEwMDtcblx0Y29uc3QgeSA9IHh5elsxXSAvIDEwMDtcblx0Y29uc3QgeiA9IHh5elsyXSAvIDEwMDtcblx0bGV0IHI7XG5cdGxldCBnO1xuXHRsZXQgYjtcblxuXHRyID0gKHggKiAzLjI0MDYpICsgKHkgKiAtMS41MzcyKSArICh6ICogLTAuNDk4Nik7XG5cdGcgPSAoeCAqIC0wLjk2ODkpICsgKHkgKiAxLjg3NTgpICsgKHogKiAwLjA0MTUpO1xuXHRiID0gKHggKiAwLjA1NTcpICsgKHkgKiAtMC4yMDQwKSArICh6ICogMS4wNTcwKTtcblxuXHQvLyBBc3N1bWUgc1JHQlxuXHRyID0gciA+IDAuMDAzMTMwOFxuXHRcdD8gKCgxLjA1NSAqIChyICoqICgxLjAgLyAyLjQpKSkgLSAwLjA1NSlcblx0XHQ6IHIgKiAxMi45MjtcblxuXHRnID0gZyA+IDAuMDAzMTMwOFxuXHRcdD8gKCgxLjA1NSAqIChnICoqICgxLjAgLyAyLjQpKSkgLSAwLjA1NSlcblx0XHQ6IGcgKiAxMi45MjtcblxuXHRiID0gYiA+IDAuMDAzMTMwOFxuXHRcdD8gKCgxLjA1NSAqIChiICoqICgxLjAgLyAyLjQpKSkgLSAwLjA1NSlcblx0XHQ6IGIgKiAxMi45MjtcblxuXHRyID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgciksIDEpO1xuXHRnID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZyksIDEpO1xuXHRiID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgYiksIDEpO1xuXG5cdHJldHVybiBbciAqIDI1NSwgZyAqIDI1NSwgYiAqIDI1NV07XG59O1xuXG5jb252ZXJ0Lnh5ei5sYWIgPSBmdW5jdGlvbiAoeHl6KSB7XG5cdGxldCB4ID0geHl6WzBdO1xuXHRsZXQgeSA9IHh5elsxXTtcblx0bGV0IHogPSB4eXpbMl07XG5cblx0eCAvPSA5NS4wNDc7XG5cdHkgLz0gMTAwO1xuXHR6IC89IDEwOC44ODM7XG5cblx0eCA9IHggPiAwLjAwODg1NiA/ICh4ICoqICgxIC8gMykpIDogKDcuNzg3ICogeCkgKyAoMTYgLyAxMTYpO1xuXHR5ID0geSA+IDAuMDA4ODU2ID8gKHkgKiogKDEgLyAzKSkgOiAoNy43ODcgKiB5KSArICgxNiAvIDExNik7XG5cdHogPSB6ID4gMC4wMDg4NTYgPyAoeiAqKiAoMSAvIDMpKSA6ICg3Ljc4NyAqIHopICsgKDE2IC8gMTE2KTtcblxuXHRjb25zdCBsID0gKDExNiAqIHkpIC0gMTY7XG5cdGNvbnN0IGEgPSA1MDAgKiAoeCAtIHkpO1xuXHRjb25zdCBiID0gMjAwICogKHkgLSB6KTtcblxuXHRyZXR1cm4gW2wsIGEsIGJdO1xufTtcblxuY29udmVydC5sYWIueHl6ID0gZnVuY3Rpb24gKGxhYikge1xuXHRjb25zdCBsID0gbGFiWzBdO1xuXHRjb25zdCBhID0gbGFiWzFdO1xuXHRjb25zdCBiID0gbGFiWzJdO1xuXHRsZXQgeDtcblx0bGV0IHk7XG5cdGxldCB6O1xuXG5cdHkgPSAobCArIDE2KSAvIDExNjtcblx0eCA9IGEgLyA1MDAgKyB5O1xuXHR6ID0geSAtIGIgLyAyMDA7XG5cblx0Y29uc3QgeTIgPSB5ICoqIDM7XG5cdGNvbnN0IHgyID0geCAqKiAzO1xuXHRjb25zdCB6MiA9IHogKiogMztcblx0eSA9IHkyID4gMC4wMDg4NTYgPyB5MiA6ICh5IC0gMTYgLyAxMTYpIC8gNy43ODc7XG5cdHggPSB4MiA+IDAuMDA4ODU2ID8geDIgOiAoeCAtIDE2IC8gMTE2KSAvIDcuNzg3O1xuXHR6ID0gejIgPiAwLjAwODg1NiA/IHoyIDogKHogLSAxNiAvIDExNikgLyA3Ljc4NztcblxuXHR4ICo9IDk1LjA0Nztcblx0eSAqPSAxMDA7XG5cdHogKj0gMTA4Ljg4MztcblxuXHRyZXR1cm4gW3gsIHksIHpdO1xufTtcblxuY29udmVydC5sYWIubGNoID0gZnVuY3Rpb24gKGxhYikge1xuXHRjb25zdCBsID0gbGFiWzBdO1xuXHRjb25zdCBhID0gbGFiWzFdO1xuXHRjb25zdCBiID0gbGFiWzJdO1xuXHRsZXQgaDtcblxuXHRjb25zdCBociA9IE1hdGguYXRhbjIoYiwgYSk7XG5cdGggPSBociAqIDM2MCAvIDIgLyBNYXRoLlBJO1xuXG5cdGlmIChoIDwgMCkge1xuXHRcdGggKz0gMzYwO1xuXHR9XG5cblx0Y29uc3QgYyA9IE1hdGguc3FydChhICogYSArIGIgKiBiKTtcblxuXHRyZXR1cm4gW2wsIGMsIGhdO1xufTtcblxuY29udmVydC5sY2gubGFiID0gZnVuY3Rpb24gKGxjaCkge1xuXHRjb25zdCBsID0gbGNoWzBdO1xuXHRjb25zdCBjID0gbGNoWzFdO1xuXHRjb25zdCBoID0gbGNoWzJdO1xuXG5cdGNvbnN0IGhyID0gaCAvIDM2MCAqIDIgKiBNYXRoLlBJO1xuXHRjb25zdCBhID0gYyAqIE1hdGguY29zKGhyKTtcblx0Y29uc3QgYiA9IGMgKiBNYXRoLnNpbihocik7XG5cblx0cmV0dXJuIFtsLCBhLCBiXTtcbn07XG5cbmNvbnZlcnQucmdiLmFuc2kxNiA9IGZ1bmN0aW9uIChhcmdzLCBzYXR1cmF0aW9uID0gbnVsbCkge1xuXHRjb25zdCBbciwgZywgYl0gPSBhcmdzO1xuXHRsZXQgdmFsdWUgPSBzYXR1cmF0aW9uID09PSBudWxsID8gY29udmVydC5yZ2IuaHN2KGFyZ3MpWzJdIDogc2F0dXJhdGlvbjsgLy8gSHN2IC0+IGFuc2kxNiBvcHRpbWl6YXRpb25cblxuXHR2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUgLyA1MCk7XG5cblx0aWYgKHZhbHVlID09PSAwKSB7XG5cdFx0cmV0dXJuIDMwO1xuXHR9XG5cblx0bGV0IGFuc2kgPSAzMFxuXHRcdCsgKChNYXRoLnJvdW5kKGIgLyAyNTUpIDw8IDIpXG5cdFx0fCAoTWF0aC5yb3VuZChnIC8gMjU1KSA8PCAxKVxuXHRcdHwgTWF0aC5yb3VuZChyIC8gMjU1KSk7XG5cblx0aWYgKHZhbHVlID09PSAyKSB7XG5cdFx0YW5zaSArPSA2MDtcblx0fVxuXG5cdHJldHVybiBhbnNpO1xufTtcblxuY29udmVydC5oc3YuYW5zaTE2ID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0Ly8gT3B0aW1pemF0aW9uIGhlcmU7IHdlIGFscmVhZHkga25vdyB0aGUgdmFsdWUgYW5kIGRvbid0IG5lZWQgdG8gZ2V0XG5cdC8vIGl0IGNvbnZlcnRlZCBmb3IgdXMuXG5cdHJldHVybiBjb252ZXJ0LnJnYi5hbnNpMTYoY29udmVydC5oc3YucmdiKGFyZ3MpLCBhcmdzWzJdKTtcbn07XG5cbmNvbnZlcnQucmdiLmFuc2kyNTYgPSBmdW5jdGlvbiAoYXJncykge1xuXHRjb25zdCByID0gYXJnc1swXTtcblx0Y29uc3QgZyA9IGFyZ3NbMV07XG5cdGNvbnN0IGIgPSBhcmdzWzJdO1xuXG5cdC8vIFdlIHVzZSB0aGUgZXh0ZW5kZWQgZ3JleXNjYWxlIHBhbGV0dGUgaGVyZSwgd2l0aCB0aGUgZXhjZXB0aW9uIG9mXG5cdC8vIGJsYWNrIGFuZCB3aGl0ZS4gbm9ybWFsIHBhbGV0dGUgb25seSBoYXMgNCBncmV5c2NhbGUgc2hhZGVzLlxuXHRpZiAociA9PT0gZyAmJiBnID09PSBiKSB7XG5cdFx0aWYgKHIgPCA4KSB7XG5cdFx0XHRyZXR1cm4gMTY7XG5cdFx0fVxuXG5cdFx0aWYgKHIgPiAyNDgpIHtcblx0XHRcdHJldHVybiAyMzE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIE1hdGgucm91bmQoKChyIC0gOCkgLyAyNDcpICogMjQpICsgMjMyO1xuXHR9XG5cblx0Y29uc3QgYW5zaSA9IDE2XG5cdFx0KyAoMzYgKiBNYXRoLnJvdW5kKHIgLyAyNTUgKiA1KSlcblx0XHQrICg2ICogTWF0aC5yb3VuZChnIC8gMjU1ICogNSkpXG5cdFx0KyBNYXRoLnJvdW5kKGIgLyAyNTUgKiA1KTtcblxuXHRyZXR1cm4gYW5zaTtcbn07XG5cbmNvbnZlcnQuYW5zaTE2LnJnYiA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdGxldCBjb2xvciA9IGFyZ3MgJSAxMDtcblxuXHQvLyBIYW5kbGUgZ3JleXNjYWxlXG5cdGlmIChjb2xvciA9PT0gMCB8fCBjb2xvciA9PT0gNykge1xuXHRcdGlmIChhcmdzID4gNTApIHtcblx0XHRcdGNvbG9yICs9IDMuNTtcblx0XHR9XG5cblx0XHRjb2xvciA9IGNvbG9yIC8gMTAuNSAqIDI1NTtcblxuXHRcdHJldHVybiBbY29sb3IsIGNvbG9yLCBjb2xvcl07XG5cdH1cblxuXHRjb25zdCBtdWx0ID0gKH5+KGFyZ3MgPiA1MCkgKyAxKSAqIDAuNTtcblx0Y29uc3QgciA9ICgoY29sb3IgJiAxKSAqIG11bHQpICogMjU1O1xuXHRjb25zdCBnID0gKCgoY29sb3IgPj4gMSkgJiAxKSAqIG11bHQpICogMjU1O1xuXHRjb25zdCBiID0gKCgoY29sb3IgPj4gMikgJiAxKSAqIG11bHQpICogMjU1O1xuXG5cdHJldHVybiBbciwgZywgYl07XG59O1xuXG5jb252ZXJ0LmFuc2kyNTYucmdiID0gZnVuY3Rpb24gKGFyZ3MpIHtcblx0Ly8gSGFuZGxlIGdyZXlzY2FsZVxuXHRpZiAoYXJncyA+PSAyMzIpIHtcblx0XHRjb25zdCBjID0gKGFyZ3MgLSAyMzIpICogMTAgKyA4O1xuXHRcdHJldHVybiBbYywgYywgY107XG5cdH1cblxuXHRhcmdzIC09IDE2O1xuXG5cdGxldCByZW07XG5cdGNvbnN0IHIgPSBNYXRoLmZsb29yKGFyZ3MgLyAzNikgLyA1ICogMjU1O1xuXHRjb25zdCBnID0gTWF0aC5mbG9vcigocmVtID0gYXJncyAlIDM2KSAvIDYpIC8gNSAqIDI1NTtcblx0Y29uc3QgYiA9IChyZW0gJSA2KSAvIDUgKiAyNTU7XG5cblx0cmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQucmdiLmhleCA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdGNvbnN0IGludGVnZXIgPSAoKE1hdGgucm91bmQoYXJnc1swXSkgJiAweEZGKSA8PCAxNilcblx0XHQrICgoTWF0aC5yb3VuZChhcmdzWzFdKSAmIDB4RkYpIDw8IDgpXG5cdFx0KyAoTWF0aC5yb3VuZChhcmdzWzJdKSAmIDB4RkYpO1xuXG5cdGNvbnN0IHN0cmluZyA9IGludGVnZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdHJldHVybiAnMDAwMDAwJy5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59O1xuXG5jb252ZXJ0LmhleC5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHRjb25zdCBtYXRjaCA9IGFyZ3MudG9TdHJpbmcoMTYpLm1hdGNoKC9bYS1mMC05XXs2fXxbYS1mMC05XXszfS9pKTtcblx0aWYgKCFtYXRjaCkge1xuXHRcdHJldHVybiBbMCwgMCwgMF07XG5cdH1cblxuXHRsZXQgY29sb3JTdHJpbmcgPSBtYXRjaFswXTtcblxuXHRpZiAobWF0Y2hbMF0ubGVuZ3RoID09PSAzKSB7XG5cdFx0Y29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5zcGxpdCgnJykubWFwKGNoYXIgPT4ge1xuXHRcdFx0cmV0dXJuIGNoYXIgKyBjaGFyO1xuXHRcdH0pLmpvaW4oJycpO1xuXHR9XG5cblx0Y29uc3QgaW50ZWdlciA9IHBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7XG5cdGNvbnN0IHIgPSAoaW50ZWdlciA+PiAxNikgJiAweEZGO1xuXHRjb25zdCBnID0gKGludGVnZXIgPj4gOCkgJiAweEZGO1xuXHRjb25zdCBiID0gaW50ZWdlciAmIDB4RkY7XG5cblx0cmV0dXJuIFtyLCBnLCBiXTtcbn07XG5cbmNvbnZlcnQucmdiLmhjZyA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0Y29uc3QgciA9IHJnYlswXSAvIDI1NTtcblx0Y29uc3QgZyA9IHJnYlsxXSAvIDI1NTtcblx0Y29uc3QgYiA9IHJnYlsyXSAvIDI1NTtcblx0Y29uc3QgbWF4ID0gTWF0aC5tYXgoTWF0aC5tYXgociwgZyksIGIpO1xuXHRjb25zdCBtaW4gPSBNYXRoLm1pbihNYXRoLm1pbihyLCBnKSwgYik7XG5cdGNvbnN0IGNocm9tYSA9IChtYXggLSBtaW4pO1xuXHRsZXQgZ3JheXNjYWxlO1xuXHRsZXQgaHVlO1xuXG5cdGlmIChjaHJvbWEgPCAxKSB7XG5cdFx0Z3JheXNjYWxlID0gbWluIC8gKDEgLSBjaHJvbWEpO1xuXHR9IGVsc2Uge1xuXHRcdGdyYXlzY2FsZSA9IDA7XG5cdH1cblxuXHRpZiAoY2hyb21hIDw9IDApIHtcblx0XHRodWUgPSAwO1xuXHR9IGVsc2Vcblx0aWYgKG1heCA9PT0gcikge1xuXHRcdGh1ZSA9ICgoZyAtIGIpIC8gY2hyb21hKSAlIDY7XG5cdH0gZWxzZVxuXHRpZiAobWF4ID09PSBnKSB7XG5cdFx0aHVlID0gMiArIChiIC0gcikgLyBjaHJvbWE7XG5cdH0gZWxzZSB7XG5cdFx0aHVlID0gNCArIChyIC0gZykgLyBjaHJvbWE7XG5cdH1cblxuXHRodWUgLz0gNjtcblx0aHVlICU9IDE7XG5cblx0cmV0dXJuIFtodWUgKiAzNjAsIGNocm9tYSAqIDEwMCwgZ3JheXNjYWxlICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaHNsLmhjZyA9IGZ1bmN0aW9uIChoc2wpIHtcblx0Y29uc3QgcyA9IGhzbFsxXSAvIDEwMDtcblx0Y29uc3QgbCA9IGhzbFsyXSAvIDEwMDtcblxuXHRjb25zdCBjID0gbCA8IDAuNSA/ICgyLjAgKiBzICogbCkgOiAoMi4wICogcyAqICgxLjAgLSBsKSk7XG5cblx0bGV0IGYgPSAwO1xuXHRpZiAoYyA8IDEuMCkge1xuXHRcdGYgPSAobCAtIDAuNSAqIGMpIC8gKDEuMCAtIGMpO1xuXHR9XG5cblx0cmV0dXJuIFtoc2xbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydC5oc3YuaGNnID0gZnVuY3Rpb24gKGhzdikge1xuXHRjb25zdCBzID0gaHN2WzFdIC8gMTAwO1xuXHRjb25zdCB2ID0gaHN2WzJdIC8gMTAwO1xuXG5cdGNvbnN0IGMgPSBzICogdjtcblx0bGV0IGYgPSAwO1xuXG5cdGlmIChjIDwgMS4wKSB7XG5cdFx0ZiA9ICh2IC0gYykgLyAoMSAtIGMpO1xuXHR9XG5cblx0cmV0dXJuIFtoc3ZbMF0sIGMgKiAxMDAsIGYgKiAxMDBdO1xufTtcblxuY29udmVydC5oY2cucmdiID0gZnVuY3Rpb24gKGhjZykge1xuXHRjb25zdCBoID0gaGNnWzBdIC8gMzYwO1xuXHRjb25zdCBjID0gaGNnWzFdIC8gMTAwO1xuXHRjb25zdCBnID0gaGNnWzJdIC8gMTAwO1xuXG5cdGlmIChjID09PSAwLjApIHtcblx0XHRyZXR1cm4gW2cgKiAyNTUsIGcgKiAyNTUsIGcgKiAyNTVdO1xuXHR9XG5cblx0Y29uc3QgcHVyZSA9IFswLCAwLCAwXTtcblx0Y29uc3QgaGkgPSAoaCAlIDEpICogNjtcblx0Y29uc3QgdiA9IGhpICUgMTtcblx0Y29uc3QgdyA9IDEgLSB2O1xuXHRsZXQgbWcgPSAwO1xuXG5cdC8qIGVzbGludC1kaXNhYmxlIG1heC1zdGF0ZW1lbnRzLXBlci1saW5lICovXG5cdHN3aXRjaCAoTWF0aC5mbG9vcihoaSkpIHtcblx0XHRjYXNlIDA6XG5cdFx0XHRwdXJlWzBdID0gMTsgcHVyZVsxXSA9IHY7IHB1cmVbMl0gPSAwOyBicmVhaztcblx0XHRjYXNlIDE6XG5cdFx0XHRwdXJlWzBdID0gdzsgcHVyZVsxXSA9IDE7IHB1cmVbMl0gPSAwOyBicmVhaztcblx0XHRjYXNlIDI6XG5cdFx0XHRwdXJlWzBdID0gMDsgcHVyZVsxXSA9IDE7IHB1cmVbMl0gPSB2OyBicmVhaztcblx0XHRjYXNlIDM6XG5cdFx0XHRwdXJlWzBdID0gMDsgcHVyZVsxXSA9IHc7IHB1cmVbMl0gPSAxOyBicmVhaztcblx0XHRjYXNlIDQ6XG5cdFx0XHRwdXJlWzBdID0gdjsgcHVyZVsxXSA9IDA7IHB1cmVbMl0gPSAxOyBicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0cHVyZVswXSA9IDE7IHB1cmVbMV0gPSAwOyBwdXJlWzJdID0gdztcblx0fVxuXHQvKiBlc2xpbnQtZW5hYmxlIG1heC1zdGF0ZW1lbnRzLXBlci1saW5lICovXG5cblx0bWcgPSAoMS4wIC0gYykgKiBnO1xuXG5cdHJldHVybiBbXG5cdFx0KGMgKiBwdXJlWzBdICsgbWcpICogMjU1LFxuXHRcdChjICogcHVyZVsxXSArIG1nKSAqIDI1NSxcblx0XHQoYyAqIHB1cmVbMl0gKyBtZykgKiAyNTVcblx0XTtcbn07XG5cbmNvbnZlcnQuaGNnLmhzdiA9IGZ1bmN0aW9uIChoY2cpIHtcblx0Y29uc3QgYyA9IGhjZ1sxXSAvIDEwMDtcblx0Y29uc3QgZyA9IGhjZ1syXSAvIDEwMDtcblxuXHRjb25zdCB2ID0gYyArIGcgKiAoMS4wIC0gYyk7XG5cdGxldCBmID0gMDtcblxuXHRpZiAodiA+IDAuMCkge1xuXHRcdGYgPSBjIC8gdjtcblx0fVxuXG5cdHJldHVybiBbaGNnWzBdLCBmICogMTAwLCB2ICogMTAwXTtcbn07XG5cbmNvbnZlcnQuaGNnLmhzbCA9IGZ1bmN0aW9uIChoY2cpIHtcblx0Y29uc3QgYyA9IGhjZ1sxXSAvIDEwMDtcblx0Y29uc3QgZyA9IGhjZ1syXSAvIDEwMDtcblxuXHRjb25zdCBsID0gZyAqICgxLjAgLSBjKSArIDAuNSAqIGM7XG5cdGxldCBzID0gMDtcblxuXHRpZiAobCA+IDAuMCAmJiBsIDwgMC41KSB7XG5cdFx0cyA9IGMgLyAoMiAqIGwpO1xuXHR9IGVsc2Vcblx0aWYgKGwgPj0gMC41ICYmIGwgPCAxLjApIHtcblx0XHRzID0gYyAvICgyICogKDEgLSBsKSk7XG5cdH1cblxuXHRyZXR1cm4gW2hjZ1swXSwgcyAqIDEwMCwgbCAqIDEwMF07XG59O1xuXG5jb252ZXJ0LmhjZy5od2IgPSBmdW5jdGlvbiAoaGNnKSB7XG5cdGNvbnN0IGMgPSBoY2dbMV0gLyAxMDA7XG5cdGNvbnN0IGcgPSBoY2dbMl0gLyAxMDA7XG5cdGNvbnN0IHYgPSBjICsgZyAqICgxLjAgLSBjKTtcblx0cmV0dXJuIFtoY2dbMF0sICh2IC0gYykgKiAxMDAsICgxIC0gdikgKiAxMDBdO1xufTtcblxuY29udmVydC5od2IuaGNnID0gZnVuY3Rpb24gKGh3Yikge1xuXHRjb25zdCB3ID0gaHdiWzFdIC8gMTAwO1xuXHRjb25zdCBiID0gaHdiWzJdIC8gMTAwO1xuXHRjb25zdCB2ID0gMSAtIGI7XG5cdGNvbnN0IGMgPSB2IC0gdztcblx0bGV0IGcgPSAwO1xuXG5cdGlmIChjIDwgMSkge1xuXHRcdGcgPSAodiAtIGMpIC8gKDEgLSBjKTtcblx0fVxuXG5cdHJldHVybiBbaHdiWzBdLCBjICogMTAwLCBnICogMTAwXTtcbn07XG5cbmNvbnZlcnQuYXBwbGUucmdiID0gZnVuY3Rpb24gKGFwcGxlKSB7XG5cdHJldHVybiBbKGFwcGxlWzBdIC8gNjU1MzUpICogMjU1LCAoYXBwbGVbMV0gLyA2NTUzNSkgKiAyNTUsIChhcHBsZVsyXSAvIDY1NTM1KSAqIDI1NV07XG59O1xuXG5jb252ZXJ0LnJnYi5hcHBsZSA9IGZ1bmN0aW9uIChyZ2IpIHtcblx0cmV0dXJuIFsocmdiWzBdIC8gMjU1KSAqIDY1NTM1LCAocmdiWzFdIC8gMjU1KSAqIDY1NTM1LCAocmdiWzJdIC8gMjU1KSAqIDY1NTM1XTtcbn07XG5cbmNvbnZlcnQuZ3JheS5yZ2IgPSBmdW5jdGlvbiAoYXJncykge1xuXHRyZXR1cm4gW2FyZ3NbMF0gLyAxMDAgKiAyNTUsIGFyZ3NbMF0gLyAxMDAgKiAyNTUsIGFyZ3NbMF0gLyAxMDAgKiAyNTVdO1xufTtcblxuY29udmVydC5ncmF5LmhzbCA9IGZ1bmN0aW9uIChhcmdzKSB7XG5cdHJldHVybiBbMCwgMCwgYXJnc1swXV07XG59O1xuXG5jb252ZXJ0LmdyYXkuaHN2ID0gY29udmVydC5ncmF5LmhzbDtcblxuY29udmVydC5ncmF5Lmh3YiA9IGZ1bmN0aW9uIChncmF5KSB7XG5cdHJldHVybiBbMCwgMTAwLCBncmF5WzBdXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5jbXlrID0gZnVuY3Rpb24gKGdyYXkpIHtcblx0cmV0dXJuIFswLCAwLCAwLCBncmF5WzBdXTtcbn07XG5cbmNvbnZlcnQuZ3JheS5sYWIgPSBmdW5jdGlvbiAoZ3JheSkge1xuXHRyZXR1cm4gW2dyYXlbMF0sIDAsIDBdO1xufTtcblxuY29udmVydC5ncmF5LmhleCA9IGZ1bmN0aW9uIChncmF5KSB7XG5cdGNvbnN0IHZhbCA9IE1hdGgucm91bmQoZ3JheVswXSAvIDEwMCAqIDI1NSkgJiAweEZGO1xuXHRjb25zdCBpbnRlZ2VyID0gKHZhbCA8PCAxNikgKyAodmFsIDw8IDgpICsgdmFsO1xuXG5cdGNvbnN0IHN0cmluZyA9IGludGVnZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cdHJldHVybiAnMDAwMDAwJy5zdWJzdHJpbmcoc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59O1xuXG5jb252ZXJ0LnJnYi5ncmF5ID0gZnVuY3Rpb24gKHJnYikge1xuXHRjb25zdCB2YWwgPSAocmdiWzBdICsgcmdiWzFdICsgcmdiWzJdKSAvIDM7XG5cdHJldHVybiBbdmFsIC8gMjU1ICogMTAwXTtcbn07XG4iLCJjb25zdCBjb252ZXJzaW9ucyA9IHJlcXVpcmUoJy4vY29udmVyc2lvbnMnKTtcblxuLypcblx0VGhpcyBmdW5jdGlvbiByb3V0ZXMgYSBtb2RlbCB0byBhbGwgb3RoZXIgbW9kZWxzLlxuXG5cdGFsbCBmdW5jdGlvbnMgdGhhdCBhcmUgcm91dGVkIGhhdmUgYSBwcm9wZXJ0eSBgLmNvbnZlcnNpb25gIGF0dGFjaGVkXG5cdHRvIHRoZSByZXR1cm5lZCBzeW50aGV0aWMgZnVuY3Rpb24uIFRoaXMgcHJvcGVydHkgaXMgYW4gYXJyYXlcblx0b2Ygc3RyaW5ncywgZWFjaCB3aXRoIHRoZSBzdGVwcyBpbiBiZXR3ZWVuIHRoZSAnZnJvbScgYW5kICd0bydcblx0Y29sb3IgbW9kZWxzIChpbmNsdXNpdmUpLlxuXG5cdGNvbnZlcnNpb25zIHRoYXQgYXJlIG5vdCBwb3NzaWJsZSBzaW1wbHkgYXJlIG5vdCBpbmNsdWRlZC5cbiovXG5cbmZ1bmN0aW9uIGJ1aWxkR3JhcGgoKSB7XG5cdGNvbnN0IGdyYXBoID0ge307XG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS9vYmplY3Qta2V5cy12cy1mb3ItaW4td2l0aC1jbG9zdXJlLzNcblx0Y29uc3QgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5cdGZvciAobGV0IGxlbiA9IG1vZGVscy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRncmFwaFttb2RlbHNbaV1dID0ge1xuXHRcdFx0Ly8gaHR0cDovL2pzcGVyZi5jb20vMS12cy1pbmZpbml0eVxuXHRcdFx0Ly8gbWljcm8tb3B0LCBidXQgdGhpcyBpcyBzaW1wbGUuXG5cdFx0XHRkaXN0YW5jZTogLTEsXG5cdFx0XHRwYXJlbnQ6IG51bGxcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG4vLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CcmVhZHRoLWZpcnN0X3NlYXJjaFxuZnVuY3Rpb24gZGVyaXZlQkZTKGZyb21Nb2RlbCkge1xuXHRjb25zdCBncmFwaCA9IGJ1aWxkR3JhcGgoKTtcblx0Y29uc3QgcXVldWUgPSBbZnJvbU1vZGVsXTsgLy8gVW5zaGlmdCAtPiBxdWV1ZSAtPiBwb3BcblxuXHRncmFwaFtmcm9tTW9kZWxdLmRpc3RhbmNlID0gMDtcblxuXHR3aGlsZSAocXVldWUubGVuZ3RoKSB7XG5cdFx0Y29uc3QgY3VycmVudCA9IHF1ZXVlLnBvcCgpO1xuXHRcdGNvbnN0IGFkamFjZW50cyA9IE9iamVjdC5rZXlzKGNvbnZlcnNpb25zW2N1cnJlbnRdKTtcblxuXHRcdGZvciAobGV0IGxlbiA9IGFkamFjZW50cy5sZW5ndGgsIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGNvbnN0IGFkamFjZW50ID0gYWRqYWNlbnRzW2ldO1xuXHRcdFx0Y29uc3Qgbm9kZSA9IGdyYXBoW2FkamFjZW50XTtcblxuXHRcdFx0aWYgKG5vZGUuZGlzdGFuY2UgPT09IC0xKSB7XG5cdFx0XHRcdG5vZGUuZGlzdGFuY2UgPSBncmFwaFtjdXJyZW50XS5kaXN0YW5jZSArIDE7XG5cdFx0XHRcdG5vZGUucGFyZW50ID0gY3VycmVudDtcblx0XHRcdFx0cXVldWUudW5zaGlmdChhZGphY2VudCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGdyYXBoO1xufVxuXG5mdW5jdGlvbiBsaW5rKGZyb20sIHRvKSB7XG5cdHJldHVybiBmdW5jdGlvbiAoYXJncykge1xuXHRcdHJldHVybiB0byhmcm9tKGFyZ3MpKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gd3JhcENvbnZlcnNpb24odG9Nb2RlbCwgZ3JhcGgpIHtcblx0Y29uc3QgcGF0aCA9IFtncmFwaFt0b01vZGVsXS5wYXJlbnQsIHRvTW9kZWxdO1xuXHRsZXQgZm4gPSBjb252ZXJzaW9uc1tncmFwaFt0b01vZGVsXS5wYXJlbnRdW3RvTW9kZWxdO1xuXG5cdGxldCBjdXIgPSBncmFwaFt0b01vZGVsXS5wYXJlbnQ7XG5cdHdoaWxlIChncmFwaFtjdXJdLnBhcmVudCkge1xuXHRcdHBhdGgudW5zaGlmdChncmFwaFtjdXJdLnBhcmVudCk7XG5cdFx0Zm4gPSBsaW5rKGNvbnZlcnNpb25zW2dyYXBoW2N1cl0ucGFyZW50XVtjdXJdLCBmbik7XG5cdFx0Y3VyID0gZ3JhcGhbY3VyXS5wYXJlbnQ7XG5cdH1cblxuXHRmbi5jb252ZXJzaW9uID0gcGF0aDtcblx0cmV0dXJuIGZuO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmcm9tTW9kZWwpIHtcblx0Y29uc3QgZ3JhcGggPSBkZXJpdmVCRlMoZnJvbU1vZGVsKTtcblx0Y29uc3QgY29udmVyc2lvbiA9IHt9O1xuXG5cdGNvbnN0IG1vZGVscyA9IE9iamVjdC5rZXlzKGdyYXBoKTtcblx0Zm9yIChsZXQgbGVuID0gbW9kZWxzLmxlbmd0aCwgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdGNvbnN0IHRvTW9kZWwgPSBtb2RlbHNbaV07XG5cdFx0Y29uc3Qgbm9kZSA9IGdyYXBoW3RvTW9kZWxdO1xuXG5cdFx0aWYgKG5vZGUucGFyZW50ID09PSBudWxsKSB7XG5cdFx0XHQvLyBObyBwb3NzaWJsZSBjb252ZXJzaW9uLCBvciB0aGlzIG5vZGUgaXMgdGhlIHNvdXJjZSBtb2RlbC5cblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnZlcnNpb25bdG9Nb2RlbF0gPSB3cmFwQ29udmVyc2lvbih0b01vZGVsLCBncmFwaCk7XG5cdH1cblxuXHRyZXR1cm4gY29udmVyc2lvbjtcbn07XG5cbiIsImNvbnN0IGNvbnZlcnNpb25zID0gcmVxdWlyZSgnLi9jb252ZXJzaW9ucycpO1xuY29uc3Qgcm91dGUgPSByZXF1aXJlKCcuL3JvdXRlJyk7XG5cbmNvbnN0IGNvbnZlcnQgPSB7fTtcblxuY29uc3QgbW9kZWxzID0gT2JqZWN0LmtleXMoY29udmVyc2lvbnMpO1xuXG5mdW5jdGlvbiB3cmFwUmF3KGZuKSB7XG5cdGNvbnN0IHdyYXBwZWRGbiA9IGZ1bmN0aW9uICguLi5hcmdzKSB7XG5cdFx0Y29uc3QgYXJnMCA9IGFyZ3NbMF07XG5cdFx0aWYgKGFyZzAgPT09IHVuZGVmaW5lZCB8fCBhcmcwID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gYXJnMDtcblx0XHR9XG5cblx0XHRpZiAoYXJnMC5sZW5ndGggPiAxKSB7XG5cdFx0XHRhcmdzID0gYXJnMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZm4oYXJncyk7XG5cdH07XG5cblx0Ly8gUHJlc2VydmUgLmNvbnZlcnNpb24gcHJvcGVydHkgaWYgdGhlcmUgaXMgb25lXG5cdGlmICgnY29udmVyc2lvbicgaW4gZm4pIHtcblx0XHR3cmFwcGVkRm4uY29udmVyc2lvbiA9IGZuLmNvbnZlcnNpb247XG5cdH1cblxuXHRyZXR1cm4gd3JhcHBlZEZuO1xufVxuXG5mdW5jdGlvbiB3cmFwUm91bmRlZChmbikge1xuXHRjb25zdCB3cmFwcGVkRm4gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGNvbnN0IGFyZzAgPSBhcmdzWzBdO1xuXG5cdFx0aWYgKGFyZzAgPT09IHVuZGVmaW5lZCB8fCBhcmcwID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gYXJnMDtcblx0XHR9XG5cblx0XHRpZiAoYXJnMC5sZW5ndGggPiAxKSB7XG5cdFx0XHRhcmdzID0gYXJnMDtcblx0XHR9XG5cblx0XHRjb25zdCByZXN1bHQgPSBmbihhcmdzKTtcblxuXHRcdC8vIFdlJ3JlIGFzc3VtaW5nIHRoZSByZXN1bHQgaXMgYW4gYXJyYXkgaGVyZS5cblx0XHQvLyBzZWUgbm90aWNlIGluIGNvbnZlcnNpb25zLmpzOyBkb24ndCB1c2UgYm94IHR5cGVzXG5cdFx0Ly8gaW4gY29udmVyc2lvbiBmdW5jdGlvbnMuXG5cdFx0aWYgKHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnKSB7XG5cdFx0XHRmb3IgKGxldCBsZW4gPSByZXN1bHQubGVuZ3RoLCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdHJlc3VsdFtpXSA9IE1hdGgucm91bmQocmVzdWx0W2ldKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xuXG5cdC8vIFByZXNlcnZlIC5jb252ZXJzaW9uIHByb3BlcnR5IGlmIHRoZXJlIGlzIG9uZVxuXHRpZiAoJ2NvbnZlcnNpb24nIGluIGZuKSB7XG5cdFx0d3JhcHBlZEZuLmNvbnZlcnNpb24gPSBmbi5jb252ZXJzaW9uO1xuXHR9XG5cblx0cmV0dXJuIHdyYXBwZWRGbjtcbn1cblxubW9kZWxzLmZvckVhY2goZnJvbU1vZGVsID0+IHtcblx0Y29udmVydFtmcm9tTW9kZWxdID0ge307XG5cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGNvbnZlcnRbZnJvbU1vZGVsXSwgJ2NoYW5uZWxzJywge3ZhbHVlOiBjb252ZXJzaW9uc1tmcm9tTW9kZWxdLmNoYW5uZWxzfSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb252ZXJ0W2Zyb21Nb2RlbF0sICdsYWJlbHMnLCB7dmFsdWU6IGNvbnZlcnNpb25zW2Zyb21Nb2RlbF0ubGFiZWxzfSk7XG5cblx0Y29uc3Qgcm91dGVzID0gcm91dGUoZnJvbU1vZGVsKTtcblx0Y29uc3Qgcm91dGVNb2RlbHMgPSBPYmplY3Qua2V5cyhyb3V0ZXMpO1xuXG5cdHJvdXRlTW9kZWxzLmZvckVhY2godG9Nb2RlbCA9PiB7XG5cdFx0Y29uc3QgZm4gPSByb3V0ZXNbdG9Nb2RlbF07XG5cblx0XHRjb252ZXJ0W2Zyb21Nb2RlbF1bdG9Nb2RlbF0gPSB3cmFwUm91bmRlZChmbik7XG5cdFx0Y29udmVydFtmcm9tTW9kZWxdW3RvTW9kZWxdLnJhdyA9IHdyYXBSYXcoZm4pO1xuXHR9KTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnZlcnQ7XG4iLCJjb25zdCBjb2xvclN0cmluZyA9IHJlcXVpcmUoJ2NvbG9yLXN0cmluZycpO1xuY29uc3QgY29udmVydCA9IHJlcXVpcmUoJ2NvbG9yLWNvbnZlcnQnKTtcblxuY29uc3Qgc2tpcHBlZE1vZGVscyA9IFtcblx0Ly8gVG8gYmUgaG9uZXN0LCBJIGRvbid0IHJlYWxseSBmZWVsIGxpa2Uga2V5d29yZCBiZWxvbmdzIGluIGNvbG9yIGNvbnZlcnQsIGJ1dCBlaC5cblx0J2tleXdvcmQnLFxuXG5cdC8vIEdyYXkgY29uZmxpY3RzIHdpdGggc29tZSBtZXRob2QgbmFtZXMsIGFuZCBoYXMgaXRzIG93biBtZXRob2QgZGVmaW5lZC5cblx0J2dyYXknLFxuXG5cdC8vIFNob3VsZG4ndCByZWFsbHkgYmUgaW4gY29sb3ItY29udmVydCBlaXRoZXIuLi5cblx0J2hleCcsXG5dO1xuXG5jb25zdCBoYXNoZWRNb2RlbEtleXMgPSB7fTtcbmZvciAoY29uc3QgbW9kZWwgb2YgT2JqZWN0LmtleXMoY29udmVydCkpIHtcblx0aGFzaGVkTW9kZWxLZXlzW1suLi5jb252ZXJ0W21vZGVsXS5sYWJlbHNdLnNvcnQoKS5qb2luKCcnKV0gPSBtb2RlbDtcbn1cblxuY29uc3QgbGltaXRlcnMgPSB7fTtcblxuZnVuY3Rpb24gQ29sb3Iob2JqZWN0LCBtb2RlbCkge1xuXHRpZiAoISh0aGlzIGluc3RhbmNlb2YgQ29sb3IpKSB7XG5cdFx0cmV0dXJuIG5ldyBDb2xvcihvYmplY3QsIG1vZGVsKTtcblx0fVxuXG5cdGlmIChtb2RlbCAmJiBtb2RlbCBpbiBza2lwcGVkTW9kZWxzKSB7XG5cdFx0bW9kZWwgPSBudWxsO1xuXHR9XG5cblx0aWYgKG1vZGVsICYmICEobW9kZWwgaW4gY29udmVydCkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbW9kZWw6ICcgKyBtb2RlbCk7XG5cdH1cblxuXHRsZXQgaTtcblx0bGV0IGNoYW5uZWxzO1xuXG5cdGlmIChvYmplY3QgPT0gbnVsbCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG5cdFx0dGhpcy5tb2RlbCA9ICdyZ2InO1xuXHRcdHRoaXMuY29sb3IgPSBbMCwgMCwgMF07XG5cdFx0dGhpcy52YWxwaGEgPSAxO1xuXHR9IGVsc2UgaWYgKG9iamVjdCBpbnN0YW5jZW9mIENvbG9yKSB7XG5cdFx0dGhpcy5tb2RlbCA9IG9iamVjdC5tb2RlbDtcblx0XHR0aGlzLmNvbG9yID0gWy4uLm9iamVjdC5jb2xvcl07XG5cdFx0dGhpcy52YWxwaGEgPSBvYmplY3QudmFscGhhO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvYmplY3QgPT09ICdzdHJpbmcnKSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gY29sb3JTdHJpbmcuZ2V0KG9iamVjdCk7XG5cdFx0aWYgKHJlc3VsdCA9PT0gbnVsbCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgY29sb3IgZnJvbSBzdHJpbmc6ICcgKyBvYmplY3QpO1xuXHRcdH1cblxuXHRcdHRoaXMubW9kZWwgPSByZXN1bHQubW9kZWw7XG5cdFx0Y2hhbm5lbHMgPSBjb252ZXJ0W3RoaXMubW9kZWxdLmNoYW5uZWxzO1xuXHRcdHRoaXMuY29sb3IgPSByZXN1bHQudmFsdWUuc2xpY2UoMCwgY2hhbm5lbHMpO1xuXHRcdHRoaXMudmFscGhhID0gdHlwZW9mIHJlc3VsdC52YWx1ZVtjaGFubmVsc10gPT09ICdudW1iZXInID8gcmVzdWx0LnZhbHVlW2NoYW5uZWxzXSA6IDE7XG5cdH0gZWxzZSBpZiAob2JqZWN0Lmxlbmd0aCA+IDApIHtcblx0XHR0aGlzLm1vZGVsID0gbW9kZWwgfHwgJ3JnYic7XG5cdFx0Y2hhbm5lbHMgPSBjb252ZXJ0W3RoaXMubW9kZWxdLmNoYW5uZWxzO1xuXHRcdGNvbnN0IG5ld0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwob2JqZWN0LCAwLCBjaGFubmVscyk7XG5cdFx0dGhpcy5jb2xvciA9IHplcm9BcnJheShuZXdBcnJheSwgY2hhbm5lbHMpO1xuXHRcdHRoaXMudmFscGhhID0gdHlwZW9mIG9iamVjdFtjaGFubmVsc10gPT09ICdudW1iZXInID8gb2JqZWN0W2NoYW5uZWxzXSA6IDE7XG5cdH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdCA9PT0gJ251bWJlcicpIHtcblx0XHQvLyBUaGlzIGlzIGFsd2F5cyBSR0IgLSBjYW4gYmUgY29udmVydGVkIGxhdGVyIG9uLlxuXHRcdHRoaXMubW9kZWwgPSAncmdiJztcblx0XHR0aGlzLmNvbG9yID0gW1xuXHRcdFx0KG9iamVjdCA+PiAxNikgJiAweEZGLFxuXHRcdFx0KG9iamVjdCA+PiA4KSAmIDB4RkYsXG5cdFx0XHRvYmplY3QgJiAweEZGLFxuXHRcdF07XG5cdFx0dGhpcy52YWxwaGEgPSAxO1xuXHR9IGVsc2Uge1xuXHRcdHRoaXMudmFscGhhID0gMTtcblxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXHRcdGlmICgnYWxwaGEnIGluIG9iamVjdCkge1xuXHRcdFx0a2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKCdhbHBoYScpLCAxKTtcblx0XHRcdHRoaXMudmFscGhhID0gdHlwZW9mIG9iamVjdC5hbHBoYSA9PT0gJ251bWJlcicgPyBvYmplY3QuYWxwaGEgOiAwO1xuXHRcdH1cblxuXHRcdGNvbnN0IGhhc2hlZEtleXMgPSBrZXlzLnNvcnQoKS5qb2luKCcnKTtcblx0XHRpZiAoIShoYXNoZWRLZXlzIGluIGhhc2hlZE1vZGVsS2V5cykpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHBhcnNlIGNvbG9yIGZyb20gb2JqZWN0OiAnICsgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5tb2RlbCA9IGhhc2hlZE1vZGVsS2V5c1toYXNoZWRLZXlzXTtcblxuXHRcdGNvbnN0IHtsYWJlbHN9ID0gY29udmVydFt0aGlzLm1vZGVsXTtcblx0XHRjb25zdCBjb2xvciA9IFtdO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsYWJlbHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbG9yLnB1c2gob2JqZWN0W2xhYmVsc1tpXV0pO1xuXHRcdH1cblxuXHRcdHRoaXMuY29sb3IgPSB6ZXJvQXJyYXkoY29sb3IpO1xuXHR9XG5cblx0Ly8gUGVyZm9ybSBsaW1pdGF0aW9ucyAoY2xhbXBpbmcsIGV0Yy4pXG5cdGlmIChsaW1pdGVyc1t0aGlzLm1vZGVsXSkge1xuXHRcdGNoYW5uZWxzID0gY29udmVydFt0aGlzLm1vZGVsXS5jaGFubmVscztcblx0XHRmb3IgKGkgPSAwOyBpIDwgY2hhbm5lbHM7IGkrKykge1xuXHRcdFx0Y29uc3QgbGltaXQgPSBsaW1pdGVyc1t0aGlzLm1vZGVsXVtpXTtcblx0XHRcdGlmIChsaW1pdCkge1xuXHRcdFx0XHR0aGlzLmNvbG9yW2ldID0gbGltaXQodGhpcy5jb2xvcltpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dGhpcy52YWxwaGEgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCB0aGlzLnZhbHBoYSkpO1xuXG5cdGlmIChPYmplY3QuZnJlZXplKSB7XG5cdFx0T2JqZWN0LmZyZWV6ZSh0aGlzKTtcblx0fVxufVxuXG5Db2xvci5wcm90b3R5cGUgPSB7XG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiB0aGlzLnN0cmluZygpO1xuXHR9LFxuXG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4gdGhpc1t0aGlzLm1vZGVsXSgpO1xuXHR9LFxuXG5cdHN0cmluZyhwbGFjZXMpIHtcblx0XHRsZXQgc2VsZiA9IHRoaXMubW9kZWwgaW4gY29sb3JTdHJpbmcudG8gPyB0aGlzIDogdGhpcy5yZ2IoKTtcblx0XHRzZWxmID0gc2VsZi5yb3VuZCh0eXBlb2YgcGxhY2VzID09PSAnbnVtYmVyJyA/IHBsYWNlcyA6IDEpO1xuXHRcdGNvbnN0IGFyZ3MgPSBzZWxmLnZhbHBoYSA9PT0gMSA/IHNlbGYuY29sb3IgOiBbLi4uc2VsZi5jb2xvciwgdGhpcy52YWxwaGFdO1xuXHRcdHJldHVybiBjb2xvclN0cmluZy50b1tzZWxmLm1vZGVsXShhcmdzKTtcblx0fSxcblxuXHRwZXJjZW50U3RyaW5nKHBsYWNlcykge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzLnJnYigpLnJvdW5kKHR5cGVvZiBwbGFjZXMgPT09ICdudW1iZXInID8gcGxhY2VzIDogMSk7XG5cdFx0Y29uc3QgYXJncyA9IHNlbGYudmFscGhhID09PSAxID8gc2VsZi5jb2xvciA6IFsuLi5zZWxmLmNvbG9yLCB0aGlzLnZhbHBoYV07XG5cdFx0cmV0dXJuIGNvbG9yU3RyaW5nLnRvLnJnYi5wZXJjZW50KGFyZ3MpO1xuXHR9LFxuXG5cdGFycmF5KCkge1xuXHRcdHJldHVybiB0aGlzLnZhbHBoYSA9PT0gMSA/IFsuLi50aGlzLmNvbG9yXSA6IFsuLi50aGlzLmNvbG9yLCB0aGlzLnZhbHBoYV07XG5cdH0sXG5cblx0b2JqZWN0KCkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRcdGNvbnN0IHtjaGFubmVsc30gPSBjb252ZXJ0W3RoaXMubW9kZWxdO1xuXHRcdGNvbnN0IHtsYWJlbHN9ID0gY29udmVydFt0aGlzLm1vZGVsXTtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbm5lbHM7IGkrKykge1xuXHRcdFx0cmVzdWx0W2xhYmVsc1tpXV0gPSB0aGlzLmNvbG9yW2ldO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnZhbHBoYSAhPT0gMSkge1xuXHRcdFx0cmVzdWx0LmFscGhhID0gdGhpcy52YWxwaGE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSxcblxuXHR1bml0QXJyYXkoKSB7XG5cdFx0Y29uc3QgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblx0XHRyZ2JbMF0gLz0gMjU1O1xuXHRcdHJnYlsxXSAvPSAyNTU7XG5cdFx0cmdiWzJdIC89IDI1NTtcblxuXHRcdGlmICh0aGlzLnZhbHBoYSAhPT0gMSkge1xuXHRcdFx0cmdiLnB1c2godGhpcy52YWxwaGEpO1xuXHRcdH1cblxuXHRcdHJldHVybiByZ2I7XG5cdH0sXG5cblx0dW5pdE9iamVjdCgpIHtcblx0XHRjb25zdCByZ2IgPSB0aGlzLnJnYigpLm9iamVjdCgpO1xuXHRcdHJnYi5yIC89IDI1NTtcblx0XHRyZ2IuZyAvPSAyNTU7XG5cdFx0cmdiLmIgLz0gMjU1O1xuXG5cdFx0aWYgKHRoaXMudmFscGhhICE9PSAxKSB7XG5cdFx0XHRyZ2IuYWxwaGEgPSB0aGlzLnZhbHBoYTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmdiO1xuXHR9LFxuXG5cdHJvdW5kKHBsYWNlcykge1xuXHRcdHBsYWNlcyA9IE1hdGgubWF4KHBsYWNlcyB8fCAwLCAwKTtcblx0XHRyZXR1cm4gbmV3IENvbG9yKFsuLi50aGlzLmNvbG9yLm1hcChyb3VuZFRvUGxhY2UocGxhY2VzKSksIHRoaXMudmFscGhhXSwgdGhpcy5tb2RlbCk7XG5cdH0sXG5cblx0YWxwaGEodmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcihbLi4udGhpcy5jb2xvciwgTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgdmFsdWUpKV0sIHRoaXMubW9kZWwpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnZhbHBoYTtcblx0fSxcblxuXHQvLyBSZ2Jcblx0cmVkOiBnZXRzZXQoJ3JnYicsIDAsIG1heGZuKDI1NSkpLFxuXHRncmVlbjogZ2V0c2V0KCdyZ2InLCAxLCBtYXhmbigyNTUpKSxcblx0Ymx1ZTogZ2V0c2V0KCdyZ2InLCAyLCBtYXhmbigyNTUpKSxcblxuXHRodWU6IGdldHNldChbJ2hzbCcsICdoc3YnLCAnaHNsJywgJ2h3YicsICdoY2cnXSwgMCwgdmFsdWUgPT4gKCh2YWx1ZSAlIDM2MCkgKyAzNjApICUgMzYwKSxcblxuXHRzYXR1cmF0aW9ubDogZ2V0c2V0KCdoc2wnLCAxLCBtYXhmbigxMDApKSxcblx0bGlnaHRuZXNzOiBnZXRzZXQoJ2hzbCcsIDIsIG1heGZuKDEwMCkpLFxuXG5cdHNhdHVyYXRpb252OiBnZXRzZXQoJ2hzdicsIDEsIG1heGZuKDEwMCkpLFxuXHR2YWx1ZTogZ2V0c2V0KCdoc3YnLCAyLCBtYXhmbigxMDApKSxcblxuXHRjaHJvbWE6IGdldHNldCgnaGNnJywgMSwgbWF4Zm4oMTAwKSksXG5cdGdyYXk6IGdldHNldCgnaGNnJywgMiwgbWF4Zm4oMTAwKSksXG5cblx0d2hpdGU6IGdldHNldCgnaHdiJywgMSwgbWF4Zm4oMTAwKSksXG5cdHdibGFjazogZ2V0c2V0KCdod2InLCAyLCBtYXhmbigxMDApKSxcblxuXHRjeWFuOiBnZXRzZXQoJ2NteWsnLCAwLCBtYXhmbigxMDApKSxcblx0bWFnZW50YTogZ2V0c2V0KCdjbXlrJywgMSwgbWF4Zm4oMTAwKSksXG5cdHllbGxvdzogZ2V0c2V0KCdjbXlrJywgMiwgbWF4Zm4oMTAwKSksXG5cdGJsYWNrOiBnZXRzZXQoJ2NteWsnLCAzLCBtYXhmbigxMDApKSxcblxuXHR4OiBnZXRzZXQoJ3h5eicsIDAsIG1heGZuKDk1LjA0NykpLFxuXHR5OiBnZXRzZXQoJ3h5eicsIDEsIG1heGZuKDEwMCkpLFxuXHR6OiBnZXRzZXQoJ3h5eicsIDIsIG1heGZuKDEwOC44MzMpKSxcblxuXHRsOiBnZXRzZXQoJ2xhYicsIDAsIG1heGZuKDEwMCkpLFxuXHRhOiBnZXRzZXQoJ2xhYicsIDEpLFxuXHRiOiBnZXRzZXQoJ2xhYicsIDIpLFxuXG5cdGtleXdvcmQodmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnZlcnRbdGhpcy5tb2RlbF0ua2V5d29yZCh0aGlzLmNvbG9yKTtcblx0fSxcblxuXHRoZXgodmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbG9yU3RyaW5nLnRvLmhleCh0aGlzLnJnYigpLnJvdW5kKCkuY29sb3IpO1xuXHR9LFxuXG5cdGhleGEodmFsdWUpIHtcblx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih2YWx1ZSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmdiQXJyYXkgPSB0aGlzLnJnYigpLnJvdW5kKCkuY29sb3I7XG5cblx0XHRsZXQgYWxwaGFIZXggPSBNYXRoLnJvdW5kKHRoaXMudmFscGhhICogMjU1KS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKTtcblx0XHRpZiAoYWxwaGFIZXgubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRhbHBoYUhleCA9ICcwJyArIGFscGhhSGV4O1xuXHRcdH1cblxuXHRcdHJldHVybiBjb2xvclN0cmluZy50by5oZXgocmdiQXJyYXkpICsgYWxwaGFIZXg7XG5cdH0sXG5cblx0cmdiTnVtYmVyKCkge1xuXHRcdGNvbnN0IHJnYiA9IHRoaXMucmdiKCkuY29sb3I7XG5cdFx0cmV0dXJuICgocmdiWzBdICYgMHhGRikgPDwgMTYpIHwgKChyZ2JbMV0gJiAweEZGKSA8PCA4KSB8IChyZ2JbMl0gJiAweEZGKTtcblx0fSxcblxuXHRsdW1pbm9zaXR5KCkge1xuXHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcblx0XHRjb25zdCByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXG5cdFx0Y29uc3QgbHVtID0gW107XG5cdFx0Zm9yIChjb25zdCBbaSwgZWxlbWVudF0gb2YgcmdiLmVudHJpZXMoKSkge1xuXHRcdFx0Y29uc3QgY2hhbiA9IGVsZW1lbnQgLyAyNTU7XG5cdFx0XHRsdW1baV0gPSAoY2hhbiA8PSAwLjA0MDQ1KSA/IGNoYW4gLyAxMi45MiA6ICgoY2hhbiArIDAuMDU1KSAvIDEuMDU1KSAqKiAyLjQ7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDAuMjEyNiAqIGx1bVswXSArIDAuNzE1MiAqIGx1bVsxXSArIDAuMDcyMiAqIGx1bVsyXTtcblx0fSxcblxuXHRjb250cmFzdChjb2xvcjIpIHtcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9XQ0FHMjAvI2NvbnRyYXN0LXJhdGlvZGVmXG5cdFx0Y29uc3QgbHVtMSA9IHRoaXMubHVtaW5vc2l0eSgpO1xuXHRcdGNvbnN0IGx1bTIgPSBjb2xvcjIubHVtaW5vc2l0eSgpO1xuXG5cdFx0aWYgKGx1bTEgPiBsdW0yKSB7XG5cdFx0XHRyZXR1cm4gKGx1bTEgKyAwLjA1KSAvIChsdW0yICsgMC4wNSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChsdW0yICsgMC4wNSkgLyAobHVtMSArIDAuMDUpO1xuXHR9LFxuXG5cdGxldmVsKGNvbG9yMikge1xuXHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9XQ0FHLyNjb250cmFzdC1lbmhhbmNlZFxuXHRcdGNvbnN0IGNvbnRyYXN0UmF0aW8gPSB0aGlzLmNvbnRyYXN0KGNvbG9yMik7XG5cdFx0aWYgKGNvbnRyYXN0UmF0aW8gPj0gNykge1xuXHRcdFx0cmV0dXJuICdBQUEnO1xuXHRcdH1cblxuXHRcdHJldHVybiAoY29udHJhc3RSYXRpbyA+PSA0LjUpID8gJ0FBJyA6ICcnO1xuXHR9LFxuXG5cdGlzRGFyaygpIHtcblx0XHQvLyBZSVEgZXF1YXRpb24gZnJvbSBodHRwOi8vMjR3YXlzLm9yZy8yMDEwL2NhbGN1bGF0aW5nLWNvbG9yLWNvbnRyYXN0XG5cdFx0Y29uc3QgcmdiID0gdGhpcy5yZ2IoKS5jb2xvcjtcblx0XHRjb25zdCB5aXEgPSAocmdiWzBdICogMjEyNiArIHJnYlsxXSAqIDcxNTIgKyByZ2JbMl0gKiA3MjIpIC8gMTAwMDA7XG5cdFx0cmV0dXJuIHlpcSA8IDEyODtcblx0fSxcblxuXHRpc0xpZ2h0KCkge1xuXHRcdHJldHVybiAhdGhpcy5pc0RhcmsoKTtcblx0fSxcblxuXHRuZWdhdGUoKSB7XG5cdFx0Y29uc3QgcmdiID0gdGhpcy5yZ2IoKTtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuXHRcdFx0cmdiLmNvbG9yW2ldID0gMjU1IC0gcmdiLmNvbG9yW2ldO1xuXHRcdH1cblxuXHRcdHJldHVybiByZ2I7XG5cdH0sXG5cblx0bGlnaHRlbihyYXRpbykge1xuXHRcdGNvbnN0IGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzJdICs9IGhzbC5jb2xvclsyXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0ZGFya2VuKHJhdGlvKSB7XG5cdFx0Y29uc3QgaHNsID0gdGhpcy5oc2woKTtcblx0XHRoc2wuY29sb3JbMl0gLT0gaHNsLmNvbG9yWzJdICogcmF0aW87XG5cdFx0cmV0dXJuIGhzbDtcblx0fSxcblxuXHRzYXR1cmF0ZShyYXRpbykge1xuXHRcdGNvbnN0IGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzFdICs9IGhzbC5jb2xvclsxXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0ZGVzYXR1cmF0ZShyYXRpbykge1xuXHRcdGNvbnN0IGhzbCA9IHRoaXMuaHNsKCk7XG5cdFx0aHNsLmNvbG9yWzFdIC09IGhzbC5jb2xvclsxXSAqIHJhdGlvO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0d2hpdGVuKHJhdGlvKSB7XG5cdFx0Y29uc3QgaHdiID0gdGhpcy5od2IoKTtcblx0XHRod2IuY29sb3JbMV0gKz0gaHdiLmNvbG9yWzFdICogcmF0aW87XG5cdFx0cmV0dXJuIGh3Yjtcblx0fSxcblxuXHRibGFja2VuKHJhdGlvKSB7XG5cdFx0Y29uc3QgaHdiID0gdGhpcy5od2IoKTtcblx0XHRod2IuY29sb3JbMl0gKz0gaHdiLmNvbG9yWzJdICogcmF0aW87XG5cdFx0cmV0dXJuIGh3Yjtcblx0fSxcblxuXHRncmF5c2NhbGUoKSB7XG5cdFx0Ly8gaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9HcmF5c2NhbGUjQ29udmVydGluZ19jb2xvcl90b19ncmF5c2NhbGVcblx0XHRjb25zdCByZ2IgPSB0aGlzLnJnYigpLmNvbG9yO1xuXHRcdGNvbnN0IHZhbHVlID0gcmdiWzBdICogMC4zICsgcmdiWzFdICogMC41OSArIHJnYlsyXSAqIDAuMTE7XG5cdFx0cmV0dXJuIENvbG9yLnJnYih2YWx1ZSwgdmFsdWUsIHZhbHVlKTtcblx0fSxcblxuXHRmYWRlKHJhdGlvKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWxwaGEodGhpcy52YWxwaGEgLSAodGhpcy52YWxwaGEgKiByYXRpbykpO1xuXHR9LFxuXG5cdG9wYXF1ZXIocmF0aW8pIHtcblx0XHRyZXR1cm4gdGhpcy5hbHBoYSh0aGlzLnZhbHBoYSArICh0aGlzLnZhbHBoYSAqIHJhdGlvKSk7XG5cdH0sXG5cblx0cm90YXRlKGRlZ3JlZXMpIHtcblx0XHRjb25zdCBoc2wgPSB0aGlzLmhzbCgpO1xuXHRcdGxldCBodWUgPSBoc2wuY29sb3JbMF07XG5cdFx0aHVlID0gKGh1ZSArIGRlZ3JlZXMpICUgMzYwO1xuXHRcdGh1ZSA9IGh1ZSA8IDAgPyAzNjAgKyBodWUgOiBodWU7XG5cdFx0aHNsLmNvbG9yWzBdID0gaHVlO1xuXHRcdHJldHVybiBoc2w7XG5cdH0sXG5cblx0bWl4KG1peGluQ29sb3IsIHdlaWdodCkge1xuXHRcdC8vIFBvcnRlZCBmcm9tIHNhc3MgaW1wbGVtZW50YXRpb24gaW4gQ1xuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9zYXNzL2xpYnNhc3MvYmxvYi8wZTZiNGEyODUwMDkyMzU2YWEzZWNlMDdjNmIyNDlmMDIyMWNhY2VkL2Z1bmN0aW9ucy5jcHAjTDIwOVxuXHRcdGlmICghbWl4aW5Db2xvciB8fCAhbWl4aW5Db2xvci5yZ2IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQXJndW1lbnQgdG8gXCJtaXhcIiB3YXMgbm90IGEgQ29sb3IgaW5zdGFuY2UsIGJ1dCByYXRoZXIgYW4gaW5zdGFuY2Ugb2YgJyArIHR5cGVvZiBtaXhpbkNvbG9yKTtcblx0XHR9XG5cblx0XHRjb25zdCBjb2xvcjEgPSBtaXhpbkNvbG9yLnJnYigpO1xuXHRcdGNvbnN0IGNvbG9yMiA9IHRoaXMucmdiKCk7XG5cdFx0Y29uc3QgcCA9IHdlaWdodCA9PT0gdW5kZWZpbmVkID8gMC41IDogd2VpZ2h0O1xuXG5cdFx0Y29uc3QgdyA9IDIgKiBwIC0gMTtcblx0XHRjb25zdCBhID0gY29sb3IxLmFscGhhKCkgLSBjb2xvcjIuYWxwaGEoKTtcblxuXHRcdGNvbnN0IHcxID0gKCgodyAqIGEgPT09IC0xKSA/IHcgOiAodyArIGEpIC8gKDEgKyB3ICogYSkpICsgMSkgLyAyO1xuXHRcdGNvbnN0IHcyID0gMSAtIHcxO1xuXG5cdFx0cmV0dXJuIENvbG9yLnJnYihcblx0XHRcdHcxICogY29sb3IxLnJlZCgpICsgdzIgKiBjb2xvcjIucmVkKCksXG5cdFx0XHR3MSAqIGNvbG9yMS5ncmVlbigpICsgdzIgKiBjb2xvcjIuZ3JlZW4oKSxcblx0XHRcdHcxICogY29sb3IxLmJsdWUoKSArIHcyICogY29sb3IyLmJsdWUoKSxcblx0XHRcdGNvbG9yMS5hbHBoYSgpICogcCArIGNvbG9yMi5hbHBoYSgpICogKDEgLSBwKSk7XG5cdH0sXG59O1xuXG4vLyBNb2RlbCBjb252ZXJzaW9uIG1ldGhvZHMgYW5kIHN0YXRpYyBjb25zdHJ1Y3RvcnNcbmZvciAoY29uc3QgbW9kZWwgb2YgT2JqZWN0LmtleXMoY29udmVydCkpIHtcblx0aWYgKHNraXBwZWRNb2RlbHMuaW5jbHVkZXMobW9kZWwpKSB7XG5cdFx0Y29udGludWU7XG5cdH1cblxuXHRjb25zdCB7Y2hhbm5lbHN9ID0gY29udmVydFttb2RlbF07XG5cblx0Ly8gQ29udmVyc2lvbiBtZXRob2RzXG5cdENvbG9yLnByb3RvdHlwZVttb2RlbF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGlmICh0aGlzLm1vZGVsID09PSBtb2RlbCkge1xuXHRcdFx0cmV0dXJuIG5ldyBDb2xvcih0aGlzKTtcblx0XHR9XG5cblx0XHRpZiAoYXJncy5sZW5ndGggPiAwKSB7XG5cdFx0XHRyZXR1cm4gbmV3IENvbG9yKGFyZ3MsIG1vZGVsKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IENvbG9yKFsuLi5hc3NlcnRBcnJheShjb252ZXJ0W3RoaXMubW9kZWxdW21vZGVsXS5yYXcodGhpcy5jb2xvcikpLCB0aGlzLnZhbHBoYV0sIG1vZGVsKTtcblx0fTtcblxuXHQvLyAnc3RhdGljJyBjb25zdHJ1Y3Rpb24gbWV0aG9kc1xuXHRDb2xvclttb2RlbF0gPSBmdW5jdGlvbiAoLi4uYXJncykge1xuXHRcdGxldCBjb2xvciA9IGFyZ3NbMF07XG5cdFx0aWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcblx0XHRcdGNvbG9yID0gemVyb0FycmF5KGFyZ3MsIGNoYW5uZWxzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IENvbG9yKGNvbG9yLCBtb2RlbCk7XG5cdH07XG59XG5cbmZ1bmN0aW9uIHJvdW5kVG8obnVtYmVyLCBwbGFjZXMpIHtcblx0cmV0dXJuIE51bWJlcihudW1iZXIudG9GaXhlZChwbGFjZXMpKTtcbn1cblxuZnVuY3Rpb24gcm91bmRUb1BsYWNlKHBsYWNlcykge1xuXHRyZXR1cm4gZnVuY3Rpb24gKG51bWJlcikge1xuXHRcdHJldHVybiByb3VuZFRvKG51bWJlciwgcGxhY2VzKTtcblx0fTtcbn1cblxuZnVuY3Rpb24gZ2V0c2V0KG1vZGVsLCBjaGFubmVsLCBtb2RpZmllcikge1xuXHRtb2RlbCA9IEFycmF5LmlzQXJyYXkobW9kZWwpID8gbW9kZWwgOiBbbW9kZWxdO1xuXG5cdGZvciAoY29uc3QgbSBvZiBtb2RlbCkge1xuXHRcdChsaW1pdGVyc1ttXSB8fCAobGltaXRlcnNbbV0gPSBbXSkpW2NoYW5uZWxdID0gbW9kaWZpZXI7XG5cdH1cblxuXHRtb2RlbCA9IG1vZGVsWzBdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAodmFsdWUpIHtcblx0XHRsZXQgcmVzdWx0O1xuXG5cdFx0aWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0XHR2YWx1ZSA9IG1vZGlmaWVyKHZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0cmVzdWx0ID0gdGhpc1ttb2RlbF0oKTtcblx0XHRcdHJlc3VsdC5jb2xvcltjaGFubmVsXSA9IHZhbHVlO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRyZXN1bHQgPSB0aGlzW21vZGVsXSgpLmNvbG9yW2NoYW5uZWxdO1xuXHRcdGlmIChtb2RpZmllcikge1xuXHRcdFx0cmVzdWx0ID0gbW9kaWZpZXIocmVzdWx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9O1xufVxuXG5mdW5jdGlvbiBtYXhmbihtYXgpIHtcblx0cmV0dXJuIGZ1bmN0aW9uICh2KSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKG1heCwgdikpO1xuXHR9O1xufVxuXG5mdW5jdGlvbiBhc3NlcnRBcnJheSh2YWx1ZSkge1xuXHRyZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG59XG5cbmZ1bmN0aW9uIHplcm9BcnJheShhcnJheSwgbGVuZ3RoKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRpZiAodHlwZW9mIGFycmF5W2ldICE9PSAnbnVtYmVyJykge1xuXHRcdFx0YXJyYXlbaV0gPSAwO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBhcnJheTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb2xvcjtcbiIsImltcG9ydCBDb2xvciBmcm9tIFwiY29sb3JcIjtcbmltcG9ydCB7XG5cdEN1c3RvbVNlbGVjdG9yc0ZvclBhdHRlcm4sXG5cdFN0b3JhZ2VTY2hlbWEsXG59IGZyb20gXCIuLi90eXBpbmdzL1N0b3JhZ2VTY2hlbWFcIjtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTZXR0aW5ncyA9IHtcblx0aGludFVwcGVyY2FzZUxldHRlcnM6IGZhbHNlLFxuXHRoaW50Rm9udEZhbWlseTpcblx0XHRcInNvdXJjZS1jb2RlLXBybywgTWVubG8sIE1vbmFjbywgQ29uc29sYXMsICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZVwiLFxuXHRoaW50Rm9udFNpemU6IDEwLFxuXHRoaW50V2VpZ2h0OiBcImF1dG9cIixcblx0aGludEJhY2tncm91bmRDb2xvcjogXCJcIixcblx0aGludEJhY2tncm91bmRPcGFjaXR5OiAxLFxuXHRoaW50Rm9udENvbG9yOiBcIlwiLFxuXHRoaW50Qm9yZGVyV2lkdGg6IDEsXG5cdGhpbnRCb3JkZXJSYWRpdXM6IDMsXG5cdGhpbnRNaW5pbXVtQ29udHJhc3RSYXRpbzogNCxcblx0c2Nyb2xsQmVoYXZpb3I6IFwiYXV0b1wiLFxuXHRoaW50c1RvZ2dsZUdsb2JhbDogdHJ1ZSxcblx0aGludHNUb2dnbGVIb3N0czogbmV3IE1hcDxzdHJpbmcsIGJvb2xlYW4+KCksXG5cdGhpbnRzVG9nZ2xlUGF0aHM6IG5ldyBNYXA8c3RyaW5nLCBib29sZWFuPigpLFxuXHRoaW50c1RvZ2dsZVRhYnM6IG5ldyBNYXA8bnVtYmVyLCBib29sZWFuPigpLFxuXHRlbmFibGVOb3RpZmljYXRpb25zOiB0cnVlLFxuXHR0b2FzdFBvc2l0aW9uOiBcInRvcC1jZW50ZXJcIixcblx0dG9hc3RUcmFuc2l0aW9uOiBcImJvdW5jZVwiLFxuXHR0b2FzdER1cmF0aW9uOiA1MDAwLFxuXHRpbmNsdWRlU2luZ2xlTGV0dGVySGludHM6IHRydWUsXG5cdHVybEluVGl0bGU6IHRydWUsXG5cdGluY2x1ZGVUYWJNYXJrZXJzOiB0cnVlLFxuXHR1cHBlcmNhc2VUYWJNYXJrZXJzOiB0cnVlLFxuXHRrZXlib2FyZENsaWNraW5nOiBmYWxzZSxcblx0Y3VzdG9tU2VsZWN0b3JzOiBuZXcgTWFwPHN0cmluZywgQ3VzdG9tU2VsZWN0b3JzRm9yUGF0dGVybj4oKSxcblx0c2hvd1doYXRzTmV3UGFnZU9uVXBkYXRlOiB0cnVlLFxuXHRuZXdUYWJQb3NpdGlvbjogXCJyZWxhdGVkQWZ0ZXJDdXJyZW50XCIsXG5cdGhhc1NlZW5TZXR0aW5nc1BhZ2U6IGZhbHNlLFxuXHRkaXJlY3RDbGlja1dpdGhOb0ZvY3VzZWREb2N1bWVudDogZmFsc2UsXG5cdGRpcmVjdENsaWNrV2hlbkVkaXRpbmc6IHRydWUsXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgdHlwZSBTZXR0aW5ncyA9IHtcblx0LXJlYWRvbmx5IFtUIGluIGtleW9mIHR5cGVvZiBkZWZhdWx0U2V0dGluZ3NdOiBTdG9yYWdlU2NoZW1hW1RdO1xufTtcblxuZXhwb3J0IGNvbnN0IGRlZmF1bHRTZXR0aW5nc011dGFibGU6IFNldHRpbmdzID0geyAuLi5kZWZhdWx0U2V0dGluZ3MgfTtcblxuZnVuY3Rpb24gaXNWYWxpZENvbG9yKGNvbG9yU3RyaW5nOiBzdHJpbmcpIHtcblx0Ly8gQW4gZW1wdHkgc3RyaW5nIG1lYW5zIHRoZSBjb2xvciBpcyBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWRcblx0aWYgKCFjb2xvclN0cmluZykgcmV0dXJuIHRydWU7XG5cblx0dHJ5IHtcblx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XG5cdFx0bmV3IENvbG9yKGNvbG9yU3RyaW5nKTtcblx0fSBjYXRjaCB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGlzV2l0aGluUmFuZ2UodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKSB7XG5cdHJldHVybiB2YWx1ZSA+PSBtaW4gJiYgdmFsdWUgPD0gbWF4O1xufVxuXG50eXBlIFNldHRpbmdzVmFsaWRhdG9ycyA9IHtcblx0W1QgaW4ga2V5b2YgU3RvcmFnZVNjaGVtYV0/OiAodmFsdWU6IFN0b3JhZ2VTY2hlbWFbVF0pID0+IGJvb2xlYW47XG59O1xuXG5jb25zdCB2YWxpZGF0b3JzOiBTZXR0aW5nc1ZhbGlkYXRvcnMgPSB7XG5cdGhpbnRCYWNrZ3JvdW5kQ29sb3I6IGlzVmFsaWRDb2xvcixcblx0aGludEZvbnRDb2xvcjogaXNWYWxpZENvbG9yLFxuXHRoaW50Rm9udFNpemU6ICh2YWx1ZTogbnVtYmVyKSA9PiBpc1dpdGhpblJhbmdlKHZhbHVlLCA2LCA3MiksXG5cdGhpbnRCb3JkZXJSYWRpdXM6ICh2YWx1ZTogbnVtYmVyKSA9PiBpc1dpdGhpblJhbmdlKHZhbHVlLCAwLCA3MiksXG5cdGhpbnRCb3JkZXJXaWR0aDogKHZhbHVlOiBudW1iZXIpID0+IGlzV2l0aGluUmFuZ2UodmFsdWUsIDAsIDcyKSxcblx0aGludEJhY2tncm91bmRPcGFjaXR5OiAodmFsdWU6IG51bWJlciB8IFwiXCIpID0+XG5cdFx0dmFsdWUgIT09IFwiXCIgJiYgaXNXaXRoaW5SYW5nZSh2YWx1ZSwgMCwgMSksXG5cdGhpbnRNaW5pbXVtQ29udHJhc3RSYXRpbzogKHZhbHVlOiBudW1iZXIpID0+IGlzV2l0aGluUmFuZ2UodmFsdWUsIDIuNSwgMjEpLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGlzU2V0dGluZzxUIGV4dGVuZHMga2V5b2YgU3RvcmFnZVNjaGVtYT4oa2V5OiBUKSB7XG5cdHJldHVybiBrZXkgaW4gZGVmYXVsdFNldHRpbmdzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZFNldHRpbmc8VCBleHRlbmRzIGtleW9mIFN0b3JhZ2VTY2hlbWE+KFxuXHRrZXk6IFQsXG5cdHZhbHVlOiBTdG9yYWdlU2NoZW1hW1RdXG4pIHtcblx0aWYgKCFpc1NldHRpbmcoa2V5KSkgcmV0dXJuIGZhbHNlO1xuXG5cdGNvbnN0IHZhbGlkYXRvciA9IHZhbGlkYXRvcnNba2V5XTtcblx0aWYgKHR5cGVvZiB2YWxpZGF0b3IgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB0cnVlO1xuXG5cdHJldHVybiB2YWxpZGF0b3IodmFsdWUpO1xufVxuIiwiLyogZXNsaW50LWRpc2FibGUgbm8tYXdhaXQtaW4tbG9vcCAqL1xuaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHtcblx0Q3VzdG9tU2VsZWN0b3JzRm9yUGF0dGVybixcblx0U3RvcmFnZVNjaGVtYSxcbn0gZnJvbSBcIi4uL3R5cGluZ3MvU3RvcmFnZVNjaGVtYVwiO1xuaW1wb3J0IHtcblx0ZGVmYXVsdFNldHRpbmdzLFxuXHRpc1NldHRpbmcsXG5cdGlzVmFsaWRTZXR0aW5nLFxuXHRTZXR0aW5ncyxcbn0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcblxuY29uc3QgdXNlTG9jYWxTdG9yYWdlID0gbmV3IFNldDxrZXlvZiBTdG9yYWdlU2NoZW1hPihbXG5cdFwiaGludHNUb2dnbGVUYWJzXCIsXG5cdFwidGFic0J5UmVjZW5jeVwiLFxuXHRcImhpbnRzU3RhY2tzXCIsXG5cdFwidGFiTWFya2Vyc1wiLFxuXSk7XG5cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NjE1MDMyMFxuZnVuY3Rpb24gcmVwbGFjZXIoX2tleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG5cdGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRkYXRhVHlwZTogXCJNYXBcIixcblx0XHRcdHZhbHVlOiBBcnJheS5mcm9tKHZhbHVlLmVudHJpZXMoKSksXG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZSBhcyB1bmtub3duO1xufVxuXG5mdW5jdGlvbiByZXZpdmVyKF9rZXk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuXHRpZiAoXG5cdFx0dHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmXG5cdFx0dmFsdWUgIT09IG51bGwgJiZcblx0XHR2YWx1ZS5kYXRhVHlwZSA9PT0gXCJNYXBcIiAmJlxuXHRcdHZhbHVlLnZhbHVlXG5cdCkge1xuXHRcdHJldHVybiBuZXcgTWFwKHZhbHVlLnZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZSBhcyB1bmtub3duO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcmU8VCBleHRlbmRzIGtleW9mIFN0b3JhZ2VTY2hlbWE+KFxuXHRrZXk6IFQsXG5cdHZhbHVlOiBTdG9yYWdlU2NoZW1hW1RdLFxuXHRzeW5jPzogYm9vbGVhblxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGlmIChpc1NldHRpbmcoa2V5KSAmJiAhaXNWYWxpZFNldHRpbmcoa2V5LCB2YWx1ZSkpIHJldHVybjtcblxuXHRjb25zdCBzdHJpbmdpZmllZCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlLCByZXBsYWNlcik7XG5cblx0YXdhaXQgKHN5bmMgPT09IGZhbHNlIHx8IChzeW5jID09PSB1bmRlZmluZWQgJiYgdXNlTG9jYWxTdG9yYWdlLmhhcyhrZXkpKVxuXHRcdD8gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldCh7IFtrZXldOiBzdHJpbmdpZmllZCB9KVxuXHRcdDogYnJvd3Nlci5zdG9yYWdlLnN5bmMuc2V0KHsgW2tleV06IHN0cmluZ2lmaWVkIH0pKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JhZ2VIYXM8VCBleHRlbmRzIGtleW9mIFN0b3JhZ2VTY2hlbWE+KFxuXHRrZXk6IFQsXG5cdHN5bmM/OiBib29sZWFuXG4pIHtcblx0Y29uc3QgcmV0cmlldmVkID1cblx0XHRzeW5jID09PSBmYWxzZSB8fCAoc3luYyA9PT0gdW5kZWZpbmVkICYmIHVzZUxvY2FsU3RvcmFnZS5oYXMoa2V5KSlcblx0XHRcdD8gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldChrZXkpXG5cdFx0XHQ6IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5zeW5jLmdldChrZXkpO1xuXG5cdGNvbnN0IHZhbHVlID0gcmV0cmlldmVkW2tleV0gYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5cdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcmVJZlVuZGVmaW5lZDxUIGV4dGVuZHMga2V5b2YgU3RvcmFnZVNjaGVtYT4oXG5cdGtleTogVCxcblx0dmFsdWU6IFN0b3JhZ2VTY2hlbWFbVF0sXG5cdHN5bmM/OiBib29sZWFuXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0Y29uc3Qgc3RvcmVkID0gYXdhaXQgc3RvcmFnZUhhcyhrZXksIHN5bmMpO1xuXG5cdGlmICghc3RvcmVkKSB7XG5cdFx0YXdhaXQgc3RvcmUoa2V5LCB2YWx1ZSwgc3luYyk7XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJpZXZlPFQgZXh0ZW5kcyBrZXlvZiBTdG9yYWdlU2NoZW1hPihcblx0a2V5OiBULFxuXHRzeW5jPzogYm9vbGVhblxuKTogUHJvbWlzZTxTdG9yYWdlU2NoZW1hW1RdPiB7XG5cdGNvbnN0IHJldHJpZXZlZCA9XG5cdFx0c3luYyA9PT0gZmFsc2UgfHwgKHN5bmMgPT09IHVuZGVmaW5lZCAmJiB1c2VMb2NhbFN0b3JhZ2UuaGFzKGtleSkpXG5cdFx0XHQ/IGF3YWl0IGJyb3dzZXIuc3RvcmFnZS5sb2NhbC5nZXQoa2V5KVxuXHRcdFx0OiBhd2FpdCBicm93c2VyLnN0b3JhZ2Uuc3luYy5nZXQoa2V5KTtcblxuXHRjb25zdCBbanNvblN0cmluZ10gPSBPYmplY3QudmFsdWVzKHJldHJpZXZlZCkgYXMgW3N0cmluZ107XG5cblx0dHJ5IHtcblx0XHRjb25zdCBwYXJzZWRWYWx1ZSA9IEpTT04ucGFyc2UoanNvblN0cmluZywgcmV2aXZlcikgYXMgU3RvcmFnZVNjaGVtYVtUXTtcblxuXHRcdC8vIEhhbmRsZSBjdXN0b21TZWxlY3RvcnMgdHlwZSBjb252ZXJzaW9uIGZyb20gYW4gb2JqZWN0IHRvIGEgTWFwLiBUaGlzIGlzXG5cdFx0Ly8gb25seSBuZWNlc3NhcnkgdGVtcG9yYXJpbHkgaW4gb3JkZXIgbm90IHRvIGxvc2UgdXNlcidzIGN1c3RvbWl6YXRpb25zLlxuXHRcdC8vIEludHJvZHVjZWQgaW4gdjAuNS4wLlxuXHRcdGlmIChrZXkgPT09IFwiY3VzdG9tU2VsZWN0b3JzXCIgJiYgIShwYXJzZWRWYWx1ZSBpbnN0YW5jZW9mIE1hcCkpIHtcblx0XHRcdGNvbnN0IGN1c3RvbVNlbGVjdG9yc01hcCA9IG5ldyBNYXA8c3RyaW5nLCBDdXN0b21TZWxlY3RvcnNGb3JQYXR0ZXJuPihcblx0XHRcdFx0T2JqZWN0LmVudHJpZXMocGFyc2VkVmFsdWUpXG5cdFx0XHQpO1xuXG5cdFx0XHRhd2FpdCBzdG9yZTxcImN1c3RvbVNlbGVjdG9yc1wiPihrZXksIGN1c3RvbVNlbGVjdG9yc01hcCwgc3luYyk7XG5cblx0XHRcdHJldHVybiBjdXN0b21TZWxlY3RvcnNNYXAgYXMgU3RvcmFnZVNjaGVtYVtUXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcGFyc2VkVmFsdWU7XG5cdH0gY2F0Y2gge1xuXHRcdHJldHVybiBqc29uU3RyaW5nIGFzIFN0b3JhZ2VTY2hlbWFbVF07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJpZXZlU2V0dGluZ3MoKSB7XG5cdGNvbnN0IHNldHRpbmdzOiBhbnkgPSB7fTtcblx0bGV0IGtleToga2V5b2YgU2V0dGluZ3M7XG5cblx0Zm9yIChrZXkgaW4gZGVmYXVsdFNldHRpbmdzKSB7XG5cdFx0aWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkZWZhdWx0U2V0dGluZ3MsIGtleSkpIHtcblx0XHRcdHNldHRpbmdzW2tleV0gPSBhd2FpdCByZXRyaWV2ZShrZXkpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzZXR0aW5ncyBhcyBTZXR0aW5ncztcbn1cbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcImVEdVpSXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcImliMDFTXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcImFxSW1ZXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcIjNhbjlYXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcIjJUNmx5XCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcImJ6d29qXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9oZWxwZXJzL2J1bmRsZS11cmwnKS5nZXRCdW5kbGVVUkwoJzJ4WHhDJykgKyByZXF1aXJlKCcuL2hlbHBlcnMvYnVuZGxlLW1hbmlmZXN0JykucmVzb2x2ZShcImJZR1NpXCIpOyIsImV4cG9ydCBjb25zdCB1cmxzID0ge1xuXHRpY29uNDg6IG5ldyBVUkwoXCIuLi9hc3NldHMvaWNvbjQ4LnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpLFxuXHRpY29uMTI4OiBuZXcgVVJMKFwiLi4vYXNzZXRzL2ljb24xMjgucG5nXCIsIGltcG9ydC5tZXRhLnVybCksXG5cdGljb25Tdmc6IG5ldyBVUkwoXCIuLi9hc3NldHMvaWNvbi5zdmdcIiwgaW1wb3J0Lm1ldGEudXJsKSxcblx0aWNvbktleWJvYXJkNDg6IG5ldyBVUkwoXG5cdFx0XCIuLi9hc3NldHMvaWNvbi1rZXlib2FyZC1jbGlja2luZzQ4LnBuZ1wiLFxuXHRcdGltcG9ydC5tZXRhLnVybFxuXHQpLFxuXHRvZmZzY3JlZW5Eb2N1bWVudDogbmV3IFVSTChcblx0XHRcIi4uL2JhY2tncm91bmQvdXRpbHMvb2Zmc2NyZWVuLmh0bWxcIixcblx0XHRpbXBvcnQubWV0YS51cmxcblx0KSxcblx0d2hhdHNOZXdQYWdlOiBuZXcgVVJMKFwiLi4vcGFnZXMvd2hhdHNOZXcvaW5kZXguaHRtbFwiLCBpbXBvcnQubWV0YS51cmwpLFxuXHRvbmJvYXJkaW5nOiBuZXcgVVJMKFwiLi4vcGFnZXMvb25ib2FyZGluZy9pbmRleC5odG1sXCIsIGltcG9ydC5tZXRhLnVybCksXG59IGFzIGNvbnN0O1xuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgc2VuZFJlcXVlc3RUb0NvbnRlbnQgfSBmcm9tIFwiLi4vbWVzc2FnaW5nL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5pbXBvcnQgeyBpbml0U3RhY2sgfSBmcm9tIFwiLi9oaW50c0FsbG9jYXRvclwiO1xuaW1wb3J0IHsgcHJlbG9hZFRhYkNvbW1pdHRlZCwgcHJlbG9hZFRhYkNvbXBsZXRlZCB9IGZyb20gXCIuL3ByZWxvYWRUYWJzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHByZWxvYWRUYWJPbkNvbXBsZXRlZEhhbmRsZXIoKSB7XG5cdGF3YWl0IHByZWxvYWRUYWJDb21wbGV0ZWQoKTtcblxuXHRicm93c2VyLndlYk5hdmlnYXRpb24ub25Db21wbGV0ZWQucmVtb3ZlTGlzdGVuZXIoXG5cdFx0cHJlbG9hZFRhYk9uQ29tcGxldGVkSGFuZGxlclxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd2F0Y2hOYXZpZ2F0aW9uKCkge1xuXHRicm93c2VyLndlYk5hdmlnYXRpb24ub25Db21taXR0ZWQuYWRkTGlzdGVuZXIoXG5cdFx0YXN5bmMgKHsgdGFiSWQsIGZyYW1lSWQsIHVybCB9KSA9PiB7XG5cdFx0XHQvLyBGcmFtZSAwIGNvbWVzIGJlZm9yZSBhbnkgb2YgdGhlIHN1YmZyYW1lcy5cblx0XHRcdGlmIChmcmFtZUlkICE9PSAwKSByZXR1cm47XG5cblx0XHRcdC8vIFdlIGNvdWxkIHNpbXBseSBjaGVjayBpZiB0aGUgdGFiSWQgaXMgMCBzaW5jZSBJIGRvbid0IHRoaW5rIEZpcmVmb3ggb3Jcblx0XHRcdC8vIENocm9tZSB1c2UgdGhhdCBpZCwgYnV0IEkgdGhpbmsgdGhpcyBpcyBzYWZlci5cblx0XHRcdGNvbnN0IGlzUHJlbG9hZFRhYiA9ICEoYXdhaXQgYnJvd3Nlci50YWJzLmdldCh0YWJJZCkpO1xuXG5cdFx0XHRpZiAoaXNQcmVsb2FkVGFiKSB7XG5cdFx0XHRcdGF3YWl0IHByZWxvYWRUYWJDb21taXR0ZWQodXJsKTtcblx0XHRcdFx0Y29uc3QgaGFzT25Db21wbGV0ZWRMaXN0ZW5lciA9XG5cdFx0XHRcdFx0YnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tcGxldGVkLmhhc0xpc3RlbmVyKFxuXHRcdFx0XHRcdFx0cHJlbG9hZFRhYk9uQ29tcGxldGVkSGFuZGxlclxuXHRcdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKCFoYXNPbkNvbXBsZXRlZExpc3RlbmVyKSB7XG5cdFx0XHRcdFx0YnJvd3Nlci53ZWJOYXZpZ2F0aW9uLm9uQ29tcGxldGVkLmFkZExpc3RlbmVyKFxuXHRcdFx0XHRcdFx0cHJlbG9hZFRhYk9uQ29tcGxldGVkSGFuZGxlclxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkNvbXBsZXRlZC5yZW1vdmVMaXN0ZW5lcihcblx0XHRcdFx0XHRwcmVsb2FkVGFiT25Db21wbGV0ZWRIYW5kbGVyXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGF3YWl0IGluaXRTdGFjayh0YWJJZCk7XG5cdFx0XHR9XG5cdFx0fVxuXHQpO1xuXG5cdGJyb3dzZXIud2ViTmF2aWdhdGlvbi5vbkNvbXBsZXRlZC5hZGRMaXN0ZW5lcihhc3luYyAoeyB0YWJJZCwgZnJhbWVJZCB9KSA9PiB7XG5cdFx0Y29uc3QgaXNQcmVsb2FkVGFiID0gIShhd2FpdCBicm93c2VyLnRhYnMuZ2V0KHRhYklkKSk7XG5cdFx0aWYgKGlzUHJlbG9hZFRhYikgcmV0dXJuO1xuXG5cdFx0Ly8gV2UgYWxzbyBzZW5kIHRoZSBmcmFtZSBpZCBpbiB0aGUgcmVxdWVzdCBhcyBTYWZhcmkgaXMgYnVnZ3kgc2VuZGluZ1xuXHRcdC8vIG1lc3NhZ2VzIHRvIGEgc3BlY2lmaWMgZnJhbWUgYW5kIGFsc28gc2VuZHMgdGhlbSB0byBvdGhlciBmcmFtZXMuIFRoaXNcblx0XHQvLyB3YXkgd2UgY2FuIGNoZWNrIGluIHRoZSBjb250ZW50IHNjcmlwdC5cblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgc2VuZFJlcXVlc3RUb0NvbnRlbnQoXG5cdFx0XHRcdHsgdHlwZTogXCJvbkNvbXBsZXRlZFwiLCBmcmFtZUlkIH0sXG5cdFx0XHRcdHRhYklkLFxuXHRcdFx0XHRmcmFtZUlkXG5cdFx0XHQpO1xuXHRcdH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGVycm9yKTtcblx0XHR9XG5cdH0pO1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgUmVxdWVzdEZyb21CYWNrZ3JvdW5kIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmVxdWVzdEZyb21CYWNrZ3JvdW5kXCI7XG5pbXBvcnQgeyBUYWxvbkFjdGlvbiB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1JlcXVlc3RGcm9tVGFsb25cIjtcbmltcG9ydCB7IGlzUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdCB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1R5cGluZ1V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50VGFiSWQgfSBmcm9tIFwiLi4vdXRpbHMvZ2V0Q3VycmVudFRhYlwiO1xuaW1wb3J0IHsgc3BsaXRSZXF1ZXN0c0J5RnJhbWUgfSBmcm9tIFwiLi4vdXRpbHMvc3BsaXRSZXF1ZXN0c0J5RnJhbWVcIjtcblxubGV0IGxhc3RTY3JvbGxGcmFtZUlkID0gMDtcblxuY29uc3QgdG9BbGxGcmFtZXMgPSBuZXcgU2V0KFtcblx0XCJtYXJrSGludHNBc0tleWJvYXJkUmVhY2hhYmxlXCIsXG5cdFwicmVzdG9yZUtleWJvYXJkUmVhY2hhYmxlSGludHNcIixcblx0XCJkaXNwbGF5RXh0cmFIaW50c1wiLFxuXHRcImRpc3BsYXlFeGNsdWRlZEhpbnRzXCIsXG5cdFwiZGlzcGxheUxlc3NIaW50c1wiLFxuXHRcImNvbmZpcm1TZWxlY3RvcnNDdXN0b21pemF0aW9uXCIsXG5cdFwiaW5jbHVkZU9yRXhjbHVkZU1vcmVTZWxlY3RvcnNcIixcblx0XCJpbmNsdWRlT3JFeGNsdWRlTGVzc1NlbGVjdG9yc1wiLFxuXHRcInJlc2V0Q3VzdG9tU2VsZWN0b3JzXCIsXG5dKTtcblxuLy8gU2VuZHMgYSByZXF1ZXN0IHRvIHRoZSBjb250ZW50IHNjcmlwdC4gSWYgdGFiSWQgaXMgbm90IHNwZWNpZmllZCBpdCB3aWxsXG4vLyBzZW5kIGl0IHRvIHRoZSBjdXJyZW50IHRhYi4gSWYgZnJhbWVJZCBpcyBub3Qgc3BlY2lmaWVkIGl0IHdpbGwgc2VuZCBpdCB0b1xuLy8gdGhlIG1haW4gZnJhbWUgKGZyYW1lSWQgMCkuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZFJlcXVlc3RUb0NvbnRlbnQoXG5cdHJlcXVlc3Q6IFJlcXVlc3RGcm9tQmFja2dyb3VuZCxcblx0dGFiSWQ/OiBudW1iZXIsXG5cdGZyYW1lSWQ/OiBudW1iZXJcbik6IFByb21pc2U8dW5rbm93bj4ge1xuXHRjb25zdCB0YXJnZXRUYWJJZCA9IHRhYklkID8/IChhd2FpdCBnZXRDdXJyZW50VGFiSWQoKSk7XG5cblx0aWYgKFwidGFyZ2V0XCIgaW4gcmVxdWVzdCkge1xuXHRcdC8vIFdlIG5lZWQgdG8gdGFrZSBpbnRvIGFjY291bnQgdGhhdCB0aGUgdGFyZ2V0cyBjb3VsZCBiZSBpbiBkaWZmZXJlbnQgZnJhbWVzXG5cdFx0Y29uc3QgcmVxdWVzdHNCeUZyYW1lID0gYXdhaXQgc3BsaXRSZXF1ZXN0c0J5RnJhbWUodGFyZ2V0VGFiSWQsIHJlcXVlc3QpO1xuXG5cdFx0aWYgKFxuXHRcdFx0cmVxdWVzdC50eXBlID09PSBcImRpcmVjdENsaWNrRWxlbWVudFwiICYmXG5cdFx0XHRyZXF1ZXN0LnRhcmdldC5sZW5ndGggPT09IDEgJiZcblx0XHRcdHJlcXVlc3RzQnlGcmFtZT8uc2l6ZSA9PT0gMFxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIFt7IG5hbWU6IFwidHlwZVRhcmdldENoYXJhY3RlcnNcIiB9XTtcblx0XHR9XG5cblx0XHRpZiAocmVxdWVzdHNCeUZyYW1lKSB7XG5cdFx0XHRjb25zdCBzZW5kaW5nID0gQXJyYXkuZnJvbShyZXF1ZXN0c0J5RnJhbWUpLm1hcChcblx0XHRcdFx0YXN5bmMgKFtmcmFtZUlkLCByYW5nb0FjdGlvbl0pID0+IHtcblx0XHRcdFx0XHRpZiAoL15zY3JvbGwuKkF0RWxlbWVudCQvLnRlc3QocmVxdWVzdC50eXBlKSkge1xuXHRcdFx0XHRcdFx0bGFzdFNjcm9sbEZyYW1lSWQgPSBmcmFtZUlkO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UodGFyZ2V0VGFiSWQsIHJhbmdvQWN0aW9uLCB7XG5cdFx0XHRcdFx0XHRmcmFtZUlkLFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXG5cdFx0XHRjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGxTZXR0bGVkKHNlbmRpbmcpO1xuXG5cdFx0XHQvLyBJZiBpdCBpcyBhIGNvcHkgY29tbWFuZCB3ZSBuZWVkIHRvIGpvaW4gdGhlIHJlc3VsdHMgb2YgZGlmZmVyZW50IGZyYW1lc1xuXHRcdFx0aWYgKHJlcXVlc3QudHlwZS5zdGFydHNXaXRoKFwiY29weVwiKSkge1xuXHRcdFx0XHRjb25zdCB0ZXh0cyA9IHJlc3VsdHNcblx0XHRcdFx0XHQuZmlsdGVyKGlzUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdClcblx0XHRcdFx0XHQuZmlsdGVyKChyZXN1bHQpID0+IHJlc3VsdC52YWx1ZSlcblx0XHRcdFx0XHQubWFwKChyZXN1bHQpID0+IHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHQudmFsdWUgYXMgc3RyaW5nO1xuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHJldHVybiB0ZXh0cy5qb2luKFwiXFxuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoXG5cdFx0XHRcdC8vIFdlIG9ubHkgc2VuZCB0aGUgdGFsb24gYWN0aW9uIGlmIHRoZXJlIHdhcyBvbmx5IG9uZSByZXN1bHQuIEZvclxuXHRcdFx0XHQvLyBleGFtcGxlLCBpZiB0aGUgYWN0aW9uIHdhcyBcImRpcmVjdENsaWNrRWxlbWVudFwiIHdpdGggbXVsdGlwbGUgdGFyZ2V0c1xuXHRcdFx0XHQvLyBhbmQgdGhvc2UgaGludHMgY2FuJ3QgYmUgZm91bmQgdGhlcmUgaXMgbm8gdXNlIGluIHNlbmRpbmcgYmFjayB0b1xuXHRcdFx0XHQvLyB0YWxvbiBcIm5vSGludEZvdW5kXCIgdG8gdHlwZSB0aG9zZSBsZXR0ZXJzXG5cdFx0XHRcdHJlc3VsdHMubGVuZ3RoID09PSAxICYmXG5cdFx0XHRcdGlzUHJvbWlzZUZ1bGZpbGxlZFJlc3VsdChyZXN1bHRzWzBdISkgJiZcblx0XHRcdFx0cmVzdWx0c1swXSEudmFsdWVcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gcmVzdWx0c1swXS52YWx1ZSBhcyBUYWxvbkFjdGlvbjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdH0gZWxzZSBpZiAoL15zY3JvbGwuKkF0RWxlbWVudCQvLnRlc3QocmVxdWVzdC50eXBlKSkge1xuXHRcdC8vIFRoaXMgaXMgZm9yIHRoZSBcInVwL2Rvd24vbGVmdC9yaWdodCBhZ2FpblwiIGNvbW1hbmRzXG5cdFx0cmV0dXJuIGJyb3dzZXIudGFicy5zZW5kTWVzc2FnZSh0YXJnZXRUYWJJZCwgcmVxdWVzdCwge1xuXHRcdFx0ZnJhbWVJZDogbGFzdFNjcm9sbEZyYW1lSWQsXG5cdFx0fSk7XG5cdH1cblxuXHRmcmFtZUlkID0gZnJhbWVJZCA/PyB0b0FsbEZyYW1lcy5oYXMocmVxdWVzdC50eXBlKSA/IHVuZGVmaW5lZCA6IDA7XG5cdHJlcXVlc3QuZnJhbWVJZCA9IGZyYW1lSWQ7XG5cblx0cmV0dXJuIGJyb3dzZXIudGFicy5zZW5kTWVzc2FnZSh0YXJnZXRUYWJJZCwgcmVxdWVzdCwge1xuXHRcdGZyYW1lSWQsXG5cdH0pO1xufVxuIiwiaW1wb3J0IHsgRm9jdXNPbkNsaWNrSW5wdXQgfSBmcm9tIFwiLi9Gb2N1c09uQ2xpY2tJbnB1dFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZDxUPihcblx0dmFsdWU6IFQgfCBudWxsIHwgdW5kZWZpbmVkXG4pOiBhc3NlcnRzIHZhbHVlIGlzIFQge1xuXHRpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihgRmF0YWwgZXJyb3I6IHZhbHVlIG11c3Qgbm90IGJlIG51bGwvdW5kZWZpbmVkLmApO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2VGdWxmaWxsZWRSZXN1bHQ8VD4oXG5cdHJlc3VsdDogUHJvbWlzZVNldHRsZWRSZXN1bHQ8VD5cbik6IHJlc3VsdCBpcyBQcm9taXNlRnVsZmlsbGVkUmVzdWx0PFQ+IHtcblx0cmV0dXJuIHJlc3VsdC5zdGF0dXMgPT09IFwiZnVsZmlsbGVkXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0ZvY3VzT25DbGlja0lucHV0KFxuXHRlbGVtZW50OiBFbGVtZW50XG4pOiBlbGVtZW50IGlzIEZvY3VzT25DbGlja0lucHV0IHtcblx0cmV0dXJuIChcblx0XHRlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCAmJlxuXHRcdCFbXG5cdFx0XHRcImJ1dHRvblwiLFxuXHRcdFx0XCJjaGVja2JveFwiLFxuXHRcdFx0XCJjb2xvclwiLFxuXHRcdFx0XCJmaWxlXCIsXG5cdFx0XHRcImhpZGRlblwiLFxuXHRcdFx0XCJpbWFnZVwiLFxuXHRcdFx0XCJyYWRpb1wiLFxuXHRcdFx0XCJyZXNldFwiLFxuXHRcdFx0XCJzdWJtaXRcIixcblx0XHRdLmluY2x1ZGVzKGVsZW1lbnQudHlwZSlcblx0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRmllbGRXaXRoVmFsdWUoXG5cdGVsZW1lbnQ6IEVsZW1lbnRcbik6IGVsZW1lbnQgaXMgRm9jdXNPbkNsaWNrSW5wdXQgfCBIVE1MVGV4dEFyZWFFbGVtZW50IHtcblx0cmV0dXJuIGlzRm9jdXNPbkNsaWNrSW5wdXQoZWxlbWVudCkgfHwgZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNEaXNhYmxlZChcblx0ZWxlbWVudDogRWxlbWVudFxuKTogZWxlbWVudCBpc1xuXHR8IEhUTUxJbnB1dEVsZW1lbnRcblx0fCBIVE1MVGV4dEFyZWFFbGVtZW50XG5cdHwgSFRNTE9wdGlvbkVsZW1lbnRcblx0fCBIVE1MQnV0dG9uRWxlbWVudFxuXHR8IEhUTUxTZWxlY3RFbGVtZW50IHtcblx0cmV0dXJuIChcblx0XHRlbGVtZW50IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fFxuXHRcdGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50IHx8XG5cdFx0ZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxPcHRpb25FbGVtZW50IHx8XG5cdFx0ZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxCdXR0b25FbGVtZW50IHx8XG5cdFx0ZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxTZWxlY3RFbGVtZW50XG5cdCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0h0bWxFbGVtZW50KGVsZW1lbnQ6IEVsZW1lbnQpOiBlbGVtZW50IGlzIEhUTUxFbGVtZW50IHtcblx0cmV0dXJuIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudDtcbn1cbiIsImltcG9ydCBicm93c2VyLCB7IFRhYnMgfSBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VGFiKCk6IFByb21pc2U8VGFicy5UYWI+IHtcblx0Y29uc3QgY3VycmVudFRhYkFycmF5ID0gYXdhaXQgYnJvd3Nlci50YWJzLnF1ZXJ5KHtcblx0XHRjdXJyZW50V2luZG93OiB0cnVlLFxuXHRcdGFjdGl2ZTogdHJ1ZSxcblx0fSk7XG5cblx0Y29uc3QgY3VycmVudFRhYiA9IGN1cnJlbnRUYWJBcnJheVswXTtcblxuXHRpZiAoIWN1cnJlbnRUYWIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgdGFiXCIpO1xuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnRUYWI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXJyZW50VGFiSWQoKTogUHJvbWlzZTxudW1iZXI+IHtcblx0Y29uc3QgY3VycmVudFRhYiA9IGF3YWl0IGdldEN1cnJlbnRUYWIoKTtcblxuXHRpZiAoIWN1cnJlbnRUYWIuaWQpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcmV0cmlldmUgdGhlIGN1cnJlbnQgdGFiIGlkXCIpO1xuXHR9XG5cblx0cmV0dXJuIGN1cnJlbnRUYWIuaWQ7XG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBNdXRleCB9IGZyb20gXCJhc3luYy1tdXRleFwiO1xuaW1wb3J0IHsgSGludHNTdGFjayB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1N0b3JhZ2VTY2hlbWFcIjtcbmltcG9ydCB7IHJldHJpZXZlLCBzdG9yZSB9IGZyb20gXCIuLi8uLi9jb21tb24vc3RvcmFnZVwiO1xuaW1wb3J0IHsgYWxsSGludHMgfSBmcm9tIFwiLi4vdXRpbHMvYWxsSGludHNcIjtcbmltcG9ydCB7IG5hdmlnYXRpb25PY2N1cnJlZCB9IGZyb20gXCIuL3ByZWxvYWRUYWJzXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldEVtcHR5U3RhY2soKTogUHJvbWlzZTxIaW50c1N0YWNrPiB7XG5cdGNvbnN0IGluY2x1ZGVTaW5nbGVMZXR0ZXJIaW50cyA9IGF3YWl0IHJldHJpZXZlKFwiaW5jbHVkZVNpbmdsZUxldHRlckhpbnRzXCIpO1xuXHQvLyBUbyBtYWtlIGFsbCBoaW50cyByZWFjaGFibGUgdmlhIGtleWJvYXJkIGNsaWNraW5nLCB3ZSBleGNsdWRlIHNpbmdsZS1sZXR0ZXJcblx0Ly8gaGludHMgd2hlbiBrZXlib2FyZCBjbGlja2luZyBpcyBhY3RpdmUuXG5cdGNvbnN0IGtleWJvYXJkQ2xpY2tpbmcgPSBhd2FpdCByZXRyaWV2ZShcImtleWJvYXJkQ2xpY2tpbmdcIik7XG5cdGNvbnN0IHBvc3NpYmxlSGludHMgPVxuXHRcdGluY2x1ZGVTaW5nbGVMZXR0ZXJIaW50cyAmJiAha2V5Ym9hcmRDbGlja2luZ1xuXHRcdFx0PyBbLi4uYWxsSGludHNdXG5cdFx0XHQ6IGFsbEhpbnRzLnNsaWNlKDAsIC0yNik7XG5cblx0cmV0dXJuIHtcblx0XHRmcmVlOiBwb3NzaWJsZUhpbnRzLFxuXHRcdGFzc2lnbmVkOiBuZXcgTWFwKCksXG5cdH07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlc2V0U3RhY2soc3RhY2s6IEhpbnRzU3RhY2spIHtcblx0Y29uc3QgZW1wdHlTdGFjayA9IGF3YWl0IGdldEVtcHR5U3RhY2soKTtcblx0c3RhY2suZnJlZSA9IGVtcHR5U3RhY2suZnJlZTtcblx0c3RhY2suYXNzaWduZWQgPSBlbXB0eVN0YWNrLmFzc2lnbmVkO1xufVxuXG4vLyBUaGVzZSB0d28gZnVuY3Rpb25zIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgdGhlIHdpdGhTdGFjayBmdW5jdGlvblxuYXN5bmMgZnVuY3Rpb24gX2dldFN0YWNrKHRhYklkOiBudW1iZXIpOiBQcm9taXNlPEhpbnRzU3RhY2sgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3Qgc3RhY2tzID0gYXdhaXQgcmV0cmlldmUoXCJoaW50c1N0YWNrc1wiKTtcblx0cmV0dXJuIHN0YWNrcy5oYXModGFiSWQpID8gc3RhY2tzLmdldCh0YWJJZCkgOiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9zYXZlU3RhY2sodGFiSWQ6IG51bWJlciwgc3RhY2s6IEhpbnRzU3RhY2spIHtcblx0Y29uc3Qgc3RhY2tzID0gYXdhaXQgcmV0cmlldmUoXCJoaW50c1N0YWNrc1wiKTtcblx0c3RhY2tzLnNldCh0YWJJZCwgc3RhY2spO1xuXHRhd2FpdCBzdG9yZShcImhpbnRzU3RhY2tzXCIsIHN0YWNrcyk7XG59XG5cbmNvbnN0IG11dGV4ID0gbmV3IE11dGV4KCk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoU3RhY2s8VD4oXG5cdHRhYklkOiBudW1iZXIsXG5cdGNhbGxiYWNrOiAoc3RhY2s6IEhpbnRzU3RhY2spID0+IFByb21pc2U8VD5cbik6IFByb21pc2U8VD4ge1xuXHRyZXR1cm4gbXV0ZXgucnVuRXhjbHVzaXZlKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdGFjayA9IChhd2FpdCBfZ2V0U3RhY2sodGFiSWQpKSA/PyAoYXdhaXQgZ2V0RW1wdHlTdGFjaygpKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBjYWxsYmFjayhzdGFjayk7XG5cdFx0YXdhaXQgX3NhdmVTdGFjayh0YWJJZCwgc3RhY2spO1xuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdFN0YWNrKHRhYklkOiBudW1iZXIpIHtcblx0YXdhaXQgd2l0aFN0YWNrKHRhYklkLCBhc3luYyAoc3RhY2spID0+IHtcblx0XHRhd2FpdCByZXNldFN0YWNrKHN0YWNrKTtcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGFpbUhpbnRzKFxuXHR0YWJJZDogbnVtYmVyLFxuXHRmcmFtZUlkOiBudW1iZXIsXG5cdGFtb3VudDogbnVtYmVyXG4pOiBQcm9taXNlPHN0cmluZ1tdPiB7XG5cdHJldHVybiB3aXRoU3RhY2sodGFiSWQsIGFzeW5jIChzdGFjaykgPT4ge1xuXHRcdGlmIChhd2FpdCBuYXZpZ2F0aW9uT2NjdXJyZWQodGFiSWQpKSB7XG5cdFx0XHRhd2FpdCByZXNldFN0YWNrKHN0YWNrKTtcblx0XHR9XG5cblx0XHRjb25zdCBoaW50c0NsYWltZWQgPSBzdGFjay5mcmVlLnNwbGljZSgtYW1vdW50LCBhbW91bnQpO1xuXG5cdFx0Zm9yIChjb25zdCBoaW50IG9mIGhpbnRzQ2xhaW1lZCkge1xuXHRcdFx0c3RhY2suYXNzaWduZWQuc2V0KGhpbnQsIGZyYW1lSWQpO1xuXHRcdH1cblxuXHRcdC8vIFRoaXMgaXMgbmVjZXNzYXJ5IGZvciBrZXlib2FyZCBjbGlja2luZ1xuXHRcdGNvbnN0IGhpbnRzSW5UYWIgPSBbLi4uc3RhY2suYXNzaWduZWQua2V5cygpXTtcblx0XHRhd2FpdCBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UodGFiSWQsIHtcblx0XHRcdHR5cGU6IFwidXBkYXRlSGludHNJblRhYlwiLFxuXHRcdFx0aGludHM6IGhpbnRzSW5UYWIsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaGludHNDbGFpbWVkO1xuXHR9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlY2xhaW1IaW50c0Zyb21PdGhlckZyYW1lcyhcblx0dGFiSWQ6IG51bWJlcixcblx0ZnJhbWVJZDogbnVtYmVyLFxuXHRhbW91bnQ6IG51bWJlclxuKSB7XG5cdHJldHVybiB3aXRoU3RhY2sodGFiSWQsIGFzeW5jIChzdGFjaykgPT4ge1xuXHRcdGNvbnN0IGZyYW1lcyA9IGF3YWl0IGJyb3dzZXIud2ViTmF2aWdhdGlvbi5nZXRBbGxGcmFtZXMoeyB0YWJJZCB9KTtcblx0XHRjb25zdCBvdGhlckZyYW1lc0lkcyA9IGZyYW1lc1xuXHRcdFx0Lm1hcCgoZnJhbWUpID0+IGZyYW1lLmZyYW1lSWQpXG5cdFx0XHQuZmlsdGVyKChpZCkgPT4gaWQgIT09IGZyYW1lSWQpO1xuXG5cdFx0Y29uc3QgcmVjbGFpbWVkOiBzdHJpbmdbXSA9IFtdO1xuXG5cdFx0Zm9yIChjb25zdCBpZCBvZiBvdGhlckZyYW1lc0lkcykge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3Bcblx0XHRcdGNvbnN0IHJlY2xhaW1lZEZyb21GcmFtZSA9IChhd2FpdCBicm93c2VyLnRhYnMuc2VuZE1lc3NhZ2UoXG5cdFx0XHRcdHRhYklkLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogXCJyZWNsYWltSGludHNcIixcblx0XHRcdFx0XHRhbW91bnQ6IGFtb3VudCAtIHJlY2xhaW1lZC5sZW5ndGgsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHsgZnJhbWVJZDogaWQgfVxuXHRcdFx0KSkgYXMgc3RyaW5nW107XG5cblx0XHRcdHJlY2xhaW1lZC5wdXNoKC4uLnJlY2xhaW1lZEZyb21GcmFtZSk7XG5cblx0XHRcdC8vIE9uY2Ugd2UgaGF2ZSBlbm91Z2ggaGludHMgd2UgZG9uJ3QgbmVlZCB0byBjb250aW51ZSBzZW5kaW5nIG1lc3NhZ2VzIHRvXG5cdFx0XHQvLyBvdGhlciBmcmFtZXNcblx0XHRcdGlmIChyZWNsYWltZWQubGVuZ3RoID09PSBhbW91bnQpIGJyZWFrO1xuXHRcdH1cblxuXHRcdGZvciAoY29uc3QgaGludCBvZiByZWNsYWltZWQpIHtcblx0XHRcdHN0YWNrLmFzc2lnbmVkLnNldChoaW50LCBmcmFtZUlkKTtcblx0XHR9XG5cblx0XHRjb25zdCBoaW50c0luVGFiID0gWy4uLnN0YWNrLmFzc2lnbmVkLmtleXMoKV07XG5cdFx0YXdhaXQgYnJvd3Nlci50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7XG5cdFx0XHR0eXBlOiBcInVwZGF0ZUhpbnRzSW5UYWJcIixcblx0XHRcdGhpbnRzOiBoaW50c0luVGFiLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlY2xhaW1lZDtcblx0fSk7XG59XG5cbi8vIFdlIHN0b3JlIGhpbnRzIGluIHVzZSB3aGVuIHRoZSBjb250ZW50IHNjcmlwdCBoYXMgYmVlbiByZWxvYWRlZCB3aGVuIHRoZSB1c2VyXG4vLyBuYXZpZ2F0ZWQgYmFjayBvciBmb3J3YXJkIGluIGhpc3RvcnlcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdG9yZUhpbnRzSW5GcmFtZShcblx0dGFiSWQ6IG51bWJlcixcblx0ZnJhbWVJZDogbnVtYmVyLFxuXHRoaW50czogc3RyaW5nW11cbikge1xuXHRhd2FpdCB3aXRoU3RhY2sodGFiSWQsIGFzeW5jIChzdGFjaykgPT4ge1xuXHRcdHN0YWNrLmZyZWUgPSBzdGFjay5mcmVlLmZpbHRlcigodmFsdWUpID0+ICFoaW50cy5pbmNsdWRlcyh2YWx1ZSkpO1xuXG5cdFx0Zm9yIChjb25zdCBoaW50IG9mIGhpbnRzKSB7XG5cdFx0XHRzdGFjay5hc3NpZ25lZC5zZXQoaGludCwgZnJhbWVJZCk7XG5cdFx0fVxuXHR9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlbGVhc2VIaW50cyh0YWJJZDogbnVtYmVyLCBoaW50czogc3RyaW5nW10pIHtcblx0YXdhaXQgd2l0aFN0YWNrKHRhYklkLCBhc3luYyAoc3RhY2spID0+IHtcblx0XHQvLyBXZSBtYWtlIHN1cmUgdGhlIGhpbnRzIHRvIHJlbGVhc2UgYXJlIGFjdHVhbGx5IGFzc2lnbmVkXG5cdFx0Y29uc3QgZmlsdGVyZWRIaW50cyA9IGhpbnRzLmZpbHRlcigoaGludCkgPT4gc3RhY2suYXNzaWduZWQuaGFzKGhpbnQpKTtcblx0XHRzdGFjay5mcmVlLnB1c2goLi4uZmlsdGVyZWRIaW50cyk7XG5cdFx0c3RhY2suZnJlZS5zb3J0KChhLCBiKSA9PiBiLmxlbmd0aCAtIGEubGVuZ3RoIHx8IGIubG9jYWxlQ29tcGFyZShhKSk7XG5cblx0XHRmb3IgKGNvbnN0IGhpbnQgb2YgZmlsdGVyZWRIaW50cykge1xuXHRcdFx0c3RhY2suYXNzaWduZWQuZGVsZXRlKGhpbnQpO1xuXHRcdH1cblx0fSk7XG59XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbnZhciBfX3NldE1vZHVsZURlZmF1bHQgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcclxuICAgIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIHNldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcclxuICAgIGlmIChyZWNlaXZlciA9PT0gbnVsbCB8fCAodHlwZW9mIHJlY2VpdmVyICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiByZWNlaXZlciAhPT0gXCJmdW5jdGlvblwiKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB1c2UgJ2luJyBvcGVyYXRvciBvbiBub24tb2JqZWN0XCIpO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcclxufVxyXG4iLCJleHBvcnQgdmFyIEVfVElNRU9VVCA9IG5ldyBFcnJvcigndGltZW91dCB3aGlsZSB3YWl0aW5nIGZvciBtdXRleCB0byBiZWNvbWUgYXZhaWxhYmxlJyk7XG5leHBvcnQgdmFyIEVfQUxSRUFEWV9MT0NLRUQgPSBuZXcgRXJyb3IoJ211dGV4IGFscmVhZHkgbG9ja2VkJyk7XG5leHBvcnQgdmFyIEVfQ0FOQ0VMRUQgPSBuZXcgRXJyb3IoJ3JlcXVlc3QgZm9yIGxvY2sgY2FuY2VsZWQnKTtcbiIsImltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEVfQ0FOQ0VMRUQgfSBmcm9tICcuL2Vycm9ycyc7XG52YXIgU2VtYXBob3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlbWFwaG9yZShfbWF4Q29uY3VycmVuY3ksIF9jYW5jZWxFcnJvcikge1xuICAgICAgICBpZiAoX2NhbmNlbEVycm9yID09PSB2b2lkIDApIHsgX2NhbmNlbEVycm9yID0gRV9DQU5DRUxFRDsgfVxuICAgICAgICB0aGlzLl9tYXhDb25jdXJyZW5jeSA9IF9tYXhDb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5fY2FuY2VsRXJyb3IgPSBfY2FuY2VsRXJyb3I7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgICAgIHRoaXMuX3dhaXRlcnMgPSBbXTtcbiAgICAgICAgaWYgKF9tYXhDb25jdXJyZW5jeSA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NlbWFwaG9yZSBtdXN0IGJlIGluaXRpYWxpemVkIHRvIGEgcG9zaXRpdmUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YWx1ZSA9IF9tYXhDb25jdXJyZW5jeTtcbiAgICB9XG4gICAgU2VtYXBob3JlLnByb3RvdHlwZS5hY3F1aXJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgbG9ja2VkID0gdGhpcy5pc0xvY2tlZCgpO1xuICAgICAgICB2YXIgdGlja2V0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcXVldWUucHVzaCh7IHJlc29sdmU6IHJlc29sdmUsIHJlamVjdDogcmVqZWN0IH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFsb2NrZWQpXG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCgpO1xuICAgICAgICByZXR1cm4gdGlja2V0UHJvbWlzZTtcbiAgICB9O1xuICAgIFNlbWFwaG9yZS5wcm90b3R5cGUucnVuRXhjbHVzaXZlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgdmFsdWUsIHJlbGVhc2U7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuYWNxdWlyZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBfYi5zZW50KCksIHZhbHVlID0gX2FbMF0sIHJlbGVhc2UgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsyLCAsIDQsIDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNhbGxiYWNrKHZhbHVlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGVhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlbWFwaG9yZS5wcm90b3R5cGUud2FpdEZvclVubG9jayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHdhaXRQcm9taXNlO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2NrZWQoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgUHJvbWlzZS5yZXNvbHZlKCldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3YWl0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJldHVybiBfdGhpcy5fd2FpdGVycy5wdXNoKHsgcmVzb2x2ZTogcmVzb2x2ZSB9KTsgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHdhaXRQcm9taXNlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlbWFwaG9yZS5wcm90b3R5cGUuaXNMb2NrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZSA8PSAwO1xuICAgIH07XG4gICAgLyoqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgaW4gMC4zLjAsIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjQuMC4gVXNlIHJ1bkV4Y2x1c2l2ZSBpbnN0ZWFkLiAqL1xuICAgIFNlbWFwaG9yZS5wcm90b3R5cGUucmVsZWFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21heENvbmN1cnJlbmN5ID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0aGlzIG1ldGhvZCBpcyB1bmF2YWlsYWJsZSBvbiBzZW1hcGhvcmVzIHdpdGggY29uY3VycmVuY3kgPiAxOyB1c2UgdGhlIHNjb3BlZCByZWxlYXNlIHJldHVybmVkIGJ5IGFjcXVpcmUgaW5zdGVhZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50UmVsZWFzZXIpIHtcbiAgICAgICAgICAgIHZhciByZWxlYXNlciA9IHRoaXMuX2N1cnJlbnRSZWxlYXNlcjtcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSZWxlYXNlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJlbGVhc2VyKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNlbWFwaG9yZS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLl9xdWV1ZS5mb3JFYWNoKGZ1bmN0aW9uICh0aWNrZXQpIHsgcmV0dXJuIHRpY2tldC5yZWplY3QoX3RoaXMuX2NhbmNlbEVycm9yKTsgfSk7XG4gICAgICAgIHRoaXMuX3F1ZXVlID0gW107XG4gICAgfTtcbiAgICBTZW1hcGhvcmUucHJvdG90eXBlLl9kaXNwYXRjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5leHRUaWNrZXQgPSB0aGlzLl9xdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoIW5leHRUaWNrZXQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciByZWxlYXNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVsZWFzZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocmVsZWFzZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgcmVsZWFzZWQgPSB0cnVlO1xuICAgICAgICAgICAgX3RoaXMuX3ZhbHVlKys7XG4gICAgICAgICAgICBfdGhpcy5fcmVzb2x2ZVdhaXRlcnMoKTtcbiAgICAgICAgICAgIF90aGlzLl9kaXNwYXRjaCgpO1xuICAgICAgICB9O1xuICAgICAgICBuZXh0VGlja2V0LnJlc29sdmUoW3RoaXMuX3ZhbHVlLS0sIHRoaXMuX2N1cnJlbnRSZWxlYXNlcl0pO1xuICAgIH07XG4gICAgU2VtYXBob3JlLnByb3RvdHlwZS5fcmVzb2x2ZVdhaXRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3dhaXRlcnMuZm9yRWFjaChmdW5jdGlvbiAod2FpdGVyKSB7IHJldHVybiB3YWl0ZXIucmVzb2x2ZSgpOyB9KTtcbiAgICAgICAgdGhpcy5fd2FpdGVycyA9IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIFNlbWFwaG9yZTtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBTZW1hcGhvcmU7XG4iLCJpbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgU2VtYXBob3JlIGZyb20gJy4vU2VtYXBob3JlJztcbnZhciBNdXRleCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNdXRleChjYW5jZWxFcnJvcikge1xuICAgICAgICB0aGlzLl9zZW1hcGhvcmUgPSBuZXcgU2VtYXBob3JlKDEsIGNhbmNlbEVycm9yKTtcbiAgICB9XG4gICAgTXV0ZXgucHJvdG90eXBlLmFjcXVpcmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSwgcmVsZWFzZXI7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3NlbWFwaG9yZS5hY3F1aXJlKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgcmVsZWFzZXIgPSBfYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWxlYXNlcl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTXV0ZXgucHJvdG90eXBlLnJ1bkV4Y2x1c2l2ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VtYXBob3JlLnJ1bkV4Y2x1c2l2ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjYWxsYmFjaygpOyB9KTtcbiAgICB9O1xuICAgIE11dGV4LnByb3RvdHlwZS5pc0xvY2tlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5pc0xvY2tlZCgpO1xuICAgIH07XG4gICAgTXV0ZXgucHJvdG90eXBlLndhaXRGb3JVbmxvY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZW1hcGhvcmUud2FpdEZvclVubG9jaygpO1xuICAgIH07XG4gICAgLyoqIEBkZXByZWNhdGVkIERlcHJlY2F0ZWQgaW4gMC4zLjAsIHdpbGwgYmUgcmVtb3ZlZCBpbiAwLjQuMC4gVXNlIHJ1bkV4Y2x1c2l2ZSBpbnN0ZWFkLiAqL1xuICAgIE11dGV4LnByb3RvdHlwZS5yZWxlYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9zZW1hcGhvcmUucmVsZWFzZSgpO1xuICAgIH07XG4gICAgTXV0ZXgucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlbWFwaG9yZS5jYW5jZWwoKTtcbiAgICB9O1xuICAgIHJldHVybiBNdXRleDtcbn0oKSk7XG5leHBvcnQgZGVmYXVsdCBNdXRleDtcbiIsImV4cG9ydCBjb25zdCBhbGxIaW50cyA9IFtcblx0XCJ6elwiLFxuXHRcInp5XCIsXG5cdFwienhcIixcblx0XCJ6d1wiLFxuXHRcInp2XCIsXG5cdFwienVcIixcblx0XCJ6dFwiLFxuXHRcInpzXCIsXG5cdFwienJcIixcblx0XCJ6cVwiLFxuXHRcInpwXCIsXG5cdFwiem9cIixcblx0XCJ6blwiLFxuXHRcInptXCIsXG5cdFwiemxcIixcblx0XCJ6a1wiLFxuXHRcInpqXCIsXG5cdFwiemlcIixcblx0XCJ6aFwiLFxuXHRcInpnXCIsXG5cdFwiemZcIixcblx0XCJ6ZVwiLFxuXHRcInpkXCIsXG5cdFwiemNcIixcblx0XCJ6YlwiLFxuXHRcInphXCIsXG5cdFwieXpcIixcblx0XCJ5eVwiLFxuXHRcInl4XCIsXG5cdFwieXdcIixcblx0XCJ5dlwiLFxuXHRcInl1XCIsXG5cdFwieXRcIixcblx0XCJ5c1wiLFxuXHRcInlyXCIsXG5cdFwieXFcIixcblx0XCJ5cFwiLFxuXHRcInlvXCIsXG5cdFwieW5cIixcblx0XCJ5bVwiLFxuXHRcInlsXCIsXG5cdFwieWtcIixcblx0XCJ5alwiLFxuXHRcInlpXCIsXG5cdFwieWhcIixcblx0XCJ5Z1wiLFxuXHRcInlmXCIsXG5cdFwieWVcIixcblx0XCJ5ZFwiLFxuXHRcInljXCIsXG5cdFwieWJcIixcblx0XCJ5YVwiLFxuXHRcInh6XCIsXG5cdFwieHlcIixcblx0XCJ4eFwiLFxuXHRcInh3XCIsXG5cdFwieHZcIixcblx0XCJ4dVwiLFxuXHRcInh0XCIsXG5cdFwieHNcIixcblx0XCJ4clwiLFxuXHRcInhxXCIsXG5cdFwieHBcIixcblx0XCJ4b1wiLFxuXHRcInhuXCIsXG5cdFwieG1cIixcblx0XCJ4bFwiLFxuXHRcInhrXCIsXG5cdFwieGpcIixcblx0XCJ4aVwiLFxuXHRcInhoXCIsXG5cdFwieGdcIixcblx0XCJ4ZlwiLFxuXHRcInhlXCIsXG5cdFwieGRcIixcblx0XCJ4Y1wiLFxuXHRcInhiXCIsXG5cdFwieGFcIixcblx0XCJ3elwiLFxuXHRcInd5XCIsXG5cdFwid3hcIixcblx0XCJ3d1wiLFxuXHRcInd2XCIsXG5cdFwid3VcIixcblx0XCJ3dFwiLFxuXHRcIndzXCIsXG5cdFwid3JcIixcblx0XCJ3cVwiLFxuXHRcIndwXCIsXG5cdFwid29cIixcblx0XCJ3blwiLFxuXHRcIndtXCIsXG5cdFwid2xcIixcblx0XCJ3a1wiLFxuXHRcIndqXCIsXG5cdFwid2lcIixcblx0XCJ3aFwiLFxuXHRcIndnXCIsXG5cdFwid2ZcIixcblx0XCJ3ZVwiLFxuXHRcIndkXCIsXG5cdFwid2NcIixcblx0XCJ3YlwiLFxuXHRcIndhXCIsXG5cdFwidnpcIixcblx0XCJ2eVwiLFxuXHRcInZ4XCIsXG5cdFwidndcIixcblx0XCJ2dlwiLFxuXHRcInZ1XCIsXG5cdFwidnRcIixcblx0XCJ2c1wiLFxuXHRcInZyXCIsXG5cdFwidnFcIixcblx0XCJ2cFwiLFxuXHRcInZvXCIsXG5cdFwidm5cIixcblx0XCJ2bVwiLFxuXHRcInZsXCIsXG5cdFwidmtcIixcblx0XCJ2alwiLFxuXHRcInZpXCIsXG5cdFwidmhcIixcblx0XCJ2Z1wiLFxuXHRcInZmXCIsXG5cdFwidmVcIixcblx0XCJ2ZFwiLFxuXHRcInZjXCIsXG5cdFwidmJcIixcblx0XCJ2YVwiLFxuXHRcInV6XCIsXG5cdFwidXlcIixcblx0XCJ1eFwiLFxuXHRcInV3XCIsXG5cdFwidXZcIixcblx0XCJ1dVwiLFxuXHRcInV0XCIsXG5cdFwidXNcIixcblx0XCJ1clwiLFxuXHRcInVxXCIsXG5cdFwidXBcIixcblx0XCJ1b1wiLFxuXHRcInVuXCIsXG5cdFwidW1cIixcblx0XCJ1bFwiLFxuXHRcInVrXCIsXG5cdFwidWpcIixcblx0XCJ1aVwiLFxuXHRcInVoXCIsXG5cdFwidWdcIixcblx0XCJ1ZlwiLFxuXHRcInVlXCIsXG5cdFwidWRcIixcblx0XCJ1Y1wiLFxuXHRcInViXCIsXG5cdFwidWFcIixcblx0XCJ0elwiLFxuXHRcInR5XCIsXG5cdFwidHhcIixcblx0XCJ0d1wiLFxuXHRcInR2XCIsXG5cdFwidHVcIixcblx0XCJ0dFwiLFxuXHRcInRzXCIsXG5cdFwidHJcIixcblx0XCJ0cVwiLFxuXHRcInRwXCIsXG5cdFwidG9cIixcblx0XCJ0blwiLFxuXHRcInRtXCIsXG5cdFwidGxcIixcblx0XCJ0a1wiLFxuXHRcInRqXCIsXG5cdFwidGlcIixcblx0XCJ0aFwiLFxuXHRcInRnXCIsXG5cdFwidGZcIixcblx0XCJ0ZVwiLFxuXHRcInRkXCIsXG5cdFwidGNcIixcblx0XCJ0YlwiLFxuXHRcInRhXCIsXG5cdFwic3pcIixcblx0XCJzeVwiLFxuXHRcInN4XCIsXG5cdFwic3dcIixcblx0XCJzdlwiLFxuXHRcInN1XCIsXG5cdFwic3RcIixcblx0XCJzc1wiLFxuXHRcInNyXCIsXG5cdFwic3FcIixcblx0XCJzcFwiLFxuXHRcInNvXCIsXG5cdFwic25cIixcblx0XCJzbVwiLFxuXHRcInNsXCIsXG5cdFwic2tcIixcblx0XCJzalwiLFxuXHRcInNpXCIsXG5cdFwic2hcIixcblx0XCJzZ1wiLFxuXHRcInNmXCIsXG5cdFwic2VcIixcblx0XCJzZFwiLFxuXHRcInNjXCIsXG5cdFwic2JcIixcblx0XCJzYVwiLFxuXHRcInJ6XCIsXG5cdFwicnlcIixcblx0XCJyeFwiLFxuXHRcInJ3XCIsXG5cdFwicnZcIixcblx0XCJydVwiLFxuXHRcInJ0XCIsXG5cdFwicnNcIixcblx0XCJyclwiLFxuXHRcInJxXCIsXG5cdFwicnBcIixcblx0XCJyb1wiLFxuXHRcInJuXCIsXG5cdFwicm1cIixcblx0XCJybFwiLFxuXHRcInJrXCIsXG5cdFwicmpcIixcblx0XCJyaVwiLFxuXHRcInJoXCIsXG5cdFwicmdcIixcblx0XCJyZlwiLFxuXHRcInJlXCIsXG5cdFwicmRcIixcblx0XCJyY1wiLFxuXHRcInJiXCIsXG5cdFwicmFcIixcblx0XCJxelwiLFxuXHRcInF5XCIsXG5cdFwicXhcIixcblx0XCJxd1wiLFxuXHRcInF2XCIsXG5cdFwicXVcIixcblx0XCJxdFwiLFxuXHRcInFzXCIsXG5cdFwicXJcIixcblx0XCJxcVwiLFxuXHRcInFwXCIsXG5cdFwicW9cIixcblx0XCJxblwiLFxuXHRcInFtXCIsXG5cdFwicWxcIixcblx0XCJxa1wiLFxuXHRcInFqXCIsXG5cdFwicWlcIixcblx0XCJxaFwiLFxuXHRcInFnXCIsXG5cdFwicWZcIixcblx0XCJxZVwiLFxuXHRcInFkXCIsXG5cdFwicWNcIixcblx0XCJxYlwiLFxuXHRcInFhXCIsXG5cdFwicHpcIixcblx0XCJweVwiLFxuXHRcInB4XCIsXG5cdFwicHdcIixcblx0XCJwdlwiLFxuXHRcInB1XCIsXG5cdFwicHRcIixcblx0XCJwc1wiLFxuXHRcInByXCIsXG5cdFwicHFcIixcblx0XCJwcFwiLFxuXHRcInBvXCIsXG5cdFwicG5cIixcblx0XCJwbVwiLFxuXHRcInBsXCIsXG5cdFwicGtcIixcblx0XCJwalwiLFxuXHRcInBpXCIsXG5cdFwicGhcIixcblx0XCJwZ1wiLFxuXHRcInBmXCIsXG5cdFwicGVcIixcblx0XCJwZFwiLFxuXHRcInBjXCIsXG5cdFwicGJcIixcblx0XCJwYVwiLFxuXHRcIm96XCIsXG5cdFwib3lcIixcblx0XCJveFwiLFxuXHRcIm93XCIsXG5cdFwib3ZcIixcblx0XCJvdVwiLFxuXHRcIm90XCIsXG5cdFwib3NcIixcblx0XCJvclwiLFxuXHRcIm9xXCIsXG5cdFwib3BcIixcblx0XCJvb1wiLFxuXHRcIm9uXCIsXG5cdFwib21cIixcblx0XCJvbFwiLFxuXHRcIm9rXCIsXG5cdFwib2pcIixcblx0XCJvaVwiLFxuXHRcIm9oXCIsXG5cdFwib2dcIixcblx0XCJvZlwiLFxuXHRcIm9lXCIsXG5cdFwib2RcIixcblx0XCJvY1wiLFxuXHRcIm9iXCIsXG5cdFwib2FcIixcblx0XCJuelwiLFxuXHRcIm55XCIsXG5cdFwibnhcIixcblx0XCJud1wiLFxuXHRcIm52XCIsXG5cdFwibnVcIixcblx0XCJudFwiLFxuXHRcIm5zXCIsXG5cdFwibnJcIixcblx0XCJucVwiLFxuXHRcIm5wXCIsXG5cdFwibm9cIixcblx0XCJublwiLFxuXHRcIm5tXCIsXG5cdFwibmxcIixcblx0XCJua1wiLFxuXHRcIm5qXCIsXG5cdFwibmlcIixcblx0XCJuaFwiLFxuXHRcIm5nXCIsXG5cdFwibmZcIixcblx0XCJuZVwiLFxuXHRcIm5kXCIsXG5cdFwibmNcIixcblx0XCJuYlwiLFxuXHRcIm5hXCIsXG5cdFwibXpcIixcblx0XCJteVwiLFxuXHRcIm14XCIsXG5cdFwibXdcIixcblx0XCJtdlwiLFxuXHRcIm11XCIsXG5cdFwibXRcIixcblx0XCJtc1wiLFxuXHRcIm1yXCIsXG5cdFwibXFcIixcblx0XCJtcFwiLFxuXHRcIm1vXCIsXG5cdFwibW5cIixcblx0XCJtbVwiLFxuXHRcIm1sXCIsXG5cdFwibWtcIixcblx0XCJtalwiLFxuXHRcIm1pXCIsXG5cdFwibWhcIixcblx0XCJtZ1wiLFxuXHRcIm1mXCIsXG5cdFwibWVcIixcblx0XCJtZFwiLFxuXHRcIm1jXCIsXG5cdFwibWJcIixcblx0XCJtYVwiLFxuXHRcImx6XCIsXG5cdFwibHlcIixcblx0XCJseFwiLFxuXHRcImx3XCIsXG5cdFwibHZcIixcblx0XCJsdVwiLFxuXHRcImx0XCIsXG5cdFwibHNcIixcblx0XCJsclwiLFxuXHRcImxxXCIsXG5cdFwibHBcIixcblx0XCJsb1wiLFxuXHRcImxuXCIsXG5cdFwibG1cIixcblx0XCJsbFwiLFxuXHRcImxrXCIsXG5cdFwibGpcIixcblx0XCJsaVwiLFxuXHRcImxoXCIsXG5cdFwibGdcIixcblx0XCJsZlwiLFxuXHRcImxlXCIsXG5cdFwibGRcIixcblx0XCJsY1wiLFxuXHRcImxiXCIsXG5cdFwibGFcIixcblx0XCJrelwiLFxuXHRcImt5XCIsXG5cdFwia3hcIixcblx0XCJrd1wiLFxuXHRcImt2XCIsXG5cdFwia3VcIixcblx0XCJrdFwiLFxuXHRcImtzXCIsXG5cdFwia3JcIixcblx0XCJrcVwiLFxuXHRcImtwXCIsXG5cdFwia29cIixcblx0XCJrblwiLFxuXHRcImttXCIsXG5cdFwia2xcIixcblx0XCJra1wiLFxuXHRcImtqXCIsXG5cdFwia2lcIixcblx0XCJraFwiLFxuXHRcImtnXCIsXG5cdFwia2ZcIixcblx0XCJrZVwiLFxuXHRcImtkXCIsXG5cdFwia2NcIixcblx0XCJrYlwiLFxuXHRcImthXCIsXG5cdFwianpcIixcblx0XCJqeVwiLFxuXHRcImp4XCIsXG5cdFwiandcIixcblx0XCJqdlwiLFxuXHRcImp1XCIsXG5cdFwianRcIixcblx0XCJqc1wiLFxuXHRcImpyXCIsXG5cdFwianFcIixcblx0XCJqcFwiLFxuXHRcImpvXCIsXG5cdFwiam5cIixcblx0XCJqbVwiLFxuXHRcImpsXCIsXG5cdFwiamtcIixcblx0XCJqalwiLFxuXHRcImppXCIsXG5cdFwiamhcIixcblx0XCJqZ1wiLFxuXHRcImpmXCIsXG5cdFwiamVcIixcblx0XCJqZFwiLFxuXHRcImpjXCIsXG5cdFwiamJcIixcblx0XCJqYVwiLFxuXHRcIml6XCIsXG5cdFwiaXlcIixcblx0XCJpeFwiLFxuXHRcIml3XCIsXG5cdFwiaXZcIixcblx0XCJpdVwiLFxuXHRcIml0XCIsXG5cdFwiaXNcIixcblx0XCJpclwiLFxuXHRcImlxXCIsXG5cdFwiaXBcIixcblx0XCJpb1wiLFxuXHRcImluXCIsXG5cdFwiaW1cIixcblx0XCJpbFwiLFxuXHRcImlrXCIsXG5cdFwiaWpcIixcblx0XCJpaVwiLFxuXHRcImloXCIsXG5cdFwiaWdcIixcblx0XCJpZlwiLFxuXHRcImllXCIsXG5cdFwiaWRcIixcblx0XCJpY1wiLFxuXHRcImliXCIsXG5cdFwiaWFcIixcblx0XCJoelwiLFxuXHRcImh5XCIsXG5cdFwiaHhcIixcblx0XCJod1wiLFxuXHRcImh2XCIsXG5cdFwiaHVcIixcblx0XCJodFwiLFxuXHRcImhzXCIsXG5cdFwiaHJcIixcblx0XCJocVwiLFxuXHRcImhwXCIsXG5cdFwiaG9cIixcblx0XCJoblwiLFxuXHRcImhtXCIsXG5cdFwiaGxcIixcblx0XCJoa1wiLFxuXHRcImhqXCIsXG5cdFwiaGlcIixcblx0XCJoaFwiLFxuXHRcImhnXCIsXG5cdFwiaGZcIixcblx0XCJoZVwiLFxuXHRcImhkXCIsXG5cdFwiaGNcIixcblx0XCJoYlwiLFxuXHRcImhhXCIsXG5cdFwiZ3pcIixcblx0XCJneVwiLFxuXHRcImd4XCIsXG5cdFwiZ3dcIixcblx0XCJndlwiLFxuXHRcImd1XCIsXG5cdFwiZ3RcIixcblx0XCJnc1wiLFxuXHRcImdyXCIsXG5cdFwiZ3FcIixcblx0XCJncFwiLFxuXHRcImdvXCIsXG5cdFwiZ25cIixcblx0XCJnbVwiLFxuXHRcImdsXCIsXG5cdFwiZ2tcIixcblx0XCJnalwiLFxuXHRcImdpXCIsXG5cdFwiZ2hcIixcblx0XCJnZ1wiLFxuXHRcImdmXCIsXG5cdFwiZ2VcIixcblx0XCJnZFwiLFxuXHRcImdjXCIsXG5cdFwiZ2JcIixcblx0XCJnYVwiLFxuXHRcImZ6XCIsXG5cdFwiZnlcIixcblx0XCJmeFwiLFxuXHRcImZ3XCIsXG5cdFwiZnZcIixcblx0XCJmdVwiLFxuXHRcImZ0XCIsXG5cdFwiZnNcIixcblx0XCJmclwiLFxuXHRcImZxXCIsXG5cdFwiZnBcIixcblx0XCJmb1wiLFxuXHRcImZuXCIsXG5cdFwiZm1cIixcblx0XCJmbFwiLFxuXHRcImZrXCIsXG5cdFwiZmpcIixcblx0XCJmaVwiLFxuXHRcImZoXCIsXG5cdFwiZmdcIixcblx0XCJmZlwiLFxuXHRcImZlXCIsXG5cdFwiZmRcIixcblx0XCJmY1wiLFxuXHRcImZiXCIsXG5cdFwiZmFcIixcblx0XCJlelwiLFxuXHRcImV5XCIsXG5cdFwiZXhcIixcblx0XCJld1wiLFxuXHRcImV2XCIsXG5cdFwiZXVcIixcblx0XCJldFwiLFxuXHRcImVzXCIsXG5cdFwiZXJcIixcblx0XCJlcVwiLFxuXHRcImVwXCIsXG5cdFwiZW9cIixcblx0XCJlblwiLFxuXHRcImVtXCIsXG5cdFwiZWxcIixcblx0XCJla1wiLFxuXHRcImVqXCIsXG5cdFwiZWlcIixcblx0XCJlaFwiLFxuXHRcImVnXCIsXG5cdFwiZWZcIixcblx0XCJlZVwiLFxuXHRcImVkXCIsXG5cdFwiZWNcIixcblx0XCJlYlwiLFxuXHRcImVhXCIsXG5cdFwiZHpcIixcblx0XCJkeVwiLFxuXHRcImR4XCIsXG5cdFwiZHdcIixcblx0XCJkdlwiLFxuXHRcImR1XCIsXG5cdFwiZHRcIixcblx0XCJkc1wiLFxuXHRcImRyXCIsXG5cdFwiZHFcIixcblx0XCJkcFwiLFxuXHRcImRvXCIsXG5cdFwiZG5cIixcblx0XCJkbVwiLFxuXHRcImRsXCIsXG5cdFwiZGtcIixcblx0XCJkalwiLFxuXHRcImRpXCIsXG5cdFwiZGhcIixcblx0XCJkZ1wiLFxuXHRcImRmXCIsXG5cdFwiZGVcIixcblx0XCJkZFwiLFxuXHRcImRjXCIsXG5cdFwiZGJcIixcblx0XCJkYVwiLFxuXHRcImN6XCIsXG5cdFwiY3lcIixcblx0XCJjeFwiLFxuXHRcImN3XCIsXG5cdFwiY3ZcIixcblx0XCJjdVwiLFxuXHRcImN0XCIsXG5cdFwiY3NcIixcblx0XCJjclwiLFxuXHRcImNxXCIsXG5cdFwiY3BcIixcblx0XCJjb1wiLFxuXHRcImNuXCIsXG5cdFwiY21cIixcblx0XCJjbFwiLFxuXHRcImNrXCIsXG5cdFwiY2pcIixcblx0XCJjaVwiLFxuXHRcImNoXCIsXG5cdFwiY2dcIixcblx0XCJjZlwiLFxuXHRcImNlXCIsXG5cdFwiY2RcIixcblx0XCJjY1wiLFxuXHRcImNiXCIsXG5cdFwiY2FcIixcblx0XCJielwiLFxuXHRcImJ5XCIsXG5cdFwiYnhcIixcblx0XCJid1wiLFxuXHRcImJ2XCIsXG5cdFwiYnVcIixcblx0XCJidFwiLFxuXHRcImJzXCIsXG5cdFwiYnJcIixcblx0XCJicVwiLFxuXHRcImJwXCIsXG5cdFwiYm9cIixcblx0XCJiblwiLFxuXHRcImJtXCIsXG5cdFwiYmxcIixcblx0XCJia1wiLFxuXHRcImJqXCIsXG5cdFwiYmlcIixcblx0XCJiaFwiLFxuXHRcImJnXCIsXG5cdFwiYmZcIixcblx0XCJiZVwiLFxuXHRcImJkXCIsXG5cdFwiYmNcIixcblx0XCJiYlwiLFxuXHRcImJhXCIsXG5cdFwiYXpcIixcblx0XCJheVwiLFxuXHRcImF4XCIsXG5cdFwiYXdcIixcblx0XCJhdlwiLFxuXHRcImF1XCIsXG5cdFwiYXRcIixcblx0XCJhc1wiLFxuXHRcImFyXCIsXG5cdFwiYXFcIixcblx0XCJhcFwiLFxuXHRcImFvXCIsXG5cdFwiYW5cIixcblx0XCJhbVwiLFxuXHRcImFsXCIsXG5cdFwiYWtcIixcblx0XCJhalwiLFxuXHRcImFpXCIsXG5cdFwiYWhcIixcblx0XCJhZ1wiLFxuXHRcImFmXCIsXG5cdFwiYWVcIixcblx0XCJhZFwiLFxuXHRcImFjXCIsXG5cdFwiYWJcIixcblx0XCJhYVwiLFxuXHRcInpcIixcblx0XCJ5XCIsXG5cdFwieFwiLFxuXHRcIndcIixcblx0XCJ2XCIsXG5cdFwidVwiLFxuXHRcInRcIixcblx0XCJzXCIsXG5cdFwiclwiLFxuXHRcInFcIixcblx0XCJwXCIsXG5cdFwib1wiLFxuXHRcIm5cIixcblx0XCJtXCIsXG5cdFwibFwiLFxuXHRcImtcIixcblx0XCJqXCIsXG5cdFwiaVwiLFxuXHRcImhcIixcblx0XCJnXCIsXG5cdFwiZlwiLFxuXHRcImVcIixcblx0XCJkXCIsXG5cdFwiY1wiLFxuXHRcImJcIixcblx0XCJhXCIsXG5dO1xuIiwiLy8gVGhpcyBtb2R1bGUsIGFsb25nIHdpdGggd2F0Y2hOYXZpZ2F0aW9uLCBoYW5kbGVzIHByZWxvYWQgaW4gU2FmYXJpLiBJIGhhdmVcbi8vIHRoaXMgcGFydCBzZXBhcmF0ZSB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jaWVzIHNpbmNlIGhpbnRzQWxsb2NhdG9yIG5lZWRzIHRvXG4vLyBpbXBvcnQgdGhpcyBtb2R1bGUgYW5kIHdhdGNoTmF2aWdhdGlvbiBuZWVkcyB0byBpbXBvcnQgaGludHNBbGxvY2F0b3IuXG4vL1xuLy8gVGhlIHdheSBwcmVsb2FkIHdvcmtzIGluIFNhZmFyaSBpcywgd2hlbiB0aGUgdXNlciBlbnRlcnMgYW4gYWRkcmVzcyBvciBwYXJ0XG4vLyBvZiBpdCBpbiB0aGUgVVJMIGJhciwgdGhlIHRvcCBoaXQgaXMgcHJlbG9hZGVkIGluIHRoZSB0YWIgMC4gVGhlIG9uQ29tbWl0dGVkXG4vLyBldmVudCBhbHdheXMgaGFwcGVucyBpbiB0aGUgdGFiIDAgYnV0IHRoZSBvbkNvbXBsZXRlZCBjYW4gaGFwcGVuIGluIHRoZSB0YWIgMFxuLy8gb3IgdGhlIHJlYWwgdGFiIGRlcGVuZGluZyBvbiBob3cgZmFzdCB0aGUgdXNlciBoaXRzIGVudGVyLiBGb3IgdGhpcyByZWFzb24gd2Vcbi8vIGNhbid0IHRydXN0IHRoZSB0YWJJZCBpbmZvcm1hdGlvbiBpbiB0aGUgbmF2aWdhdGlvbiBldmVudCBhbmQgd2UgYWx3YXlzIG5lZWRcbi8vIHRvIHJldHJpZXZlIHRoZSBjdXJyZW50IHRhYiBpZC5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRUYWJJZCB9IGZyb20gXCIuLi91dGlscy9nZXRDdXJyZW50VGFiXCI7XG5cbmNvbnN0IHByZWxvYWRUYWJzID0gbmV3IE1hcDxudW1iZXIsIHsgdXJsOiBzdHJpbmc7IGNvbXBsZXRlZDogYm9vbGVhbiB9PigpO1xuXG4vLyBXZSB1c2UgdGhlIG9uQ29tbWl0dGVkIGV2ZW50IHRvIHJldHJpZXZlIHRoZSBVUkwgc2luY2UgdGhlIG1haW4gZnJhbWUgaXNcbi8vIGd1YXJhbnRpZWQgdG8gY29tZSBiZWZvcmUgdGhlIHJlc3QuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHJlbG9hZFRhYkNvbW1pdHRlZCh1cmw6IHN0cmluZykge1xuXHRjb25zdCBjdXJyZW50VGFiSWQgPSBhd2FpdCBnZXRDdXJyZW50VGFiSWQoKTtcblx0cHJlbG9hZFRhYnMuc2V0KGN1cnJlbnRUYWJJZCwgeyB1cmwsIGNvbXBsZXRlZDogZmFsc2UgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwcmVsb2FkVGFiQ29tcGxldGVkKCkge1xuXHRjb25zdCBjdXJyZW50VGFiSWQgPSBhd2FpdCBnZXRDdXJyZW50VGFiSWQoKTtcblx0Y29uc3QgcHJlbG9hZFRhYiA9IHByZWxvYWRUYWJzLmdldChjdXJyZW50VGFiSWQpITtcblx0cHJlbG9hZFRhYi5jb21wbGV0ZWQgPSB0cnVlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbmF2aWdhdGlvbk9jY3VycmVkKHRhYklkOiBudW1iZXIpIHtcblx0Y29uc3QgcHJlbG9hZFRhYkRldGFpbHMgPSBwcmVsb2FkVGFicy5nZXQodGFiSWQpO1xuXG5cdGlmICghcHJlbG9hZFRhYkRldGFpbHMgfHwgIXByZWxvYWRUYWJEZXRhaWxzLmNvbXBsZXRlZCkgcmV0dXJuIGZhbHNlO1xuXG5cdC8vIEkgc2hvdWxkIGJlIHVzaW5nIGJyb3dzZXIud2ViTmF2aWdhdGlvbi5nZXRGcmFtZSBoZXJlIGJ1dCBmb3Igd2hhdGV2ZXJcblx0Ly8gcmVhc29uIGl0J3Mgbm90IHdvcmtpbmcgaW4gU2FmYXJpLCBhbHRob3VnaCBpdCBpcyBzdXBwb3NlZCB0byBiZSBzdXBwb3J0ZWQuXG5cdGNvbnN0IGFsbEZyYW1lcyA9IGF3YWl0IGJyb3dzZXIud2ViTmF2aWdhdGlvbi5nZXRBbGxGcmFtZXMoeyB0YWJJZCB9KTtcblx0Y29uc3QgY3VycmVudE1haW5GcmFtZSA9IGFsbEZyYW1lcy5maW5kKChmcmFtZSkgPT4gZnJhbWUuZnJhbWVJZCA9PT0gMCk7XG5cblx0Ly8gV2UgbmVlZCB0byBjaGVjayB0aGF0IHRoZSBjdXJyZW50IFVSTCBhbmQgdGhlIFVSTCBvZiB0aGUgbmF2aWdhdGlvbiBldmVudFxuXHQvLyBhcmUgdGhlIHNhbWUuIFRoaXMgaXMgdG8gaGFuZGxlIHRoZSB1c2VyIGluc2VydGluZyBhbiBhZGRyZXNzIHRoYXQgdHJpZ2dlcnNcblx0Ly8gcHJlbG9hZCBidXQgbm90IGFjdHVhbGx5IG5hdmlnYXRpbmcgdG8gdGhlIHBhZ2UgKGhpdHRpbmcgZXNjYXBlLCBmb3Jcblx0Ly8gZXhhbXBsZSkuXG5cdGNvbnN0IHJlc3VsdCA9IGN1cnJlbnRNYWluRnJhbWVcblx0XHQ/IHByZWxvYWRUYWJEZXRhaWxzLnVybCA9PT0gY3VycmVudE1haW5GcmFtZS51cmxcblx0XHQ6IGZhbHNlO1xuXG5cdHByZWxvYWRUYWJzLmRlbGV0ZSh0YWJJZCk7XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cbiIsImltcG9ydCB7IFJhbmdvQWN0aW9uV2l0aFRhcmdldCwgaGFzQXJnIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmFuZ29BY3Rpb25cIjtcbmltcG9ydCB7IHdpdGhTdGFjayB9IGZyb20gXCIuLi9oaW50cy9oaW50c0FsbG9jYXRvclwiO1xuXG4vKipcbiAqIFNwbGl0cyBvbmUgcmVxdWVzdCBpbnRvIHNldmVyYWwsIG9uZSBmb3IgZWFjaCBmcmFtZS5cbiAqXG4gKiBAcGFyYW0gdGFiSWQgVGhlIGlkIG9mIHRoZSB0YWIuXG4gKiBAcGFyYW0gcmVxdWVzdCBBIFJhbmdvQWN0aW9uV2l0aFRhcmdldCByZXF1ZXN0LlxuICogQHJldHVybnMgUmVzb2x2ZXMgdG8gbWFwIG9mIGZyYW1lIG51bWJlcnMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgcmVxdWVzdHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzcGxpdFJlcXVlc3RzQnlGcmFtZShcblx0dGFiSWQ6IG51bWJlcixcblx0cmVxdWVzdDogUmFuZ29BY3Rpb25XaXRoVGFyZ2V0XG4pOiBQcm9taXNlPE1hcDxudW1iZXIsIFJhbmdvQWN0aW9uV2l0aFRhcmdldD4gfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgaGludHMgPVxuXHRcdHR5cGVvZiByZXF1ZXN0LnRhcmdldCA9PT0gXCJzdHJpbmdcIiA/IFtyZXF1ZXN0LnRhcmdldF0gOiByZXF1ZXN0LnRhcmdldDtcblx0Y29uc3QgaGludHNCeUZyYW1lOiBNYXA8bnVtYmVyLCBzdHJpbmdbXT4gPSBuZXcgTWFwKCk7XG5cdGNvbnN0IHJlcXVlc3RzOiBNYXA8bnVtYmVyLCBhbnk+ID0gbmV3IE1hcCgpO1xuXG5cdHJldHVybiB3aXRoU3RhY2sodGFiSWQsIGFzeW5jIChzdGFjaykgPT4ge1xuXHRcdGZvciAoY29uc3QgaGludCBvZiBoaW50cykge1xuXHRcdFx0Y29uc3QgaGludEZyYW1lSWQgPSBzdGFjay5hc3NpZ25lZC5nZXQoaGludCk7XG5cblx0XHRcdGlmIChoaW50RnJhbWVJZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdGNvbnN0IGhpbnRzSW5GcmFtZSA9IGhpbnRzQnlGcmFtZS5nZXQoaGludEZyYW1lSWQpO1xuXG5cdFx0XHRcdGlmIChoaW50c0luRnJhbWUpIHtcblx0XHRcdFx0XHRoaW50c0luRnJhbWUucHVzaChoaW50KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRoaW50c0J5RnJhbWUuc2V0KGhpbnRGcmFtZUlkLCBbaGludF0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgaGludHNCeUZyYW1lLmVudHJpZXMoKSkge1xuXHRcdFx0Y29uc3QgYXJnID0gaGFzQXJnKHJlcXVlc3QpID8gcmVxdWVzdC5hcmcgOiB1bmRlZmluZWQ7XG5cblx0XHRcdHJlcXVlc3RzLnNldChrZXksIHtcblx0XHRcdFx0dHlwZTogcmVxdWVzdC50eXBlLFxuXHRcdFx0XHR0YXJnZXQ6IHZhbHVlLFxuXHRcdFx0XHRhcmcsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVxdWVzdHM7XG5cdH0pO1xufVxuIiwiaW50ZXJmYWNlIFJhbmdvQWN0aW9uV2l0aG91dFRhcmdldFdpdGhvdXRBcmcge1xuXHR0eXBlOlxuXHRcdHwgXCJoaXN0b3J5R29CYWNrXCJcblx0XHR8IFwiaGlzdG9yeUdvRm9yd2FyZFwiXG5cdFx0fCBcIm5hdmlnYXRlVG9QYWdlUm9vdFwiXG5cdFx0fCBcIm5hdmlnYXRlVG9OZXh0UGFnZVwiXG5cdFx0fCBcIm5hdmlnYXRlVG9QcmV2aW91c1BhZ2VcIlxuXHRcdHwgXCJjbG9zZU90aGVyVGFic0luV2luZG93XCJcblx0XHR8IFwiY2xvc2VUYWJzVG9UaGVMZWZ0SW5XaW5kb3dcIlxuXHRcdHwgXCJjbG9zZVRhYnNUb1RoZVJpZ2h0SW5XaW5kb3dcIlxuXHRcdHwgXCJjbG9uZUN1cnJlbnRUYWJcIlxuXHRcdHwgXCJtb3ZlQ3VycmVudFRhYlRvTmV3V2luZG93XCJcblx0XHR8IFwiZm9jdXNQcmV2aW91c1RhYlwiXG5cdFx0fCBcImZvY3VzRmlyc3RJbnB1dFwiXG5cdFx0fCBcInVuaG92ZXJBbGxcIlxuXHRcdHwgXCJjb3B5Q3VycmVudFRhYk1hcmtkb3duVXJsXCJcblx0XHR8IFwic2Nyb2xsVXBBdEVsZW1lbnRcIlxuXHRcdHwgXCJzY3JvbGxEb3duQXRFbGVtZW50XCJcblx0XHR8IFwic2Nyb2xsTGVmdEF0RWxlbWVudFwiXG5cdFx0fCBcInNjcm9sbFJpZ2h0QXRFbGVtZW50XCJcblx0XHR8IFwiZGlzcGxheUV4dHJhSGludHNcIlxuXHRcdHwgXCJkaXNwbGF5RXhjbHVkZWRIaW50c1wiXG5cdFx0fCBcImRpc3BsYXlMZXNzSGludHNcIlxuXHRcdHwgXCJ0b2dnbGVIaW50c1wiXG5cdFx0fCBcImRpc3BsYXlUb2dnbGVzU3RhdHVzXCJcblx0XHR8IFwidG9nZ2xlS2V5Ym9hcmRDbGlja2luZ1wiXG5cdFx0fCBcImV4Y2x1ZGVTaW5nbGVMZXR0ZXJIaW50c1wiXG5cdFx0fCBcImluY2x1ZGVTaW5nbGVMZXR0ZXJIaW50c1wiXG5cdFx0fCBcInJlZnJlc2hIaW50c1wiXG5cdFx0fCBcImVuYWJsZVVybEluVGl0bGVcIlxuXHRcdHwgXCJkaXNhYmxlVXJsSW5UaXRsZVwiXG5cdFx0fCBcImluY3JlYXNlSGludFNpemVcIlxuXHRcdHwgXCJkZWNyZWFzZUhpbnRTaXplXCJcblx0XHR8IFwiaW5jbHVkZU9yRXhjbHVkZU1vcmVTZWxlY3RvcnNcIlxuXHRcdHwgXCJpbmNsdWRlT3JFeGNsdWRlTGVzc1NlbGVjdG9yc1wiXG5cdFx0fCBcImNvbmZpcm1TZWxlY3RvcnNDdXN0b21pemF0aW9uXCJcblx0XHR8IFwicmVzZXRDdXN0b21TZWxlY3RvcnNcIlxuXHRcdHwgXCJvcGVuU2V0dGluZ3NQYWdlXCJcblx0XHR8IFwicmVxdWVzdFRpbWVkT3V0XCJcblx0XHR8IFwiY2hlY2tBY3RpdmVFbGVtZW50SXNFZGl0YWJsZVwiXG5cdFx0fCBcInJlZnJlc2hUYWJNYXJrZXJzXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmFuZ29BY3Rpb25VcGRhdGVUb2dnbGVzIHtcblx0dHlwZTogXCJlbmFibGVIaW50c1wiIHwgXCJkaXNhYmxlSGludHNcIiB8IFwicmVzZXRUb2dnbGVMZXZlbFwiO1xuXHRhcmc6IFwiZXZlcnl3aGVyZVwiIHwgXCJnbG9iYWxcIiB8IFwidGFiXCIgfCBcImhvc3RcIiB8IFwicGFnZVwiIHwgXCJub3dcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSYW5nb0FjdGlvbkNvcHlMb2NhdGlvblByb3BlcnR5IHtcblx0dHlwZTogXCJjb3B5TG9jYXRpb25Qcm9wZXJ0eVwiO1xuXHRhcmc6XG5cdFx0fCBcImhyZWZcIlxuXHRcdHwgXCJob3N0bmFtZVwiXG5cdFx0fCBcImhvc3RcIlxuXHRcdHwgXCJvcmlnaW5cIlxuXHRcdHwgXCJwYXRobmFtZVwiXG5cdFx0fCBcInBvcnRcIlxuXHRcdHwgXCJwcm90b2NvbFwiO1xufVxuXG5pbnRlcmZhY2UgUmFuZ29BY3Rpb25TZXRIaW50U3R5bGUge1xuXHR0eXBlOiBcInNldEhpbnRTdHlsZVwiO1xuXHRhcmc6IFwiYm94ZWRcIiB8IFwic3VidGxlXCI7XG59XG5cbmludGVyZmFjZSBSYW5nb0FjdGlvblNldEhpbnRXZWlnaHQge1xuXHR0eXBlOiBcInNldEhpbnRXZWlnaHRcIjtcblx0YXJnOiBcImF1dG9cIiB8IFwibm9ybWFsXCIgfCBcImJvbGRcIjtcbn1cblxuaW50ZXJmYWNlIFJhbmdvQWN0aW9uV2l0aG91dFRhcmdldFdpdGhOdW1iZXJBcmcge1xuXHR0eXBlOlxuXHRcdHwgXCJjbG9zZVRhYnNMZWZ0RW5kSW5XaW5kb3dcIlxuXHRcdHwgXCJjbG9zZVRhYnNSaWdodEVuZEluV2luZG93XCJcblx0XHR8IFwiY2xvc2VQcmV2aW91c1RhYnNJbldpbmRvd1wiXG5cdFx0fCBcImNsb3NlTmV4dFRhYnNJbldpbmRvd1wiO1xuXHRhcmc6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFJhbmdvQWN0aW9uV2l0aG91dFRhcmdldFdpdGhPcHRpb25hbE51bWJlckFyZyB7XG5cdHR5cGU6XG5cdFx0fCBcInNjcm9sbFVwUGFnZVwiXG5cdFx0fCBcInNjcm9sbERvd25QYWdlXCJcblx0XHR8IFwic2Nyb2xsTGVmdFBhZ2VcIlxuXHRcdHwgXCJzY3JvbGxSaWdodFBhZ2VcIlxuXHRcdHwgXCJzY3JvbGxVcExlZnRBc2lkZVwiXG5cdFx0fCBcInNjcm9sbERvd25MZWZ0QXNpZGVcIlxuXHRcdHwgXCJzY3JvbGxVcFJpZ2h0QXNpZGVcIlxuXHRcdHwgXCJzY3JvbGxEb3duUmlnaHRBc2lkZVwiO1xuXHRhcmc/OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBSYW5nb0FjdGlvbldpdGhUYXJnZXRzIHtcblx0dHlwZTpcblx0XHR8IFwiYWN0aXZhdGVUYWJcIlxuXHRcdHwgXCJvcGVuSW5CYWNrZ3JvdW5kVGFiXCJcblx0XHR8IFwiY2xpY2tFbGVtZW50XCJcblx0XHR8IFwidHJ5VG9Gb2N1c0VsZW1lbnRBbmRDaGVja0lzRWRpdGFibGVcIlxuXHRcdHwgXCJmb2N1c0VsZW1lbnRcIlxuXHRcdHwgXCJkaXJlY3RDbGlja0VsZW1lbnRcIlxuXHRcdHwgXCJvcGVuSW5OZXdUYWJcIlxuXHRcdHwgXCJjb3B5TGlua1wiXG5cdFx0fCBcImNvcHlNYXJrZG93bkxpbmtcIlxuXHRcdHwgXCJjb3B5RWxlbWVudFRleHRDb250ZW50XCJcblx0XHR8IFwic2hvd0xpbmtcIlxuXHRcdHwgXCJob3ZlckVsZW1lbnRcIlxuXHRcdHwgXCJpbmNsdWRlRXh0cmFTZWxlY3RvcnNcIlxuXHRcdHwgXCJleGNsdWRlRXh0cmFTZWxlY3RvcnNcIlxuXHRcdHwgXCJzY3JvbGxFbGVtZW50VG9Ub3BcIlxuXHRcdHwgXCJzY3JvbGxFbGVtZW50VG9Cb3R0b21cIlxuXHRcdHwgXCJzY3JvbGxFbGVtZW50VG9DZW50ZXJcIlxuXHRcdHwgXCJzZXRTZWxlY3Rpb25CZWZvcmVcIlxuXHRcdHwgXCJzZXRTZWxlY3Rpb25BZnRlclwiXG5cdFx0fCBcImZvY3VzQW5kRGVsZXRlQ29udGVudHNcIjtcblx0dGFyZ2V0OiBzdHJpbmdbXTtcbn1cblxuaW50ZXJmYWNlIFJhbmdvQWN0aW9uV2l0aFRhcmdldHNXaXRoT3B0aW9uYWxOdW1iZXJBcmcge1xuXHR0eXBlOlxuXHRcdHwgXCJzY3JvbGxVcEF0RWxlbWVudFwiXG5cdFx0fCBcInNjcm9sbERvd25BdEVsZW1lbnRcIlxuXHRcdHwgXCJzY3JvbGxMZWZ0QXRFbGVtZW50XCJcblx0XHR8IFwic2Nyb2xsUmlnaHRBdEVsZW1lbnRcIjtcblx0dGFyZ2V0OiBzdHJpbmdbXTtcblx0YXJnPzogbnVtYmVyO1xufVxuXG5pbnRlcmZhY2UgUmFuZ29BY3Rpb25JbnNlcnRUb0ZpZWxkIHtcblx0dHlwZTogXCJpbnNlcnRUb0ZpZWxkXCI7XG5cdHRhcmdldDogc3RyaW5nW107XG5cdGFyZzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUmFuZ29BY3Rpb25PcGVuUGFnZUluTmV3VGFiIHtcblx0dHlwZTogXCJvcGVuUGFnZUluTmV3VGFiXCI7XG5cdGFyZzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBSYW5nb0FjdGlvbldpdGhUYXJnZXQgPVxuXHR8IFJhbmdvQWN0aW9uV2l0aFRhcmdldHNcblx0fCBSYW5nb0FjdGlvbldpdGhUYXJnZXRzV2l0aE9wdGlvbmFsTnVtYmVyQXJnXG5cdHwgUmFuZ29BY3Rpb25JbnNlcnRUb0ZpZWxkO1xuXG5leHBvcnQgdHlwZSBSYW5nb0FjdGlvbldpdGhvdXRUYXJnZXQgPVxuXHR8IFJhbmdvQWN0aW9uV2l0aG91dFRhcmdldFdpdGhvdXRBcmdcblx0fCBSYW5nb0FjdGlvblVwZGF0ZVRvZ2dsZXNcblx0fCBSYW5nb0FjdGlvbldpdGhvdXRUYXJnZXRXaXRoTnVtYmVyQXJnXG5cdHwgUmFuZ29BY3Rpb25XaXRob3V0VGFyZ2V0V2l0aE9wdGlvbmFsTnVtYmVyQXJnXG5cdHwgUmFuZ29BY3Rpb25TZXRIaW50U3R5bGVcblx0fCBSYW5nb0FjdGlvblNldEhpbnRXZWlnaHRcblx0fCBSYW5nb0FjdGlvbkNvcHlMb2NhdGlvblByb3BlcnR5XG5cdHwgUmFuZ29BY3Rpb25PcGVuUGFnZUluTmV3VGFiO1xuXG5leHBvcnQgdHlwZSBSYW5nb0FjdGlvbiA9IFJhbmdvQWN0aW9uV2l0aFRhcmdldCB8IFJhbmdvQWN0aW9uV2l0aG91dFRhcmdldDtcblxuLy8gVXRpbGl0aWVzXG50eXBlIFJhbmdvQWN0aW9uV2l0aEFyZyA9IFJhbmdvQWN0aW9uICYgeyBhcmc/OiBudW1iZXIgfCBzdHJpbmcgfTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc0FyZyhcblx0YWN0aW9uOiBSYW5nb0FjdGlvbldpdGhBcmdcbik6IGFjdGlvbiBpcyBSYW5nb0FjdGlvbldpdGhBcmcge1xuXHRyZXR1cm4gYWN0aW9uLmFyZyAhPT0gdW5kZWZpbmVkO1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgcmV0cmlldmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHRvZ2dsZUtleWJvYXJkQ2xpY2tpbmcgfSBmcm9tIFwiLi4vYWN0aW9ucy90b2dnbGVLZXlib2FyZENsaWNraW5nXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDb250ZXh0TWVudXMoKSB7XG5cdGNvbnN0IGtleWJvYXJkQ2xpY2tpbmcgPSBhd2FpdCByZXRyaWV2ZShcImtleWJvYXJkQ2xpY2tpbmdcIik7XG5cblx0Y29uc3QgY29udGV4dHM6IGJyb3dzZXIuTWVudXMuQ29udGV4dFR5cGVbXSA9IGJyb3dzZXIuYnJvd3NlckFjdGlvblxuXHRcdD8gW1wiYnJvd3Nlcl9hY3Rpb25cIl1cblx0XHQ6IFtcImFjdGlvblwiXTtcblxuXHRicm93c2VyLmNvbnRleHRNZW51cy5jcmVhdGUoe1xuXHRcdGlkOiBcImtleWJvYXJkLWNsaWNraW5nXCIsXG5cdFx0dGl0bGU6IFwiS2V5Ym9hcmQgQ2xpY2tpbmdcIixcblx0XHR0eXBlOiBcImNoZWNrYm94XCIsXG5cdFx0Y29udGV4dHMsXG5cdFx0Y2hlY2tlZDoga2V5Ym9hcmRDbGlja2luZyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb250ZXh0TWVudXNPbkNsaWNrZWQoe1xuXHRtZW51SXRlbUlkLFxufTogYnJvd3Nlci5NZW51cy5PbkNsaWNrRGF0YSkge1xuXHRpZiAobWVudUl0ZW1JZCA9PT0gXCJrZXlib2FyZC1jbGlja2luZ1wiKSB7XG5cdFx0YXdhaXQgdG9nZ2xlS2V5Ym9hcmRDbGlja2luZygpO1xuXHR9XG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyByZXRyaWV2ZSwgc3RvcmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHNldEJyb3dzZXJBY3Rpb25JY29uIH0gZnJvbSBcIi4uL3V0aWxzL2Jyb3dzZXJBY3Rpb25cIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZUtleWJvYXJkQ2xpY2tpbmcoKSB7XG5cdGNvbnN0IGtleWJvYXJkQ2xpY2tpbmdPbGQgPSBhd2FpdCByZXRyaWV2ZShcImtleWJvYXJkQ2xpY2tpbmdcIik7XG5cdGF3YWl0IHN0b3JlKFwia2V5Ym9hcmRDbGlja2luZ1wiLCAha2V5Ym9hcmRDbGlja2luZ09sZCk7XG59XG5cbmJyb3dzZXIuc3RvcmFnZS5vbkNoYW5nZWQuYWRkTGlzdGVuZXIoYXN5bmMgKGNoYW5nZXMpID0+IHtcblx0aWYgKFwia2V5Ym9hcmRDbGlja2luZ1wiIGluIGNoYW5nZXMpIHtcblx0XHRhd2FpdCBzZXRCcm93c2VyQWN0aW9uSWNvbigpO1xuXG5cdFx0Y29uc3Qga2V5Ym9hcmRDbGlja2luZyA9IGF3YWl0IHJldHJpZXZlKFwia2V5Ym9hcmRDbGlja2luZ1wiKTtcblx0XHRhd2FpdCBicm93c2VyLmNvbnRleHRNZW51cy51cGRhdGUoXCJrZXlib2FyZC1jbGlja2luZ1wiLCB7XG5cdFx0XHRjaGVja2VkOiBrZXlib2FyZENsaWNraW5nLFxuXHRcdH0pO1xuXHR9XG59KTtcbiIsImltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcbmltcG9ydCB7IHVybHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3VybHNcIjtcbmltcG9ydCB7IHJldHJpZXZlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5cbi8qKlxuICogYGJyb3dzZXIuYnJvd3NlckFjdGlvbmAgZm9yIE1WMiBhbmQgYGJyb3dzZXIuYWN0aW9uYCBmb3IgTVYzLlxuICovXG5leHBvcnQgY29uc3QgYnJvd3NlckFjdGlvbiA9IGJyb3dzZXIuYWN0aW9uXG5cdD8gYnJvd3Nlci5hY3Rpb25cblx0OiBicm93c2VyLmJyb3dzZXJBY3Rpb247XG5cbi8qKlxuICogU2V0IHRoZSBicm93c2VyQWN0aW9uIGljb24gZGVwZW5kaW5nIG9uIHdldGhlciBrZXlib2FyZENsaWNraW5nIGlzIGVuYWJsZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRCcm93c2VyQWN0aW9uSWNvbigpIHtcblx0Y29uc3Qga2V5Ym9hcmRDbGlja2luZyA9IGF3YWl0IHJldHJpZXZlKFwia2V5Ym9hcmRDbGlja2luZ1wiKTtcblx0Y29uc3QgaWNvblBhdGggPSBrZXlib2FyZENsaWNraW5nXG5cdFx0PyB1cmxzLmljb25LZXlib2FyZDQ4LnBhdGhuYW1lXG5cdFx0OiB1cmxzLmljb240OC5wYXRobmFtZTtcblxuXHQvLyBJIGNhbid0IHVzZSBhd2FpdCBoZXJlIGJlY2F1c2Ugb2YgYSBidWcgaW4gU2FmYXJpIHRoYXQgbWFrZXMgdGhlIHByb21pc2Vcblx0Ly8gdG8gbmV2ZXIgcmVzb2x2ZSBhbmQgYW55IGZ1cnRoZXIgY29kZSBub3QgdG8gZXhlY3V0ZS4gVGhlIGJ1ZyBzZWVtcyB0byBiZVxuXHQvLyBmaXhlZCBpbiByZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpICheMTYuNCkuXG5cdHZvaWQgYnJvd3NlckFjdGlvbi5zZXRJY29uKHsgcGF0aDogaWNvblBhdGggfSk7XG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBNdXRleCB9IGZyb20gXCJhc3luYy1tdXRleFwiO1xuaW1wb3J0IHsgcmV0cmlldmUsIHN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBUYWJNYXJrZXJzIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvU3RvcmFnZVNjaGVtYVwiO1xuaW1wb3J0IHsgYWxsSGludHMgfSBmcm9tIFwiLi4vdXRpbHMvYWxsSGludHNcIjtcbmltcG9ydCB7IHNlbmRSZXF1ZXN0VG9Db250ZW50IH0gZnJvbSBcIi4uL21lc3NhZ2luZy9zZW5kUmVxdWVzdFRvQ29udGVudFwiO1xuXG5jb25zdCBtdXRleCA9IG5ldyBNdXRleCgpO1xuXG5hc3luYyBmdW5jdGlvbiB3aXRoVGFiTWFya2VyczxUPihcblx0Y2FsbGJhY2s6ICh0YWJNYXJrZXJzOiBUYWJNYXJrZXJzKSA9PiBUXG4pOiBQcm9taXNlPFQ+IHtcblx0cmV0dXJuIG11dGV4LnJ1bkV4Y2x1c2l2ZShhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdGFiTWFya2VycyA9IChhd2FpdCByZXRyaWV2ZShcInRhYk1hcmtlcnNcIikpID8/IHtcblx0XHRcdGZyZWU6IFsuLi5hbGxIaW50c10sXG5cdFx0XHR0YWJJZHNUb01hcmtlcnM6IG5ldyBNYXAoKSxcblx0XHRcdG1hcmtlcnNUb1RhYklkczogbmV3IE1hcCgpLFxuXHRcdH07XG5cblx0XHRjb25zdCByZXN1bHQgPSBjYWxsYmFjayh0YWJNYXJrZXJzKTtcblx0XHRhd2FpdCBzdG9yZShcInRhYk1hcmtlcnNcIiwgdGFiTWFya2Vycyk7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUYWJNYXJrZXIodGFiSWQ6IG51bWJlcikge1xuXHRyZXR1cm4gd2l0aFRhYk1hcmtlcnMoKHsgZnJlZSwgdGFiSWRzVG9NYXJrZXJzLCBtYXJrZXJzVG9UYWJJZHMgfSkgPT4ge1xuXHRcdGNvbnN0IG1hcmtlciA9IHRhYklkc1RvTWFya2Vycy5nZXQodGFiSWQpID8/IGZyZWUucG9wKCk7XG5cblx0XHRpZiAoIW1hcmtlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm8gbW9yZSB0YWIgbWFya2VycyBhdmFpbGFibGVcIik7XG5cdFx0fVxuXG5cdFx0dGFiSWRzVG9NYXJrZXJzLnNldCh0YWJJZCwgbWFya2VyKTtcblx0XHRtYXJrZXJzVG9UYWJJZHMuc2V0KG1hcmtlciwgdGFiSWQpO1xuXG5cdFx0cmV0dXJuIG1hcmtlcjtcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUYWJJZEZvck1hcmtlcihtYXJrZXI6IHN0cmluZykge1xuXHRyZXR1cm4gd2l0aFRhYk1hcmtlcnMoKHsgbWFya2Vyc1RvVGFiSWRzIH0pID0+IHtcblx0XHRjb25zdCB0YWJJZCA9IG1hcmtlcnNUb1RhYklkcy5nZXQobWFya2VyKTtcblx0XHRpZiAoIXRhYklkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYE5vIHRhYiB3aXRoIHRoZSBtYXJrZXIgXCIke21hcmtlcn1cImApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0YWJJZDtcblx0fSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHJlbGVhc2VNYXJrZXIodGFiSWQ6IG51bWJlcikge1xuXHRjb25zdCBtYXJrZXIgPSBhd2FpdCBnZXRUYWJNYXJrZXIodGFiSWQpO1xuXHRhd2FpdCB3aXRoVGFiTWFya2VycygoeyBmcmVlLCB0YWJJZHNUb01hcmtlcnMsIG1hcmtlcnNUb1RhYklkcyB9KSA9PiB7XG5cdFx0dGFiSWRzVG9NYXJrZXJzLmRlbGV0ZSh0YWJJZCk7XG5cdFx0bWFya2Vyc1RvVGFiSWRzLmRlbGV0ZShtYXJrZXIpO1xuXHRcdGZyZWUucHVzaChtYXJrZXIpO1xuXHRcdGZyZWUuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCB8fCBiLmxvY2FsZUNvbXBhcmUoYSkpO1xuXHR9KTtcbn1cblxuYnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihhc3luYyAodGFiSWQpID0+IHtcblx0YXdhaXQgcmVsZWFzZU1hcmtlcih0YWJJZCk7XG59KTtcblxuLy8gSW4gQ2hyb21lIHdoZW4gYSB0YWIgaXMgZGlzY2FyZGVkIGl0IGNoYW5nZXMgaXRzIGlkXG5icm93c2VyLnRhYnMub25SZXBsYWNlZC5hZGRMaXN0ZW5lcihhc3luYyAoYWRkZWRUYWJJZCwgcmVtb3ZlZFRhYklkKSA9PiB7XG5cdGF3YWl0IHdpdGhUYWJNYXJrZXJzKCh7IHRhYklkc1RvTWFya2VycywgbWFya2Vyc1RvVGFiSWRzIH0pID0+IHtcblx0XHRjb25zdCB0YWJNYXJrZXIgPSB0YWJJZHNUb01hcmtlcnMuZ2V0KHJlbW92ZWRUYWJJZCk7XG5cdFx0aWYgKCF0YWJNYXJrZXIpIHJldHVybjtcblxuXHRcdHRhYklkc1RvTWFya2Vycy5kZWxldGUocmVtb3ZlZFRhYklkKTtcblx0XHR0YWJJZHNUb01hcmtlcnMuc2V0KGFkZGVkVGFiSWQsIHRhYk1hcmtlcik7XG5cdFx0bWFya2Vyc1RvVGFiSWRzLnNldCh0YWJNYXJrZXIsIGFkZGVkVGFiSWQpO1xuXHR9KTtcbn0pO1xuXG5hc3luYyBmdW5jdGlvbiByZXNldFRhYk1hcmtlcnMoKSB7XG5cdGF3YWl0IHdpdGhUYWJNYXJrZXJzKCh0YWJNYXJrZXJzKSA9PiB7XG5cdFx0dGFiTWFya2Vycy5mcmVlID0gWy4uLmFsbEhpbnRzXTtcblx0XHR0YWJNYXJrZXJzLnRhYklkc1RvTWFya2VycyA9IG5ldyBNYXAoKTtcblx0XHR0YWJNYXJrZXJzLm1hcmtlcnNUb1RhYklkcyA9IG5ldyBNYXAoKTtcblxuXHRcdHJldHVybiB0YWJNYXJrZXJzO1xuXHR9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGluaXRUYWJNYXJrZXJzKCkge1xuXHRhd2FpdCByZXNldFRhYk1hcmtlcnMoKTtcblxuXHQvLyBXZSBuZWVkIHRvIHJlbG9hZCBhbGwgXCJ1bmxvYWRlZFwiIHRhYnMgaW4gY2FzZSB0aGUgdXNlciBoYXMgdGhlIHNldHRpbmdcblx0Ly8gXCJDb250aW51ZSB3aGVyZSB5b3UgbGVmdCBvZmZcIiBlbmFibGVkLiBJZiB3ZSBkb24ndCB0aG9zZSB0YWJzIHdpbGwgaGF2ZSBhblxuXHQvLyBpbnZhbGlkIHRhYiBtYXJrZXIuIFdlIGNhbiBhbHNvIG5vdCByZWFzc2lnbiB0aGUgdGFiIG1hcmtlcnMgdG8gdGhvc2Vcblx0Ly8gXCJ1bmxvYWRlZFwiIHRhYnMgc2luY2Ugd2UgY2FuJ3QgZ2V0IHRoZWlyIHRpdGxlLCBzbyB3ZSBkb24ndCBrbm93IHdoaWNoIHRhYlxuXHQvLyBtYXJrZXIgZWFjaCBvbmUgaGFzLlxuXHRpZiAoIShhd2FpdCByZXRyaWV2ZShcImluY2x1ZGVUYWJNYXJrZXJzXCIpKSkgcmV0dXJuO1xuXG5cdGNvbnN0IHRhYnMgPSBhd2FpdCBicm93c2VyLnRhYnMucXVlcnkoe30pO1xuXG5cdGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdHRhYnNcblx0XHRcdC5maWx0ZXIoKHRhYikgPT4gdGFiLnN0YXR1cyA9PT0gXCJ1bmxvYWRlZFwiKVxuXHRcdFx0Lm1hcChhc3luYyAodGFiKSA9PiBicm93c2VyLnRhYnMucmVsb2FkKHRhYi5pZCkpXG5cdCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWZyZXNoVGFiTWFya2VycygpIHtcblx0YXdhaXQgcmVzZXRUYWJNYXJrZXJzKCk7XG5cblx0Y29uc3QgdGFicyA9IGF3YWl0IGJyb3dzZXIudGFicy5xdWVyeSh7fSk7XG5cblx0Y29uc3QgcmVmcmVzaGluZyA9IHRhYnMubWFwKGFzeW5jICh0YWIpID0+IHtcblx0XHR0cnkge1xuXHRcdFx0YXdhaXQgc2VuZFJlcXVlc3RUb0NvbnRlbnQoeyB0eXBlOiBcInJlZnJlc2hUaXRsZURlY29yYXRpb25zXCIgfSwgdGFiLmlkKTtcblx0XHR9IGNhdGNoIHtcblx0XHRcdHJldHVybiBicm93c2VyLnRhYnMucmVsb2FkKHRhYi5pZCk7XG5cdFx0fVxuXHR9KTtcblxuXHRhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocmVmcmVzaGluZyk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKTogYm9vbGVhbiB7XG5cdGlmICghbmF2aWdhdG9yLnZlbmRvcikgcmV0dXJuIGZhbHNlO1xuXHRyZXR1cm4gbmF2aWdhdG9yLnZlbmRvci5pbmNsdWRlcyhcIkFwcGxlXCIpO1xufVxuIiwiLy8gS2VlcCBhIHJlZ2lzdGVyIG9mIHRoZSB0YWJzIGZvciBlYWNoIHdpbmRvdyBpbiBvcmRlciBvZiByZWNlbmN5LCBuZWNlc3Nhcnlcbi8vIGZvciB0aGUgY29tbWFuZCBmb2N1c1ByZXZpb3VzVGFiLiBXZSBrZWVwIGEgcmVnaXN0ZXIgb2YgYWxsIHRoZSB0YWIgaWRzIGZvclxuLy8gZWFjaCB3aW5kb3cgaW4gb3JkZXIgb2YgcmVjZW5jeS4gVGhpcyBpcyB1c2VmdWwgaW4gY2FzZSBvbmUgb3IgbXVsdGlwbGUgdGFic1xuLy8gYXJlIHJlbW92ZWQuXG5cbmltcG9ydCBicm93c2VyIGZyb20gXCJ3ZWJleHRlbnNpb24tcG9seWZpbGxcIjtcbmltcG9ydCB7IE11dGV4IH0gZnJvbSBcImFzeW5jLW11dGV4XCI7XG5pbXBvcnQgeyByZXRyaWV2ZSwgc3RvcmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRUYWIgfSBmcm9tIFwiLi4vdXRpbHMvZ2V0Q3VycmVudFRhYlwiO1xuXG5jb25zdCBtdXRleCA9IG5ldyBNdXRleCgpO1xuXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVSZWNlbnRUYWIoXG5cdHdpbmRvd0lkOiBudW1iZXIsXG5cdHRhYklkOiBudW1iZXIsXG5cdHJlbW92ZTogYm9vbGVhblxuKSB7XG5cdC8vIEl0IGlzIHBvc3NpYmxlIHRoYXQgb25BY3RpdmF0ZWQgYW5kIG9uUmVtb3ZlZCBleGVjdXRlIGF0IHRoZSBzYW1lIHRpbWUgd2hlblxuXHQvLyBhIHRhYiBpcyByZW1vdmVkIHNvIHdlIG5lZWQgdG8gcnVuIGEgbXV0ZXggdG8gYXZvaWQgYm90aCBtb2RpZnlpbmdcblx0Ly8gdGFic0J5UmVjZW5jeSBhdCB0aGUgc2FtZSB0aW1lXG5cdGF3YWl0IG11dGV4LnJ1bkV4Y2x1c2l2ZShhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdGFic0J5UmVjZW5jeSA9IGF3YWl0IHJldHJpZXZlKFwidGFic0J5UmVjZW5jeVwiKTtcblxuXHRcdGNvbnN0IHRhYnNJZHMgPSB0YWJzQnlSZWNlbmN5W3dpbmRvd0lkXSA/PyBbXTtcblx0XHRjb25zdCBpbmRleCA9IHRhYnNJZHMuaW5kZXhPZih0YWJJZCk7XG5cblx0XHRpZiAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHR0YWJzSWRzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0fVxuXG5cdFx0aWYgKCFyZW1vdmUgJiYgdGFic0lkc1t0YWJzSWRzLmxlbmd0aCAtIDFdICE9PSB0YWJJZCkge1xuXHRcdFx0dGFic0lkcy5wdXNoKHRhYklkKTtcblx0XHR9XG5cblx0XHR0YWJzQnlSZWNlbmN5W3dpbmRvd0lkXSA9IHRhYnNJZHM7XG5cblx0XHRhd2FpdCBzdG9yZShcInRhYnNCeVJlY2VuY3lcIiwgdGFic0J5UmVjZW5jeSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFN0YXJ0IHRyYWNraW5nIHRhYnMgdG8gYmUgYWJsZSB0byB1c2UgdGhlIGNvbW1hbmQgYGZvY3VzUHJldmlvdXNUYWJgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdHJhY2tSZWNlbnRUYWJzKCkge1xuXHQvLyBXZSBuZWVkIHRvIHRyYWNrIHRoZSBpbml0aWFsIHRhYiB3aGVuIHRoZSBicm93c2VyIGZpcnN0IG9wZW5zXG5cdGNvbnN0IGN1cnJlbnRUYWIgPSBhd2FpdCBnZXRDdXJyZW50VGFiKCk7XG5cdGlmIChjdXJyZW50VGFiLndpbmRvd0lkICYmIGN1cnJlbnRUYWIuaWQpIHtcblx0XHRhd2FpdCB1cGRhdGVSZWNlbnRUYWIoY3VycmVudFRhYi53aW5kb3dJZCwgY3VycmVudFRhYi5pZCwgZmFsc2UpO1xuXHR9XG5cblx0YnJvd3Nlci50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKGFzeW5jIChhY3RpdmVJbmZvKSA9PiB7XG5cdFx0YXdhaXQgdXBkYXRlUmVjZW50VGFiKGFjdGl2ZUluZm8ud2luZG93SWQsIGFjdGl2ZUluZm8udGFiSWQsIGZhbHNlKTtcblx0fSk7XG5cblx0YnJvd3Nlci50YWJzLm9uUmVtb3ZlZC5hZGRMaXN0ZW5lcihhc3luYyAodGFiSWQsIHJlbW92ZUluZm8pID0+IHtcblx0XHRhd2FpdCB1cGRhdGVSZWNlbnRUYWIocmVtb3ZlSW5mby53aW5kb3dJZCwgdGFiSWQsIHRydWUpO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7IGFzc2VydERlZmluZWQgfSBmcm9tIFwiLi4vLi4vdHlwaW5ncy9UeXBpbmdVdGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlcXVlc3RUb0NvbnRlbnQgfSBmcm9tIFwiLi4vbWVzc2FnaW5nL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50VGFiIH0gZnJvbSBcIi4uL3V0aWxzL2dldEN1cnJlbnRUYWJcIjtcbmltcG9ydCB7IHJldHJpZXZlLCBzdG9yZSB9IGZyb20gXCIuLi8uLi9jb21tb24vc3RvcmFnZVwiO1xuaW1wb3J0IHsgUmFuZ29BY3Rpb25VcGRhdGVUb2dnbGVzIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmFuZ29BY3Rpb25cIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZUhpbnRzR2xvYmFsKCkge1xuXHRjb25zdCBoaW50c1RvZ2dsZUdsb2JhbCA9IGF3YWl0IHJldHJpZXZlKFwiaGludHNUb2dnbGVHbG9iYWxcIik7XG5cdGF3YWl0IHN0b3JlKFwiaGludHNUb2dnbGVHbG9iYWxcIiwgIWhpbnRzVG9nZ2xlR2xvYmFsKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUhpbnRzVG9nZ2xlKFxuXHRsZXZlbDogUmFuZ29BY3Rpb25VcGRhdGVUb2dnbGVzW1wiYXJnXCJdLFxuXHRlbmFibGU/OiBib29sZWFuXG4pIHtcblx0Y29uc3QgY3VycmVudFRhYiA9IGF3YWl0IGdldEN1cnJlbnRUYWIoKTtcblx0YXNzZXJ0RGVmaW5lZChjdXJyZW50VGFiLnVybCk7XG5cdGNvbnN0IHsgaG9zdCwgb3JpZ2luLCBwYXRobmFtZSB9ID0gbmV3IFVSTChjdXJyZW50VGFiLnVybCk7XG5cblx0c3dpdGNoIChsZXZlbCkge1xuXHRcdGNhc2UgXCJldmVyeXdoZXJlXCI6XG5cdFx0XHRpZiAoZW5hYmxlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0YXdhaXQgc3RvcmUoXCJoaW50c1RvZ2dsZUdsb2JhbFwiLCB0cnVlKTtcblx0XHRcdFx0YXdhaXQgc3RvcmUoXCJoaW50c1RvZ2dsZVRhYnNcIiwgbmV3IE1hcCgpKTtcblx0XHRcdFx0YXdhaXQgc3RvcmUoXCJoaW50c1RvZ2dsZUhvc3RzXCIsIG5ldyBNYXAoKSk7XG5cdFx0XHRcdGF3YWl0IHN0b3JlKFwiaGludHNUb2dnbGVQYXRoc1wiLCBuZXcgTWFwKCkpO1xuXHRcdFx0XHRhd2FpdCBzZW5kUmVxdWVzdFRvQ29udGVudCh7XG5cdFx0XHRcdFx0dHlwZTogXCJ1cGRhdGVOYXZpZ2F0aW9uVG9nZ2xlXCIsXG5cdFx0XHRcdFx0ZW5hYmxlLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwibm93XCI6IHtcblx0XHRcdGF3YWl0IHNlbmRSZXF1ZXN0VG9Db250ZW50KHtcblx0XHRcdFx0dHlwZTogXCJ1cGRhdGVOYXZpZ2F0aW9uVG9nZ2xlXCIsXG5cdFx0XHRcdGVuYWJsZSxcblx0XHRcdH0pO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Y2FzZSBcImdsb2JhbFwiOlxuXHRcdFx0YXdhaXQgc3RvcmUoXCJoaW50c1RvZ2dsZUdsb2JhbFwiLCBlbmFibGUgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBlbmFibGUpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwidGFiXCI6IHtcblx0XHRcdGNvbnN0IGhpbnRzVG9nZ2xlVGFicyA9IGF3YWl0IHJldHJpZXZlKFwiaGludHNUb2dnbGVUYWJzXCIpO1xuXHRcdFx0YXNzZXJ0RGVmaW5lZChjdXJyZW50VGFiLmlkKTtcblx0XHRcdGlmIChlbmFibGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRoaW50c1RvZ2dsZVRhYnMuZGVsZXRlKGN1cnJlbnRUYWIuaWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGludHNUb2dnbGVUYWJzLnNldChjdXJyZW50VGFiLmlkLCBlbmFibGUpO1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlVGFic1wiLCBoaW50c1RvZ2dsZVRhYnMpO1xuXG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIFwiaG9zdFwiOiB7XG5cdFx0XHRjb25zdCBoaW50c1RvZ2dsZUhvc3RzID0gYXdhaXQgcmV0cmlldmUoXCJoaW50c1RvZ2dsZUhvc3RzXCIpO1xuXHRcdFx0aWYgKGhvc3QpIHtcblx0XHRcdFx0aWYgKGVuYWJsZSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0aGludHNUb2dnbGVIb3N0cy5kZWxldGUoaG9zdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aGludHNUb2dnbGVIb3N0cy5zZXQoaG9zdCwgZW5hYmxlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlSG9zdHNcIiwgaGludHNUb2dnbGVIb3N0cyk7XG5cblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgXCJwYWdlXCI6IHtcblx0XHRcdGNvbnN0IGhpbnRzVG9nZ2xlUGF0aHMgPSBhd2FpdCByZXRyaWV2ZShcImhpbnRzVG9nZ2xlUGF0aHNcIik7XG5cdFx0XHRpZiAob3JpZ2luICYmIHBhdGhuYW1lKSB7XG5cdFx0XHRcdGlmIChlbmFibGUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGhpbnRzVG9nZ2xlUGF0aHMuZGVsZXRlKG9yaWdpbiArIHBhdGhuYW1lKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRoaW50c1RvZ2dsZVBhdGhzLnNldChvcmlnaW4gKyBwYXRobmFtZSwgZW5hYmxlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCBzdG9yZShcImhpbnRzVG9nZ2xlUGF0aHNcIiwgaGludHNUb2dnbGVQYXRocyk7XG5cblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0fVxufVxuIiwiaW1wb3J0IHsgaXNQcm9taXNlRnVsZmlsbGVkUmVzdWx0IH0gZnJvbSBcIi4uL3R5cGluZ3MvVHlwaW5nVXRpbHNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHByb21pc2VXcmFwPFQ+KFxuXHRwcm9taXNlOiBQcm9taXNlPFQ+XG4pOiBQcm9taXNlPFtUIHwgdW5kZWZpbmVkLCBhbnldPiB7XG5cdHJldHVybiBQcm9taXNlLmFsbFNldHRsZWQoW3Byb21pc2VdKS50aGVuKChbcmVzdWx0XSkgPT4ge1xuXHRcdHJldHVybiBpc1Byb21pc2VGdWxmaWxsZWRSZXN1bHQocmVzdWx0KVxuXHRcdFx0PyBbcmVzdWx0LnZhbHVlLCB1bmRlZmluZWRdXG5cdFx0XHQ6IFt1bmRlZmluZWQsIHJlc3VsdC5yZWFzb25dO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7XG5cdFJlc3BvbnNlVG9UYWxvbixcblx0VGFsb25BY3Rpb24sXG5cdFRhbG9uQWN0aW9uTGVnYWN5LFxufSBmcm9tIFwiLi4vLi4vdHlwaW5ncy9SZXF1ZXN0RnJvbVRhbG9uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb25zdHJ1Y3RUYWxvblJlc3BvbnNlKFxuXHRhY3Rpb25zOiBUYWxvbkFjdGlvbltdXG4pOiBSZXNwb25zZVRvVGFsb24ge1xuXHRmb3IgKGNvbnN0IGFjdGlvbiBvZiBhY3Rpb25zKSB7XG5cdFx0aWYgKGFjdGlvbi5uYW1lID09PSBcInR5cGVUYXJnZXRDaGFyYWN0ZXJzXCIpIHtcblx0XHRcdGFjdGlvbi5wcmV2aW91c05hbWUgPSBcIm5vSGludEZvdW5kXCI7XG5cdFx0fVxuXHR9XG5cblx0bGV0IG1haW5BY3Rpb246IFRhbG9uQWN0aW9uIHwgdW5kZWZpbmVkO1xuXHRsZXQgbGVnYWN5QWN0aW9uOiBUYWxvbkFjdGlvbkxlZ2FjeSB8IHVuZGVmaW5lZDtcblxuXHRpZiAoYWN0aW9ucy5sZW5ndGggPT09IDEpIHtcblx0XHRtYWluQWN0aW9uID0gYWN0aW9uc1swXSE7XG5cdH1cblxuXHRpZiAoYWN0aW9ucy5sZW5ndGggPiAxKSB7XG5cdFx0bWFpbkFjdGlvbiA9IGFjdGlvbnMuZmluZCgoYWN0aW9uKSA9PiBhY3Rpb24ubWFpbik7XG5cdH1cblxuXHRpZiAobWFpbkFjdGlvbikge1xuXHRcdGxlZ2FjeUFjdGlvbiA9IHtcblx0XHRcdHR5cGU6IChcInByZXZpb3VzTmFtZVwiIGluIG1haW5BY3Rpb25cblx0XHRcdFx0PyBtYWluQWN0aW9uLnByZXZpb3VzTmFtZVxuXHRcdFx0XHQ6IG1haW5BY3Rpb24ubmFtZSkgYXMgVGFsb25BY3Rpb25MZWdhY3lbXCJ0eXBlXCJdLFxuXHRcdH07XG5cdFx0aWYgKFwia2V5XCIgaW4gbWFpbkFjdGlvbikgbGVnYWN5QWN0aW9uLmtleSA9IG1haW5BY3Rpb24ua2V5O1xuXHRcdGlmIChcInRleHRUb0NvcHlcIiBpbiBtYWluQWN0aW9uKSBsZWdhY3lBY3Rpb24ua2V5ID0gbWFpbkFjdGlvbi50ZXh0VG9Db3B5O1xuXHR9IGVsc2Uge1xuXHRcdGxlZ2FjeUFjdGlvbiA9IHsgdHlwZTogXCJub0FjdGlvblwiIH07XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHR5cGU6IFwicmVzcG9uc2VcIixcblx0XHRhY3Rpb246IGxlZ2FjeUFjdGlvbixcblx0XHRhY3Rpb25zLFxuXHR9O1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgUmFuZ29BY3Rpb24gfSBmcm9tIFwiLi4vLi4vdHlwaW5ncy9SYW5nb0FjdGlvblwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRhYiB9IGZyb20gXCIuLi91dGlscy9nZXRDdXJyZW50VGFiXCI7XG5pbXBvcnQgeyBub3RpZnlTZXR0aW5nUmVtb3ZlZCB9IGZyb20gXCIuLi91dGlscy9ub3RpZnlcIjtcbmltcG9ydCB7IHRvZ2dsZUhpbnRzR2xvYmFsLCB1cGRhdGVIaW50c1RvZ2dsZSB9IGZyb20gXCIuLi9hY3Rpb25zL3RvZ2dsZUhpbnRzXCI7XG5pbXBvcnQgeyBjbG9zZVRhYnNJbldpbmRvdyB9IGZyb20gXCIuLi9hY3Rpb25zL2Nsb3NlVGFic0luV2luZG93XCI7XG5pbXBvcnQgeyB0b2dnbGVLZXlib2FyZENsaWNraW5nIH0gZnJvbSBcIi4uL2FjdGlvbnMvdG9nZ2xlS2V5Ym9hcmRDbGlja2luZ1wiO1xuaW1wb3J0IHsgZm9jdXNQcmV2aW91c1RhYiB9IGZyb20gXCIuLi9hY3Rpb25zL2ZvY3VzUHJldmlvdXNUYWJcIjtcbmltcG9ydCB7IHNlbmRSZXF1ZXN0VG9Db250ZW50IH0gZnJvbSBcIi4uL21lc3NhZ2luZy9zZW5kUmVxdWVzdFRvQ29udGVudFwiO1xuaW1wb3J0IHsgcmV0cmlldmUsIHN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBhY3RpdmF0ZVRhYiB9IGZyb20gXCIuLi9hY3Rpb25zL2FjdGl2YXRlVGFiXCI7XG5pbXBvcnQgeyBjb3B5TG9jYXRpb25Qcm9wZXJ0eSwgY29weU1hcmtkb3duVXJsIH0gZnJvbSBcIi4uL2FjdGlvbnMvY29weVRhYkluZm9cIjtcbmltcG9ydCB7IHByb21pc2VXcmFwIH0gZnJvbSBcIi4uLy4uL2xpYi9wcm9taXNlV3JhcFwiO1xuaW1wb3J0IHsgcmVmcmVzaFRhYk1hcmtlcnMgfSBmcm9tIFwiLi4vbWlzYy90YWJNYXJrZXJzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5CYWNrZ3JvdW5kQ29tbWFuZChcblx0Y29tbWFuZDogUmFuZ29BY3Rpb25cbik6IFByb21pc2U8c3RyaW5nIHwgdW5kZWZpbmVkPiB7XG5cdGNvbnN0IFtjdXJyZW50VGFiXSA9IGF3YWl0IHByb21pc2VXcmFwKGdldEN1cnJlbnRUYWIoKSk7XG5cdGNvbnN0IGN1cnJlbnRUYWJJZCA9IGN1cnJlbnRUYWI/LmlkO1xuXG5cdHN3aXRjaCAoY29tbWFuZC50eXBlKSB7XG5cdFx0Y2FzZSBcImFjdGl2YXRlVGFiXCI6IHtcblx0XHRcdGF3YWl0IGFjdGl2YXRlVGFiKGNvbW1hbmQudGFyZ2V0KTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgXCJoaXN0b3J5R29CYWNrXCI6XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRhd2FpdCBzZW5kUmVxdWVzdFRvQ29udGVudChjb21tYW5kKTtcblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRhd2FpdCBicm93c2VyLnRhYnMuZ29CYWNrKCk7XG5cdFx0XHR9XG5cblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImhpc3RvcnlHb0ZvcndhcmRcIjpcblx0XHRcdHRyeSB7XG5cdFx0XHRcdGF3YWl0IHNlbmRSZXF1ZXN0VG9Db250ZW50KGNvbW1hbmQpO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdGF3YWl0IGJyb3dzZXIudGFicy5nb0ZvcndhcmQoKTtcblx0XHRcdH1cblxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwidG9nZ2xlSGludHNcIjpcblx0XHRcdGF3YWl0IHRvZ2dsZUhpbnRzR2xvYmFsKCk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJlbmFibGVIaW50c1wiOiB7XG5cdFx0XHRhd2FpdCB1cGRhdGVIaW50c1RvZ2dsZShjb21tYW5kLmFyZywgdHJ1ZSk7XG5cdFx0XHRicmVhaztcblx0XHR9XG5cblx0XHRjYXNlIFwiZGlzYWJsZUhpbnRzXCI6XG5cdFx0XHRhd2FpdCB1cGRhdGVIaW50c1RvZ2dsZShjb21tYW5kLmFyZywgZmFsc2UpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwicmVzZXRUb2dnbGVMZXZlbFwiOlxuXHRcdFx0YXdhaXQgdXBkYXRlSGludHNUb2dnbGUoY29tbWFuZC5hcmcpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwidG9nZ2xlS2V5Ym9hcmRDbGlja2luZ1wiOlxuXHRcdFx0YXdhaXQgdG9nZ2xlS2V5Ym9hcmRDbGlja2luZygpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHQvLyBUbyBiZSByZW1vdmVkIGluIHYwLjVcblx0XHRjYXNlIFwiaW5jbHVkZVNpbmdsZUxldHRlckhpbnRzXCI6XG5cdFx0Y2FzZSBcImV4Y2x1ZGVTaW5nbGVMZXR0ZXJIaW50c1wiOlxuXHRcdGNhc2UgXCJzZXRIaW50U3R5bGVcIjpcblx0XHRjYXNlIFwic2V0SGludFdlaWdodFwiOlxuXHRcdGNhc2UgXCJlbmFibGVVcmxJblRpdGxlXCI6XG5cdFx0Y2FzZSBcImRpc2FibGVVcmxJblRpdGxlXCI6XG5cdFx0XHRhd2FpdCBub3RpZnlTZXR0aW5nUmVtb3ZlZCgpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiaW5jcmVhc2VIaW50U2l6ZVwiOiB7XG5cdFx0XHRjb25zdCBoaW50Rm9udFNpemUgPSBhd2FpdCByZXRyaWV2ZShcImhpbnRGb250U2l6ZVwiKTtcblx0XHRcdGF3YWl0IHN0b3JlKFwiaGludEZvbnRTaXplXCIsIGhpbnRGb250U2l6ZSArIDEpO1xuXHRcdFx0YnJlYWs7XG5cdFx0fVxuXG5cdFx0Y2FzZSBcImRlY3JlYXNlSGludFNpemVcIjoge1xuXHRcdFx0Y29uc3QgaGludEZvbnRTaXplID0gYXdhaXQgcmV0cmlldmUoXCJoaW50Rm9udFNpemVcIik7XG5cdFx0XHRhd2FpdCBzdG9yZShcImhpbnRGb250U2l6ZVwiLCBoaW50Rm9udFNpemUgLSAxKTtcblx0XHRcdGJyZWFrO1xuXHRcdH1cblxuXHRcdGNhc2UgXCJjbG9zZU90aGVyVGFic0luV2luZG93XCI6XG5cdFx0XHRhd2FpdCBjbG9zZVRhYnNJbldpbmRvdyhcIm90aGVyXCIpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiY2xvc2VUYWJzVG9UaGVMZWZ0SW5XaW5kb3dcIjpcblx0XHRcdGF3YWl0IGNsb3NlVGFic0luV2luZG93KFwibGVmdFwiKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImNsb3NlVGFic1RvVGhlUmlnaHRJbldpbmRvd1wiOlxuXHRcdFx0YXdhaXQgY2xvc2VUYWJzSW5XaW5kb3coXCJyaWdodFwiKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImNsb3NlVGFic0xlZnRFbmRJbldpbmRvd1wiOlxuXHRcdFx0YXdhaXQgY2xvc2VUYWJzSW5XaW5kb3coXCJsZWZ0RW5kXCIsIGNvbW1hbmQuYXJnKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImNsb3NlVGFic1JpZ2h0RW5kSW5XaW5kb3dcIjpcblx0XHRcdGF3YWl0IGNsb3NlVGFic0luV2luZG93KFwicmlnaHRFbmRcIiwgY29tbWFuZC5hcmcpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiY2xvc2VQcmV2aW91c1RhYnNJbldpbmRvd1wiOlxuXHRcdFx0YXdhaXQgY2xvc2VUYWJzSW5XaW5kb3coXCJwcmV2aW91c1wiLCBjb21tYW5kLmFyZyk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJjbG9zZU5leHRUYWJzSW5XaW5kb3dcIjpcblx0XHRcdGF3YWl0IGNsb3NlVGFic0luV2luZG93KFwibmV4dFwiLCBjb21tYW5kLmFyZyk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJjbG9uZUN1cnJlbnRUYWJcIjpcblx0XHRcdGlmIChjdXJyZW50VGFiSWQpIHtcblx0XHRcdFx0YXdhaXQgYnJvd3Nlci50YWJzLmR1cGxpY2F0ZShjdXJyZW50VGFiSWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJtb3ZlQ3VycmVudFRhYlRvTmV3V2luZG93XCI6XG5cdFx0XHRhd2FpdCBicm93c2VyLndpbmRvd3MuY3JlYXRlKHsgdGFiSWQ6IGN1cnJlbnRUYWJJZCB9KTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImZvY3VzUHJldmlvdXNUYWJcIjpcblx0XHRcdGF3YWl0IGZvY3VzUHJldmlvdXNUYWIoKTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImNvcHlMb2NhdGlvblByb3BlcnR5XCI6XG5cdFx0XHRpZiAoY3VycmVudFRhYikge1xuXHRcdFx0XHRyZXR1cm4gY29weUxvY2F0aW9uUHJvcGVydHkoY3VycmVudFRhYiwgY29tbWFuZC5hcmcpO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJjb3B5Q3VycmVudFRhYk1hcmtkb3duVXJsXCI6XG5cdFx0XHRpZiAoY3VycmVudFRhYikge1xuXHRcdFx0XHRyZXR1cm4gY29weU1hcmtkb3duVXJsKGN1cnJlbnRUYWIpO1xuXHRcdFx0fVxuXG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJvcGVuU2V0dGluZ3NQYWdlXCI6XG5cdFx0XHRhd2FpdCBicm93c2VyLnJ1bnRpbWUub3Blbk9wdGlvbnNQYWdlKCk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJvcGVuUGFnZUluTmV3VGFiXCI6XG5cdFx0XHRhd2FpdCBicm93c2VyLnRhYnMuY3JlYXRlKHsgdXJsOiBjb21tYW5kLmFyZyB9KTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcInJlZnJlc2hUYWJNYXJrZXJzXCI6XG5cdFx0XHRhd2FpdCByZWZyZXNoVGFiTWFya2VycygpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gdW5kZWZpbmVkO1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgVG9hc3RPcHRpb25zIH0gZnJvbSBcInJlYWN0LXRvYXN0aWZ5XCI7XG5pbXBvcnQgeyBzZW5kUmVxdWVzdFRvQ29udGVudCB9IGZyb20gXCIuLi9tZXNzYWdpbmcvc2VuZFJlcXVlc3RUb0NvbnRlbnRcIjtcbmltcG9ydCB7IHVybHMgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3VybHNcIjtcbmltcG9ydCB7IHJldHJpZXZlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBub3RpZnkodGV4dDogc3RyaW5nLCBvcHRpb25zPzogVG9hc3RPcHRpb25zKSB7XG5cdGlmICghKGF3YWl0IHJldHJpZXZlKFwiZW5hYmxlTm90aWZpY2F0aW9uc1wiKSkpIHJldHVybjtcblxuXHR0cnkge1xuXHRcdGF3YWl0IHNlbmRSZXF1ZXN0VG9Db250ZW50KHtcblx0XHRcdHR5cGU6IFwiZGlzcGxheVRvYXN0Tm90aWZpY2F0aW9uXCIsXG5cdFx0XHR0ZXh0LFxuXHRcdFx0b3B0aW9ucyxcblx0XHR9KTtcblx0fSBjYXRjaCB7XG5cdFx0dm9pZCBicm93c2VyLm5vdGlmaWNhdGlvbnMuY3JlYXRlKFwicmFuZ28tbm90aWZpY2F0aW9uXCIsIHtcblx0XHRcdHR5cGU6IFwiYmFzaWNcIixcblx0XHRcdGljb25Vcmw6IHVybHMuaWNvbjEyOC5ocmVmLFxuXHRcdFx0dGl0bGU6IFwiUmFuZ29cIixcblx0XHRcdG1lc3NhZ2U6IHRleHQsXG5cdFx0fSk7XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG5vdGlmeVNldHRpbmdSZW1vdmVkKCkge1xuXHRhd2FpdCBub3RpZnkoXG5cdFx0XCJUaGlzIGNvbW1hbmQgaGFzIGJlZW4gcmVtb3ZlZC4gVXBkYXRlIHJhbmdvLXRhbG9uIGFuZCB1c2UgdGhlIGNvbW1hbmQgJ3JhbmdvIHNldHRpbmdzJyB0byBvcGVuIHRoZSBzZXR0aW5ncyBwYWdlLlwiLFxuXHRcdHtcblx0XHRcdHR5cGU6IFwid2FybmluZ1wiLFxuXHRcdFx0YXV0b0Nsb3NlOiA4MDAwLFxuXHRcdH1cblx0KTtcbn1cbiIsImltcG9ydCBicm93c2VyLCB7IFRhYnMgfSBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvVHlwaW5nVXRpbHNcIjtcbmltcG9ydCB7IGdldEN1cnJlbnRUYWIsIGdldEN1cnJlbnRUYWJJZCB9IGZyb20gXCIuLi91dGlscy9nZXRDdXJyZW50VGFiXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZVRhYnNJbldpbmRvdyhcblx0dGFic1RvQ2xvc2U6XG5cdFx0fCBcIm90aGVyXCJcblx0XHR8IFwibGVmdFwiXG5cdFx0fCBcInJpZ2h0XCJcblx0XHR8IFwibGVmdEVuZFwiXG5cdFx0fCBcInJpZ2h0RW5kXCJcblx0XHR8IFwicHJldmlvdXNcIlxuXHRcdHwgXCJuZXh0XCIsXG5cdGFtb3VudD86IG51bWJlclxuKSB7XG5cdGNvbnN0IGFsbFRhYnNJbldpbmRvdyA9IGF3YWl0IGJyb3dzZXIudGFicy5xdWVyeSh7XG5cdFx0Y3VycmVudFdpbmRvdzogdHJ1ZSxcblx0fSk7XG5cblx0Y29uc3QgY3VycmVudFRhYiA9IGF3YWl0IGdldEN1cnJlbnRUYWIoKTtcblx0Y29uc3QgY3VycmVudFRhYklkID0gYXdhaXQgZ2V0Q3VycmVudFRhYklkKCk7XG5cblx0bGV0IGZpbHRlckZ1bmN0aW9uOiAodGFiOiBUYWJzLlRhYikgPT4gYm9vbGVhbjtcblxuXHRzd2l0Y2ggKHRhYnNUb0Nsb3NlKSB7XG5cdFx0Y2FzZSBcIm90aGVyXCI6XG5cdFx0XHRmaWx0ZXJGdW5jdGlvbiA9ICh0YWIpID0+IHRhYi5pZCAhPT0gY3VycmVudFRhYklkO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwibGVmdFwiOlxuXHRcdFx0ZmlsdGVyRnVuY3Rpb24gPSAodGFiKSA9PiB0YWIuaW5kZXggPCBjdXJyZW50VGFiLmluZGV4O1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwicmlnaHRcIjpcblx0XHRcdGZpbHRlckZ1bmN0aW9uID0gKHRhYikgPT4gdGFiLmluZGV4ID4gY3VycmVudFRhYi5pbmRleDtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcImxlZnRFbmRcIjpcblx0XHRcdGFzc2VydERlZmluZWQoYW1vdW50KTtcblx0XHRcdGZpbHRlckZ1bmN0aW9uID0gKHRhYikgPT4gdGFiLmluZGV4IDwgYW1vdW50O1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwicmlnaHRFbmRcIjpcblx0XHRcdGFzc2VydERlZmluZWQoYW1vdW50KTtcblx0XHRcdGZpbHRlckZ1bmN0aW9uID0gKHRhYikgPT4gdGFiLmluZGV4ID49IGFsbFRhYnNJbldpbmRvdy5sZW5ndGggLSBhbW91bnQ7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJwcmV2aW91c1wiOlxuXHRcdFx0YXNzZXJ0RGVmaW5lZChhbW91bnQpO1xuXHRcdFx0ZmlsdGVyRnVuY3Rpb24gPSAodGFiKSA9PlxuXHRcdFx0XHR0YWIuaW5kZXggPj0gY3VycmVudFRhYi5pbmRleCAtIGFtb3VudCAmJiB0YWIuaW5kZXggPCBjdXJyZW50VGFiLmluZGV4O1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwibmV4dFwiOlxuXHRcdFx0YXNzZXJ0RGVmaW5lZChhbW91bnQpO1xuXHRcdFx0ZmlsdGVyRnVuY3Rpb24gPSAodGFiKSA9PlxuXHRcdFx0XHR0YWIuaW5kZXggPiBjdXJyZW50VGFiLmluZGV4ICYmIHRhYi5pbmRleCA8PSBjdXJyZW50VGFiLmluZGV4ICsgYW1vdW50O1xuXHRcdFx0YnJlYWs7XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRjb25zdCB0YWJzSWRzVG9SZW1vdmUgPSBhbGxUYWJzSW5XaW5kb3dcblx0XHQuZmlsdGVyKCh0YWIpID0+IGZpbHRlckZ1bmN0aW9uKHRhYikpXG5cdFx0Lm1hcCgodGFiKSA9PiB0YWIuaWQpXG5cdFx0LmZpbHRlcigodGFiSWQpOiB0YWJJZCBpcyBudW1iZXIgPT4gdHlwZW9mIHRhYklkID09PSBcIm51bWJlclwiKTtcblx0YXdhaXQgYnJvd3Nlci50YWJzLnJlbW92ZSh0YWJzSWRzVG9SZW1vdmUpO1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgYXNzZXJ0RGVmaW5lZCB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1R5cGluZ1V0aWxzXCI7XG5pbXBvcnQgeyByZXRyaWV2ZSB9IGZyb20gXCIuLi8uLi9jb21tb24vc3RvcmFnZVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZm9jdXNQcmV2aW91c1RhYigpIHtcblx0Y29uc3QgdGFic0J5UmVjZW5jeSA9IGF3YWl0IHJldHJpZXZlKFwidGFic0J5UmVjZW5jeVwiKTtcblx0Y29uc3QgY3VycmVudFdpbmRvdyA9IGF3YWl0IGJyb3dzZXIud2luZG93cy5nZXRDdXJyZW50KCk7XG5cdGFzc2VydERlZmluZWQoY3VycmVudFdpbmRvdy5pZCk7XG5cdGNvbnN0IHByZXZpb3VzVGFicyA9IHRhYnNCeVJlY2VuY3lbY3VycmVudFdpbmRvdy5pZF07XG5cdGFzc2VydERlZmluZWQocHJldmlvdXNUYWJzKTtcblxuXHQvLyBUaGUgbGFzdCB0YWIgaWQgaXMgdGhlIGN1cnJlbnQgdGFiIHNvIHdlIG5lZWQgdG8gZ2V0IHRoZSBvbmUgYmVmb3JlIHRoYXRcblx0Y29uc3QgcHJldmlvdXNUYWJJZCA9IHByZXZpb3VzVGFic1twcmV2aW91c1RhYnMubGVuZ3RoIC0gMl07XG5cblx0aWYgKHByZXZpb3VzVGFiSWQpIHtcblx0XHRhd2FpdCBicm93c2VyLnRhYnMudXBkYXRlKHByZXZpb3VzVGFiSWQsIHsgYWN0aXZlOiB0cnVlIH0pO1xuXHR9XG59XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSBuby1hd2FpdC1pbi1sb29wICovXG5pbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBnZXRUYWJJZEZvck1hcmtlciB9IGZyb20gXCIuLi9taXNjL3RhYk1hcmtlcnNcIjtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Rmlyc3RUYWJCeVdpbmRvdyhtYXJrZXJzOiBzdHJpbmdbXSkge1xuXHRjb25zdCByZXN1bHQgPSBuZXcgTWFwPG51bWJlciwgYnJvd3Nlci5UYWJzLlRhYj4oKTtcblx0Zm9yIChjb25zdCBtYXJrZXIgb2YgbWFya2Vycykge1xuXHRcdGNvbnN0IHRhYklkID0gYXdhaXQgZ2V0VGFiSWRGb3JNYXJrZXIobWFya2VyKTtcblx0XHRjb25zdCB0YWIgPSBhd2FpdCBicm93c2VyLnRhYnMuZ2V0KHRhYklkKTtcblxuXHRcdGlmICh0YWIud2luZG93SWQgJiYgIXJlc3VsdC5oYXModGFiLndpbmRvd0lkKSkge1xuXHRcdFx0cmVzdWx0LnNldCh0YWIud2luZG93SWQsIHRhYik7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIEFycmF5LmZyb20ocmVzdWx0LnZhbHVlcygpKTtcbn1cblxuLyoqXG4gKiBBY3RpdmF0ZSB0aGUgdGFiIHdpdGggdGhlIGdpdmVuIG1hcmtlci4gSWYgbW9yZSB0aGFuIG9uZSBtYXJrZXIgaXMgcHJvdmlkZWRcbiAqIGl0IHdpbGwgYWN0aXZhdGUgdGhlIGdpdmVuIHRhYnMgYXMgbG9uZyBhcyB0aGV5IGJlbG9uZyB0byBkaWZmZXJlbnQgd2luZG93cy5cbiAqIEl0IHdpbGwgZm9jdXMgdGhlIHdpbmRvdyBvZiB0aGUgZmlyc3QgdGFiIHByb3ZpZGVkLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWN0aXZhdGVUYWIobWFya2Vyczogc3RyaW5nW10pIHtcblx0Y29uc3Qgc3BsaXRUYWJzID0gYXdhaXQgZ2V0Rmlyc3RUYWJCeVdpbmRvdyhtYXJrZXJzKTtcblxuXHRmb3IgKGNvbnN0IFtpbmRleCwgdGFiXSBvZiBzcGxpdFRhYnMuZW50cmllcygpKSB7XG5cdFx0YXdhaXQgYnJvd3Nlci50YWJzLnVwZGF0ZSh0YWIuaWQsIHsgYWN0aXZlOiB0cnVlIH0pO1xuXHRcdGlmIChpbmRleCA9PT0gMCkge1xuXHRcdFx0YXdhaXQgYnJvd3Nlci53aW5kb3dzLnVwZGF0ZSh0YWIud2luZG93SWQhLCB7IGZvY3VzZWQ6IHRydWUgfSk7XG5cdFx0fSBlbHNlIGlmICh0YWIuZGlzY2FyZGVkKSB7XG5cdFx0XHRhd2FpdCBicm93c2VyLnRhYnMucmVsb2FkKHRhYi5pZCk7XG5cdFx0fVxuXHR9XG59XG4iLCJpbXBvcnQgeyBUYWJzIH0gZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgcHJvbWlzZVdyYXAgfSBmcm9tIFwiLi4vLi4vbGliL3Byb21pc2VXcmFwXCI7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvVHlwaW5nVXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXF1ZXN0VG9Db250ZW50IH0gZnJvbSBcIi4uL21lc3NhZ2luZy9zZW5kUmVxdWVzdFRvQ29udGVudFwiO1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSBcIi4uL3V0aWxzL25vdGlmeVwiO1xuaW1wb3J0IHsgUmFuZ29BY3Rpb25Db3B5TG9jYXRpb25Qcm9wZXJ0eSB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1JhbmdvQWN0aW9uXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb3B5TG9jYXRpb25Qcm9wZXJ0eShcblx0dGFiOiBUYWJzLlRhYixcblx0cHJvcGVydHk6IFJhbmdvQWN0aW9uQ29weUxvY2F0aW9uUHJvcGVydHlbXCJhcmdcIl1cbikge1xuXHRhc3NlcnREZWZpbmVkKHRhYi51cmwpO1xuXG5cdGF3YWl0IG5vdGlmeShcIkNvcGllZCB0byB0aGUgY2xpcGJvYXJkXCIsIHsgdHlwZTogXCJzdWNjZXNzXCIgfSk7XG5cblx0Y29uc3QgdXJsID0gbmV3IFVSTCh0YWIudXJsKTtcblx0Y29uc3QgcmVzdWx0ID0gdXJsW3Byb3BlcnR5XTtcblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29weU1hcmtkb3duVXJsKHRhYjogVGFicy5UYWIpIHtcblx0bGV0IFt0aXRsZV0gPSAoYXdhaXQgcHJvbWlzZVdyYXAoXG5cdFx0c2VuZFJlcXVlc3RUb0NvbnRlbnQoeyB0eXBlOiBcImdldFRpdGxlQmVmb3JlRGVjb3JhdGlvblwiIH0pXG5cdCkpIGFzIFtzdHJpbmcgfCB1bmRlZmluZWQsIGFueV07XG5cblx0dGl0bGUgPz89IHRhYi50aXRsZTtcblxuXHRhc3NlcnREZWZpbmVkKHRhYi51cmwpO1xuXHRhc3NlcnREZWZpbmVkKHRpdGxlKTtcblxuXHRhd2FpdCBub3RpZnkoXCJDb3BpZWQgdG8gdGhlIGNsaXBib2FyZFwiLCB7IHR5cGU6IFwic3VjY2Vzc1wiIH0pO1xuXG5cdHJldHVybiBgWyR7dGl0bGV9XSgke3RhYi51cmx9KWA7XG59XG4iLCJpbXBvcnQgeyBSZXNwb25zZVRvVGFsb24sIFRhbG9uQWN0aW9uIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmVxdWVzdEZyb21UYWxvblwiO1xuaW1wb3J0IHsgUmFuZ29BY3Rpb24gfSBmcm9tIFwiLi4vLi4vdHlwaW5ncy9SYW5nb0FjdGlvblwiO1xuaW1wb3J0IHsgc2VuZFJlcXVlc3RUb0NvbnRlbnQgfSBmcm9tIFwiLi4vbWVzc2FnaW5nL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5pbXBvcnQgeyBjb25zdHJ1Y3RUYWxvblJlc3BvbnNlIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0cnVjdFRhbG9uUmVzcG9uc2VcIjtcbmltcG9ydCB7IHJ1bkJhY2tncm91bmRDb21tYW5kIH0gZnJvbSBcIi4vcnVuQmFja2dyb3VuZENvbW1hbmRcIjtcblxuY29uc3QgYmFja2dyb3VuZENvbW1hbmRzID0gbmV3IFNldChbXG5cdFwidG9nZ2xlSGludHNcIixcblx0XCJlbmFibGVIaW50c1wiLFxuXHRcImRpc2FibGVIaW50c1wiLFxuXHRcInJlc2V0VG9nZ2xlTGV2ZWxcIixcblx0XCJpbmNyZWFzZUhpbnRTaXplXCIsXG5cdFwiZGVjcmVhc2VIaW50U2l6ZVwiLFxuXHRcInNldEhpbnRTdHlsZVwiLFxuXHRcInNldEhpbnRXZWlnaHRcIixcblx0XCJjb3B5TG9jYXRpb25Qcm9wZXJ0eVwiLFxuXHRcImNvcHlDdXJyZW50VGFiTWFya2Rvd25VcmxcIixcblx0XCJlbmFibGVVcmxJblRpdGxlXCIsXG5cdFwiZGlzYWJsZVVybEluVGl0bGVcIixcblx0XCJleGNsdWRlU2luZ2xlTGV0dGVySGludHNcIixcblx0XCJpbmNsdWRlU2luZ2xlTGV0dGVySGludHNcIixcblx0XCJjbG9zZU90aGVyVGFic0luV2luZG93XCIsXG5cdFwiY2xvc2VUYWJzVG9UaGVMZWZ0SW5XaW5kb3dcIixcblx0XCJjbG9zZVRhYnNUb1RoZVJpZ2h0SW5XaW5kb3dcIixcblx0XCJjbG9zZVRhYnNMZWZ0RW5kSW5XaW5kb3dcIixcblx0XCJjbG9zZVRhYnNSaWdodEVuZEluV2luZG93XCIsXG5cdFwiY2xvc2VQcmV2aW91c1RhYnNJbldpbmRvd1wiLFxuXHRcImNsb3NlTmV4dFRhYnNJbldpbmRvd1wiLFxuXHRcImNsb25lQ3VycmVudFRhYlwiLFxuXHRcInRvZ2dsZUtleWJvYXJkQ2xpY2tpbmdcIixcblx0XCJtb3ZlQ3VycmVudFRhYlRvTmV3V2luZG93XCIsXG5cdFwiZm9jdXNQcmV2aW91c1RhYlwiLFxuXHRcImhpc3RvcnlHb0JhY2tcIixcblx0XCJoaXN0b3J5R29Gb3J3YXJkXCIsXG5cdFwib3BlblNldHRpbmdzUGFnZVwiLFxuXHRcIm9wZW5QYWdlSW5OZXdUYWJcIixcblx0XCJhY3RpdmF0ZVRhYlwiLFxuXHRcInJlZnJlc2hUYWJNYXJrZXJzXCIsXG5dKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc3BhdGNoQ29tbWFuZChcblx0Y29tbWFuZDogUmFuZ29BY3Rpb25cbik6IFByb21pc2U8UmVzcG9uc2VUb1RhbG9uPiB7XG5cdGNvbnN0IHJlc3VsdCA9IChhd2FpdCAoYmFja2dyb3VuZENvbW1hbmRzLmhhcyhjb21tYW5kLnR5cGUpXG5cdFx0PyBydW5CYWNrZ3JvdW5kQ29tbWFuZChjb21tYW5kKVxuXHRcdDogc2VuZFJlcXVlc3RUb0NvbnRlbnQoY29tbWFuZCkpKSBhcyBzdHJpbmcgfCBUYWxvbkFjdGlvbltdIHwgdW5kZWZpbmVkO1xuXG5cdGlmICh0eXBlb2YgcmVzdWx0ID09PSBcInN0cmluZ1wiKSB7XG5cdFx0cmV0dXJuIGNvbnN0cnVjdFRhbG9uUmVzcG9uc2UoW1xuXHRcdFx0e1xuXHRcdFx0XHRuYW1lOiBcImNvcHlUb0NsaXBib2FyZFwiLFxuXHRcdFx0XHR0ZXh0VG9Db3B5OiByZXN1bHQsXG5cdFx0XHR9LFxuXHRcdF0pO1xuXHR9XG5cblx0Ly8gSW4gRmlyZWZveCwgd2hlbiB3ZSBwZXJmb3JtIHdpbmRvdy5mb2N1cygpIGluIHRoZSBjb250ZW50IHNjcmlwdCwgdGhlIHBhZ2Vcblx0Ly8gZG9lc24ndCByZWNlaXZlIGZvY3VzIGltbWVkaWF0ZWx5LiBJdCBzZWVtcyBsaWtlIHRoZSBwYWdlIGRvZXNuJ3QgZm9jdXNcblx0Ly8gdW50aWwgdGhlIGNvbnRlbnQgc2NyaXB0IGZpbmlzaGVzIGhhbmRsaW5nIHRoZSBjdXJyZW50IG1lc3NhZ2UgY2FsbGJhY2suXG5cdC8vIEhlcmUgd2UgY2hlY2sgYWdhaW4gYW5kIHJlbW92ZSB0aGUgXCJmb2N1c1BhZ2VcIiBhY3Rpb24gaWYgbmVjZXNzYXJ5LlxuXHRpZiAocmVzdWx0KSB7XG5cdFx0Y29uc3QgZm9jdXNBY3Rpb25JbmRleCA9IHJlc3VsdC5maW5kSW5kZXgoXG5cdFx0XHQoYWN0aW9uKSA9PiBhY3Rpb24ubmFtZSA9PT0gXCJmb2N1c1BhZ2VcIlxuXHRcdCk7XG5cblx0XHRpZiAoZm9jdXNBY3Rpb25JbmRleCAhPT0gLTEpIHtcblx0XHRcdGNvbnN0IGRvY3VtZW50SGFzRm9jdXMgPSBhd2FpdCBzZW5kUmVxdWVzdFRvQ29udGVudCh7XG5cdFx0XHRcdHR5cGU6IFwiY2hlY2tJZkRvY3VtZW50SGFzRm9jdXNcIixcblx0XHRcdH0pO1xuXG5cdFx0XHRpZiAoZG9jdW1lbnRIYXNGb2N1cykge1xuXHRcdFx0XHRyZXN1bHQuc3BsaWNlKGZvY3VzQWN0aW9uSW5kZXgsIDEpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBjb25zdHJ1Y3RUYWxvblJlc3BvbnNlKHJlc3VsdCA/PyBbXSk7XG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyB1cmxzIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi91cmxzXCI7XG5cbmltcG9ydCB7XG5cdFJlcXVlc3RGcm9tVGFsb24sXG5cdFJlc3BvbnNlVG9UYWxvbixcbn0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmVxdWVzdEZyb21UYWxvblwiO1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSBcIi4vbm90aWZ5XCI7XG5pbXBvcnQgeyBpc1NhZmFyaSB9IGZyb20gXCIuL2lzU2FmYXJpXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENsaXBib2FyZE1hbmlmZXN0VjMoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgaGFzRG9jdW1lbnQgPSBhd2FpdCBjaHJvbWUub2Zmc2NyZWVuLmhhc0RvY3VtZW50KCk7XG5cdGlmIChoYXNEb2N1bWVudCkgYXdhaXQgY2hyb21lLm9mZnNjcmVlbi5jbG9zZURvY3VtZW50KCk7XG5cblx0YXdhaXQgY2hyb21lLm9mZnNjcmVlbi5jcmVhdGVEb2N1bWVudCh7XG5cdFx0dXJsOiB1cmxzLm9mZnNjcmVlbkRvY3VtZW50LmhyZWYsXG5cdFx0cmVhc29uczogW2Nocm9tZS5vZmZzY3JlZW4uUmVhc29uLkNMSVBCT0FSRF0sXG5cdFx0anVzdGlmaWNhdGlvbjogXCJSZWFkIHRoZSByZXF1ZXN0IGZyb20gVGFsb24gZnJvbSB0aGUgY2xpcGJvYXJkXCIsXG5cdH0pO1xuXG5cdHJldHVybiBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZSh7XG5cdFx0dHlwZTogXCJyZWFkLWNsaXBib2FyZFwiLFxuXHRcdHRhcmdldDogXCJvZmZzY3JlZW4tZG9jXCIsXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb3B5VG9DbGlwYm9hcmRNYW5pZmVzdFYzKHRleHQ6IHN0cmluZykge1xuXHRjb25zdCBoYXNEb2N1bWVudCA9IGF3YWl0IGNocm9tZS5vZmZzY3JlZW4uaGFzRG9jdW1lbnQoKTtcblx0aWYgKGhhc0RvY3VtZW50KSBhd2FpdCBjaHJvbWUub2Zmc2NyZWVuLmNsb3NlRG9jdW1lbnQoKTtcblxuXHRhd2FpdCBjaHJvbWUub2Zmc2NyZWVuLmNyZWF0ZURvY3VtZW50KHtcblx0XHR1cmw6IHVybHMub2Zmc2NyZWVuRG9jdW1lbnQuaHJlZixcblx0XHRyZWFzb25zOiBbY2hyb21lLm9mZnNjcmVlbi5SZWFzb24uQ0xJUEJPQVJEXSxcblx0XHRqdXN0aWZpY2F0aW9uOiBcIldyaXRlIHRoZSByZXNwb25zZSB0byBUYWxvbiB0byB0aGUgY2xpcGJvYXJkXCIsXG5cdH0pO1xuXG5cdGF3YWl0IGNocm9tZS5ydW50aW1lLnNlbmRNZXNzYWdlKHtcblx0XHR0eXBlOiBcImNvcHktdG8tY2xpcGJvYXJkXCIsXG5cdFx0dGFyZ2V0OiBcIm9mZnNjcmVlbi1kb2NcIixcblx0XHR0ZXh0LFxuXHR9KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0VGV4dEZyb21DbGlwYm9hcmQoKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0aWYgKGlzU2FmYXJpKCkpIHtcblx0XHRjb25zdCByZXNwb25zZSA9IChhd2FpdCBicm93c2VyLnJ1bnRpbWUuc2VuZE5hdGl2ZU1lc3NhZ2UoXCJcIiwge1xuXHRcdFx0cmVxdWVzdDogXCJnZXRUZXh0RnJvbUNsaXBib2FyZFwiLFxuXHRcdH0pKSBhcyB7IHRleHRGcm9tQ2xpcGJvYXJkOiBzdHJpbmcgfTtcblxuXHRcdHJldHVybiByZXNwb25zZS50ZXh0RnJvbUNsaXBib2FyZDtcblx0fVxuXG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkKSB7XG5cdFx0cmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKTtcblx0fVxuXG5cdHJldHVybiBnZXRDbGlwYm9hcmRNYW5pZmVzdFYzKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSZXF1ZXN0RnJvbUNsaXBib2FyZCgpOiBQcm9taXNlPFxuXHRSZXF1ZXN0RnJvbVRhbG9uIHwgdW5kZWZpbmVkXG4+IHtcblx0Y29uc3QgY2xpcFRleHQgPSBhd2FpdCBnZXRUZXh0RnJvbUNsaXBib2FyZCgpO1xuXHRsZXQgcmVxdWVzdDogUmVxdWVzdEZyb21UYWxvbjtcblx0aWYgKGNsaXBUZXh0KSB7XG5cdFx0dHJ5IHtcblx0XHRcdHJlcXVlc3QgPSBKU09OLnBhcnNlKGNsaXBUZXh0KSBhcyBSZXF1ZXN0RnJvbVRhbG9uO1xuXHRcdFx0Ly8gVGhpcyBpcyBqdXN0IHRvIGJlIGV4dHJhIHNhZmVcblx0XHRcdGlmIChyZXF1ZXN0LnR5cGUgIT09IFwicmVxdWVzdFwiKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRcdFx0J0Vycm9yOiBUaGUgbWVzc2FnZSBwcmVzZW50IGluIHRoZSBjbGlwYm9hcmQgaXMgbm90IG9mIHR5cGUgXCJyZXF1ZXN0XCInXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXF1ZXN0O1xuXHRcdH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG5cdFx0XHQvLyBXZSBhbHJlYWR5IGNoZWNrIHRoYXQgd2UgYXJlIHNlbmRpbmcgdmFsaWQganNvbiBpbiByYW5nby10YWxvbiwgYnV0XG5cdFx0XHQvLyBqdXN0IHRvIGJlIGV4dHJhIHN1cmVcblx0XHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIFN5bnRheEVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRhd2FpdCBub3RpZnkoXCJVbmFibGUgdG8gcmVhZCB0aGUgcmVxdWVzdCBwcmVzZW50IG9uIHRoZSBjbGlwYm9hcmRcIiwge1xuXHRcdFx0dHlwZTogXCJlcnJvclwiLFxuXHRcdH0pO1xuXHR9XG5cblx0cmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlUmVzcG9uc2VUb0NsaXBib2FyZChyZXNwb25zZTogUmVzcG9uc2VUb1RhbG9uKSB7XG5cdC8vIFdlIHNlbmQgdGhlIHJlc3BvbnNlIHNvIHRoYXQgdGFsb24gY2FuIG1ha2Ugc3VyZSB0aGUgcmVxdWVzdCB3YXMgcmVjZWl2ZWRcblx0Ly8gYW5kIHRvIHRlbGwgdGFsb24gdG8gZXhlY3V0ZSBhbnkgYWN0aW9uc1xuXHRjb25zdCBqc29uUmVzcG9uc2UgPSBKU09OLnN0cmluZ2lmeShyZXNwb25zZSk7XG5cdGlmIChuYXZpZ2F0b3IuY2xpcGJvYXJkKSB7XG5cdFx0aWYgKGlzU2FmYXJpKCkpIHtcblx0XHRcdGNvbnN0IGNvcHlQYXN0ZUFyZWEgPVxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvcHktcGFzdGUtYXJlYVwiKSA/P1xuXHRcdFx0XHRkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIik7XG5cdFx0XHRjb3B5UGFzdGVBcmVhLmlkID0gXCJjb3B5LXBhc3RlLWFyZWFcIjtcblx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kKGNvcHlQYXN0ZUFyZWEpO1xuXHRcdFx0aWYgKGNvcHlQYXN0ZUFyZWEgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG5cdFx0XHRcdGNvcHlQYXN0ZUFyZWEudmFsdWUgPSBqc29uUmVzcG9uc2U7XG5cdFx0XHRcdGNvcHlQYXN0ZUFyZWEuc2VsZWN0KCk7XG5cdFx0XHRcdGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiY29weVwiKTtcblx0XHRcdFx0Y29weVBhc3RlQXJlYS52YWx1ZSA9IFwiXCI7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGpzb25SZXNwb25zZSk7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIGNvcHlUb0NsaXBib2FyZE1hbmlmZXN0VjMoanNvblJlc3BvbnNlKTtcbn1cbiIsImltcG9ydCB7IHByb21pc2VXcmFwIH0gZnJvbSBcIi4uLy4uL2xpYi9wcm9taXNlV3JhcFwiO1xuaW1wb3J0IHsgc2VuZFJlcXVlc3RUb0NvbnRlbnQgfSBmcm9tIFwiLi4vbWVzc2FnaW5nL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5cbmxldCB0cmllZFRvRm9jdXNEb2N1bWVudCA9IGZhbHNlO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvdWxkVHJ5VG9Gb2N1c0RvY3VtZW50KCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuXHQvLyBUaGlzIG9ubHkgd29ya3MgaW4gRmlyZWZveCwgYW5kIEknbSBub3Qgc3VyZSBpZiBhbHdheXNcblx0YXdhaXQgc2VuZFJlcXVlc3RUb0NvbnRlbnQoeyB0eXBlOiBcInRyeVRvRm9jdXNQYWdlXCIgfSk7XG5cblx0Y29uc3QgW2ZvY3VzZWREb2N1bWVudF0gPSBhd2FpdCBwcm9taXNlV3JhcChcblx0XHRzZW5kUmVxdWVzdFRvQ29udGVudCh7XG5cdFx0XHR0eXBlOiBcImNoZWNrSWZEb2N1bWVudEhhc0ZvY3VzXCIsXG5cdFx0fSlcblx0KTtcblxuXHRpZiAoIWZvY3VzZWREb2N1bWVudCAmJiAhdHJpZWRUb0ZvY3VzRG9jdW1lbnQpIHtcblx0XHR0cmllZFRvRm9jdXNEb2N1bWVudCA9IHRydWU7XG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHR0cmllZFRvRm9jdXNEb2N1bWVudCA9IGZhbHNlO1xuXHRcdH0sIDMwMDApO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRhYklkIH0gZnJvbSBcIi4vZ2V0Q3VycmVudFRhYlwiO1xuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBhY3RpdmUgZWxlbWVudCBpbiB0aGUgZm9jdXNlZCBmcmFtZSAoaWYgYW55KSBpcyBlZGl0YWJsZVxuICpcbiAqIEByZXR1cm5zIFJlc29sdmVzIHRvIHRydWUgaWYgdGhlIHBhZ2UgaGFzIGZvY3VzIGFuZCB0aGUgYWN0aXZlIGVsZW1lbnQgaXNcbiAqIGVkaXRhYmxlLCBvdGhlcndpc2UgcmVzb2x2ZXMgdG8gZmFsc2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNoZWNrQWN0aXZlRWxlbWVudElzRWRpdGFibGUoKSB7XG5cdGNvbnN0IHRhYklkID0gYXdhaXQgZ2V0Q3VycmVudFRhYklkKCk7XG5cdGNvbnN0IGZyYW1lcyA9IGF3YWl0IGJyb3dzZXIud2ViTmF2aWdhdGlvbi5nZXRBbGxGcmFtZXMoeyB0YWJJZCB9KTtcblxuXHRjb25zdCBzZW5kaW5nID0gZnJhbWVzLm1hcChhc3luYyAoZnJhbWUpID0+IHtcblx0XHRyZXR1cm4gYnJvd3Nlci50YWJzLnNlbmRNZXNzYWdlKFxuXHRcdFx0dGFiSWQsXG5cdFx0XHR7XG5cdFx0XHRcdHR5cGU6IFwiY2hlY2tBY3RpdmVFbGVtZW50SXNFZGl0YWJsZVwiLFxuXHRcdFx0fSxcblx0XHRcdHsgZnJhbWVJZDogZnJhbWUuZnJhbWVJZCB9XG5cdFx0KTtcblx0fSk7XG5cblx0Y29uc3QgcmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKHNlbmRpbmcpO1xuXG5cdHJldHVybiByZXN1bHRzLmluY2x1ZGVzKHRydWUpO1xufVxuIiwiaW1wb3J0IHsgcmV0cmlldmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL3N0b3JhZ2VcIjtcbmltcG9ydCB7IHByb21pc2VXcmFwIH0gZnJvbSBcIi4uLy4uL2xpYi9wcm9taXNlV3JhcFwiO1xuaW1wb3J0IHsgUmVxdWVzdEZyb21UYWxvbiB9IGZyb20gXCIuLi8uLi90eXBpbmdzL1JlcXVlc3RGcm9tVGFsb25cIjtcbmltcG9ydCB7IGRpc3BhdGNoQ29tbWFuZCB9IGZyb20gXCIuLi9jb21tYW5kcy9kaXNwYXRjaENvbW1hbmRcIjtcbmltcG9ydCB7XG5cdGdldFJlcXVlc3RGcm9tQ2xpcGJvYXJkLFxuXHR3cml0ZVJlc3BvbnNlVG9DbGlwYm9hcmQsXG59IGZyb20gXCIuLi91dGlscy9jbGlwYm9hcmRcIjtcbmltcG9ydCB7IGNvbnN0cnVjdFRhbG9uUmVzcG9uc2UgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RydWN0VGFsb25SZXNwb25zZVwiO1xuaW1wb3J0IHsgbm90aWZ5IH0gZnJvbSBcIi4uL3V0aWxzL25vdGlmeVwiO1xuaW1wb3J0IHsgc2hvdWxkVHJ5VG9Gb2N1c0RvY3VtZW50IH0gZnJvbSBcIi4uL3V0aWxzL3Nob3VsZFRyeVRvRm9jdXNEb2N1bWVudFwiO1xuaW1wb3J0IHsgY2hlY2tBY3RpdmVFbGVtZW50SXNFZGl0YWJsZSB9IGZyb20gXCIuLi91dGlscy9jaGVja0FjdGl2ZUVsZW1lbnRJc0VkaXRhYmxlXCI7XG5pbXBvcnQgeyBzZW5kUmVxdWVzdFRvQ29udGVudCB9IGZyb20gXCIuL3NlbmRSZXF1ZXN0VG9Db250ZW50XCI7XG5cbmxldCB0YWxvbklzV2FpdGluZ0ZvclJlc3BvbnNlID0gZmFsc2U7XG5cbmFzeW5jIGZ1bmN0aW9uIHdyaXRlVHlwZUNoYXJhY3RlcnNSZXNwb25zZSgpIHtcblx0YXdhaXQgd3JpdGVSZXNwb25zZVRvQ2xpcGJvYXJkKHtcblx0XHR0eXBlOiBcInJlc3BvbnNlXCIsXG5cdFx0YWN0aW9uOiB7IHR5cGU6IFwibm9IaW50Rm91bmRcIiB9LFxuXHRcdGFjdGlvbnM6IFtcblx0XHRcdHtcblx0XHRcdFx0bmFtZTogXCJ0eXBlVGFyZ2V0Q2hhcmFjdGVyc1wiLFxuXHRcdFx0fSxcblx0XHRdLFxuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXNvbHZlcyB3aXRoIHRydWUgaWYgdGhlIHJlcXVlc3QgaXMgaGFuZGxlZCwgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEaXJlY3RDbGlja0VsZW1lbnRSZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3RGcm9tVGFsb24pIHtcblx0aWYgKHJlcXVlc3QuYWN0aW9uLnR5cGUgIT09IFwiZGlyZWN0Q2xpY2tFbGVtZW50XCIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcIlRoaXMgZnVuY3Rpb24gaXMgb25seSB0byBiZSBjYWxsZWQgd2l0aCBhIGRpcmVjdENsaWNrRWxlbWVudCByZXF1ZXN0XCJcblx0XHQpO1xuXHR9XG5cblx0Ly8gV2UgZG9uJ3QgY29uc2lkZXIgdGhlIHVzZXIgbWlnaHQgaGF2ZSBpbnRlbmRlZCB0byB0eXBlIHdoZW4gdGhlcmUgYXJlIG1vcmVcblx0Ly8gdGhhbiBvbmUgdGFyZ2V0IHNpbmNlIHRoZSBjb25uZWN0b3IgYGFuZGAgbmVlZHMgdG8gYmUgdXNlZC5cblx0aWYgKHJlcXVlc3QuYWN0aW9uLnRhcmdldC5sZW5ndGggPiAxKSByZXR1cm4gZmFsc2U7XG5cblx0aWYgKCEoYXdhaXQgcmV0cmlldmUoXCJkaXJlY3RDbGlja1dpdGhOb0ZvY3VzZWREb2N1bWVudFwiKSkpIHtcblx0XHRjb25zdCBbZm9jdXNlZERvY3VtZW50XSA9IGF3YWl0IHByb21pc2VXcmFwKFxuXHRcdFx0c2VuZFJlcXVlc3RUb0NvbnRlbnQoeyB0eXBlOiBcImNoZWNrSWZEb2N1bWVudEhhc0ZvY3VzXCIgfSlcblx0XHQpO1xuXG5cdFx0aWYgKCFmb2N1c2VkRG9jdW1lbnQpIHtcblx0XHRcdGF3YWl0IHdyaXRlVHlwZUNoYXJhY3RlcnNSZXNwb25zZSgpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0aWYgKFxuXHRcdCEoYXdhaXQgcmV0cmlldmUoXCJkaXJlY3RDbGlja1doZW5FZGl0aW5nXCIpKSAmJlxuXHRcdChhd2FpdCBjaGVja0FjdGl2ZUVsZW1lbnRJc0VkaXRhYmxlKCkpXG5cdCkge1xuXHRcdGF3YWl0IHdyaXRlVHlwZUNoYXJhY3RlcnNSZXNwb25zZSgpO1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZyb21UYWxvbigpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXF1ZXN0ID0gYXdhaXQgZ2V0UmVxdWVzdEZyb21DbGlwYm9hcmQoKTtcblx0XHRpZiAocHJvY2Vzcy5lbnZbXCJOT0RFX0VOVlwiXSAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcblx0XHRcdGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlcXVlc3QsIG51bGwsIDIpKTtcblx0XHR9XG5cblx0XHRpZiAoIXJlcXVlc3QpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0YWxvbklzV2FpdGluZ0ZvclJlc3BvbnNlID0gIShyZXF1ZXN0LmFjdGlvbi50eXBlID09PSBcInJlcXVlc3RUaW1lZE91dFwiKTtcblxuXHRcdGlmIChyZXF1ZXN0LmFjdGlvbi50eXBlID09PSBcImRpcmVjdENsaWNrRWxlbWVudFwiKSB7XG5cdFx0XHRjb25zdCBpc1JlcXVlc3RIYW5kbGVkID0gYXdhaXQgaGFuZGxlRGlyZWN0Q2xpY2tFbGVtZW50UmVxdWVzdChyZXF1ZXN0KTtcblx0XHRcdGlmIChpc1JlcXVlc3RIYW5kbGVkKSByZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gRm9yIHRoZXNlIHRocmVlIGFjdGlvbnMgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCB0aGUgZG9jdW1lbnQgaXMgZm9jdXNlZFxuXHRcdC8vIG9yIHRoZXkgbWlnaHQgZmFpbFxuXHRcdGlmIChcblx0XHRcdChyZXF1ZXN0LmFjdGlvbi50eXBlID09PSBcInNldFNlbGVjdGlvbkFmdGVyXCIgfHxcblx0XHRcdFx0cmVxdWVzdC5hY3Rpb24udHlwZSA9PT0gXCJzZXRTZWxlY3Rpb25CZWZvcmVcIiB8fFxuXHRcdFx0XHRyZXF1ZXN0LmFjdGlvbi50eXBlID09PSBcInRyeVRvRm9jdXNFbGVtZW50QW5kQ2hlY2tJc0VkaXRhYmxlXCIpICYmXG5cdFx0XHQoYXdhaXQgc2hvdWxkVHJ5VG9Gb2N1c0RvY3VtZW50KCkpXG5cdFx0KSB7XG5cdFx0XHRjb25zdCByZXNwb25zZSA9IGNvbnN0cnVjdFRhbG9uUmVzcG9uc2UoW3sgbmFtZTogXCJmb2N1c1BhZ2VBbmRSZXNlbmRcIiB9XSk7XG5cdFx0XHRhd2FpdCB3cml0ZVJlc3BvbnNlVG9DbGlwYm9hcmQocmVzcG9uc2UpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGlzcGF0Y2hDb21tYW5kKHJlcXVlc3QuYWN0aW9uKTtcblx0XHRpZiAodGFsb25Jc1dhaXRpbmdGb3JSZXNwb25zZSkge1xuXHRcdFx0YXdhaXQgd3JpdGVSZXNwb25zZVRvQ2xpcGJvYXJkKHJlc3BvbnNlKTtcblx0XHRcdHRhbG9uSXNXYWl0aW5nRm9yUmVzcG9uc2UgPSBmYWxzZTtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHRcdFx0YXdhaXQgbm90aWZ5KGVycm9yLm1lc3NhZ2UsIHsgdHlwZTogXCJlcnJvclwiIH0pO1xuXHRcdH1cblx0fVxufVxuIiwiaW1wb3J0IGJyb3dzZXIgZnJvbSBcIndlYmV4dGVuc2lvbi1wb2x5ZmlsbFwiO1xuaW1wb3J0IHsgUmVxdWVzdEZyb21Db250ZW50IH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvUmVxdWVzdEZyb21Db250ZW50XCI7XG5pbXBvcnQgeyBhc3NlcnREZWZpbmVkIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvVHlwaW5nVXRpbHNcIjtcbmltcG9ydCB7XG5cdGNsYWltSGludHMsXG5cdGluaXRTdGFjayxcblx0cmVjbGFpbUhpbnRzRnJvbU90aGVyRnJhbWVzLFxuXHRyZWxlYXNlSGludHMsXG5cdHN0b3JlSGludHNJbkZyYW1lLFxuXHR3aXRoU3RhY2ssXG59IGZyb20gXCIuLi9oaW50cy9oaW50c0FsbG9jYXRvclwiO1xuaW1wb3J0IHsgZ2V0Q3VycmVudFRhYklkIH0gZnJvbSBcIi4uL3V0aWxzL2dldEN1cnJlbnRUYWJcIjtcbmltcG9ydCB7IG9wZW5Jbk5ld1RhYiB9IGZyb20gXCIuLi9hY3Rpb25zL29wZW5Jbk5ld1RhYlwiO1xuaW1wb3J0IHsgZ2V0VGFiTWFya2VyIH0gZnJvbSBcIi4uL21pc2MvdGFiTWFya2Vyc1wiO1xuaW1wb3J0IHtcblx0cmVzZXRDdXN0b21TZWxlY3RvcnMsXG5cdHN0b3JlQ3VzdG9tU2VsZWN0b3JzLFxufSBmcm9tIFwiLi4vdXRpbHMvc3RvcmVDdXN0b21TZWxlY3RvcnNcIjtcbmltcG9ydCB7IHNlbmRSZXF1ZXN0VG9Db250ZW50IH0gZnJvbSBcIi4vc2VuZFJlcXVlc3RUb0NvbnRlbnRcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGcm9tQ29udGVudChcblx0cmVxdWVzdDogUmVxdWVzdEZyb21Db250ZW50LFxuXHRzZW5kZXI6IGJyb3dzZXIuUnVudGltZS5NZXNzYWdlU2VuZGVyXG4pIHtcblx0YXNzZXJ0RGVmaW5lZChzZW5kZXIudGFiKTtcblx0Y29uc3QgdGFiSWQgPSBzZW5kZXIudGFiLmlkO1xuXHRjb25zdCBsYXN0Rm9jdXNlZFdpbmRvdyA9IGF3YWl0IGJyb3dzZXIud2luZG93cy5nZXRMYXN0Rm9jdXNlZCgpO1xuXHRjb25zdCBpc0N1cnJlbnRUYWIgPVxuXHRcdHNlbmRlci50YWIuYWN0aXZlICYmIHNlbmRlci50YWIud2luZG93SWQgPT09IGxhc3RGb2N1c2VkV2luZG93LmlkO1xuXHRjb25zdCBjdXJyZW50VGFiSWQgPSBhd2FpdCBnZXRDdXJyZW50VGFiSWQoKTtcblx0YXNzZXJ0RGVmaW5lZCh0YWJJZCk7XG5cdGNvbnN0IGZyYW1lSWQgPSBzZW5kZXIuZnJhbWVJZCA/PyAwO1xuXG5cdHN3aXRjaCAocmVxdWVzdC50eXBlKSB7XG5cdFx0Y2FzZSBcImluaXRTdGFja1wiOlxuXHRcdFx0Ly8gVGhpcyBpcyB0byBiZSBleHRyYSBzYWZlIGFzIHdlIGFscmVhZHkgbWFrZSBzdXJlIHdlIGFyZSBvbmx5IHNlbmRpbmdcblx0XHRcdC8vIHRoaXMgcmVxdWVzdCBmcm9tIHRoZSBtYWluIGZyYW1lIG9mIHRoZSBjb250ZW50IHNjcmlwdFxuXHRcdFx0aWYgKGZyYW1lSWQgIT09IDApIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKFxuXHRcdFx0XHRcdFwiSWdub3JpbmcgcmVxdWVzdCB0byBpbml0aWF0ZSBzdGFjayB0aGF0IGRvZXNuJ3QgY29tZSBmcm9tIHRoZSBtYWluIGZyYW1lXCJcblx0XHRcdFx0KTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gaW5pdFN0YWNrKHRhYklkKTtcblxuXHRcdGNhc2UgXCJjbGFpbUhpbnRzXCI6XG5cdFx0XHRyZXR1cm4gY2xhaW1IaW50cyh0YWJJZCwgZnJhbWVJZCwgcmVxdWVzdC5hbW91bnQpO1xuXG5cdFx0Y2FzZSBcInJlY2xhaW1IaW50c0Zyb21PdGhlckZyYW1lc1wiOlxuXHRcdFx0cmV0dXJuIHJlY2xhaW1IaW50c0Zyb21PdGhlckZyYW1lcyh0YWJJZCwgZnJhbWVJZCwgcmVxdWVzdC5hbW91bnQpO1xuXG5cdFx0Y2FzZSBcInJlbGVhc2VIaW50c1wiOlxuXHRcdFx0cmV0dXJuIHJlbGVhc2VIaW50cyh0YWJJZCwgcmVxdWVzdC5oaW50cyk7XG5cblx0XHRjYXNlIFwic3RvcmVIaW50c0luRnJhbWVcIjpcblx0XHRcdHJldHVybiBzdG9yZUhpbnRzSW5GcmFtZSh0YWJJZCwgZnJhbWVJZCwgcmVxdWVzdC5oaW50cyk7XG5cblx0XHRjYXNlIFwiZ2V0SGludHNTdGFja0ZvclRhYlwiOlxuXHRcdFx0cmV0dXJuIHdpdGhTdGFjayh0YWJJZCwgYXN5bmMgKHN0YWNrKSA9PiB7XG5cdFx0XHRcdHJldHVybiBzdGFjaztcblx0XHRcdH0pO1xuXG5cdFx0Y2FzZSBcIm9wZW5Jbk5ld1RhYlwiOlxuXHRcdFx0YXdhaXQgb3BlbkluTmV3VGFiKFtyZXF1ZXN0LnVybF0sIHRydWUpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwib3BlbkluQmFja2dyb3VuZFRhYlwiOlxuXHRcdFx0YXdhaXQgb3BlbkluTmV3VGFiKHJlcXVlc3QubGlua3MsIGZhbHNlKTtcblxuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiZ2V0Q29udGVudFNjcmlwdENvbnRleHRcIjoge1xuXHRcdFx0cmV0dXJuIHsgdGFiSWQsIGZyYW1lSWQsIGN1cnJlbnRUYWJJZCB9O1xuXHRcdH1cblxuXHRcdGNhc2UgXCJjbGlja0hpbnRJbkZyYW1lXCI6XG5cdFx0XHRhd2FpdCBzZW5kUmVxdWVzdFRvQ29udGVudCh7XG5cdFx0XHRcdHR5cGU6IFwiY2xpY2tFbGVtZW50XCIsXG5cdFx0XHRcdHRhcmdldDogW3JlcXVlc3QuaGludF0sXG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXG5cdFx0Y2FzZSBcIm1hcmtIaW50c0FzS2V5Ym9hcmRSZWFjaGFibGVcIjpcblx0XHRcdGF3YWl0IHNlbmRSZXF1ZXN0VG9Db250ZW50KFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0dHlwZTogXCJtYXJrSGludHNBc0tleWJvYXJkUmVhY2hhYmxlXCIsXG5cdFx0XHRcdFx0bGV0dGVyOiByZXF1ZXN0LmxldHRlcixcblx0XHRcdFx0fSxcblx0XHRcdFx0dGFiSWRcblx0XHRcdCk7XG5cdFx0XHRicmVhaztcblxuXHRcdGNhc2UgXCJyZXN0b3JlS2V5Ym9hcmRSZWFjaGFibGVIaW50c1wiOlxuXHRcdFx0YXdhaXQgc2VuZFJlcXVlc3RUb0NvbnRlbnQoXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0eXBlOiBcInJlc3RvcmVLZXlib2FyZFJlYWNoYWJsZUhpbnRzXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdHRhYklkXG5cdFx0XHQpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwiaXNDdXJyZW50VGFiXCI6XG5cdFx0XHRyZXR1cm4gaXNDdXJyZW50VGFiO1xuXG5cdFx0Y2FzZSBcImdldFRhYk1hcmtlclwiOlxuXHRcdFx0cmV0dXJuIGdldFRhYk1hcmtlcih0YWJJZCk7XG5cblx0XHRjYXNlIFwic3RvcmVDdXN0b21TZWxlY3RvcnNcIjpcblx0XHRcdGF3YWl0IHN0b3JlQ3VzdG9tU2VsZWN0b3JzKHJlcXVlc3QucGF0dGVybiwgcmVxdWVzdC5zZWxlY3RvcnMpO1xuXHRcdFx0YnJlYWs7XG5cblx0XHRjYXNlIFwicmVzZXRDdXN0b21TZWxlY3RvcnNcIjpcblx0XHRcdHJldHVybiByZXNldEN1c3RvbVNlbGVjdG9ycyhyZXF1ZXN0LnBhdHRlcm4pO1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdGNvbnNvbGUuZXJyb3IocmVxdWVzdCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJCYWQgcmVxdWVzdCB0byBiYWNrZ3JvdW5kIHNjcmlwdFwiKTtcblx0fVxuXG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgYnJvd3NlciBmcm9tIFwid2ViZXh0ZW5zaW9uLXBvbHlmaWxsXCI7XG5pbXBvcnQgeyBnZXRDdXJyZW50VGFiIH0gZnJvbSBcIi4uL3V0aWxzL2dldEN1cnJlbnRUYWJcIjtcbmltcG9ydCB7IHJldHJpZXZlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBvcGVuSW5OZXdUYWIodXJsczogc3RyaW5nW10sIGFjdGl2ZTogYm9vbGVhbikge1xuXHRpZiAoYWN0aXZlICYmIHVybHMubGVuZ3RoID4gMSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNhbid0IG1ha2UgbW9yZSB0aGFuIG9uZSB0YWIgYWN0aXZlXCIpO1xuXHR9XG5cblx0Y29uc3QgY3VycmVudFRhYiA9IGF3YWl0IGdldEN1cnJlbnRUYWIoKTtcblx0bGV0IGluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cdGNvbnN0IG5ld1RhYlBvc2l0aW9uID0gYXdhaXQgcmV0cmlldmUoXCJuZXdUYWJQb3NpdGlvblwiKTtcblxuXHRpZiAobmV3VGFiUG9zaXRpb24gPT09IFwicmVsYXRlZEFmdGVyQ3VycmVudFwiKSB7XG5cdFx0Y29uc3QgdGFicyA9IGF3YWl0IGJyb3dzZXIudGFicy5xdWVyeSh7XG5cdFx0XHRjdXJyZW50V2luZG93OiB0cnVlLFxuXHRcdH0pO1xuXHRcdGNvbnN0IHJlbGF0ZWRUYWJzID0gdGFicy5maWx0ZXIoKHRhYikgPT4gdGFiLm9wZW5lclRhYklkID09PSBjdXJyZW50VGFiLmlkKTtcblx0XHRjb25zdCBsYXN0UmVsYXRlZFRhYiA9IHJlbGF0ZWRUYWJzLnBvcCgpO1xuXHRcdGluZGV4ID0gbGFzdFJlbGF0ZWRUYWIgPyBsYXN0UmVsYXRlZFRhYi5pbmRleCArIDEgOiBjdXJyZW50VGFiLmluZGV4ICsgMTtcblx0fVxuXG5cdGlmIChuZXdUYWJQb3NpdGlvbiA9PT0gXCJhZnRlckN1cnJlbnRcIikge1xuXHRcdGluZGV4ID0gY3VycmVudFRhYi5pbmRleCArIDE7XG5cdH1cblxuXHRpZiAobmV3VGFiUG9zaXRpb24gPT09IFwiYXRFbmRcIikge1xuXHRcdGluZGV4ID0gOTlfOTk5O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRhd2FpdCBQcm9taXNlLmFsbChcblx0XHRcdHVybHMubWFwKGFzeW5jICh1cmwpID0+XG5cdFx0XHRcdGJyb3dzZXIudGFicy5jcmVhdGUoe1xuXHRcdFx0XHRcdHVybCxcblx0XHRcdFx0XHRhY3RpdmUsXG5cdFx0XHRcdFx0aW5kZXg6IGluZGV4ID8gaW5kZXgrKyA6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRvcGVuZXJUYWJJZDogY3VycmVudFRhYi5pZCxcblx0XHRcdFx0fSlcblx0XHRcdClcblx0XHQpO1xuXHR9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuXHRcdGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuXHR9XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBleGhhdXN0aXZlIGNoZWNrcyBvZiBkaXNjcmltaW5hdGVkIHVuaW9ucy5cbiAqIGh0dHBzOi8vYmFzYXJhdC5naXRib29rcy5pby90eXBlc2NyaXB0L2RvY3MvdHlwZXMvZGlzY3JpbWluYXRlZC11bmlvbnMuaHRtbFxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogICAgdHlwZSBBID0ge3R5cGU6ICdhJ307XG4gKiAgICB0eXBlIEIgPSB7dHlwZTogJ2InfTtcbiAqICAgIHR5cGUgVW5pb24gPSBBIHwgQjtcbiAqXG4gKiAgICBmdW5jdGlvbiBkb1NvbWV0aGluZyhhcmc6IFVuaW9uKSB7XG4gKiAgICAgIGlmIChhcmcudHlwZSA9PT0gJ2EnKSB7XG4gKiAgICAgICAgcmV0dXJuIHNvbWV0aGluZztcbiAqICAgICAgfVxuICpcbiAqICAgICAgaWYgKGFyZy50eXBlID09PSAnYicpIHtcbiAqICAgICAgICByZXR1cm4gc29tZXRoaW5nRWxzZTtcbiAqICAgICAgfVxuICpcbiAqICAgICAgLy8gVFMgd2lsbCBlcnJvciBpZiB0aGVyZSBhcmUgb3RoZXIgdHlwZXMgaW4gdGhlIHVuaW9uXG4gKiAgICAgIC8vIFdpbGwgdGhyb3cgYW4gRXJyb3Igd2hlbiBjYWxsZWQgYXQgcnVudGltZS5cbiAqICAgICAgLy8gVXNlIGBhc3NlcnROZXZlcihhcmcsIHRydWUpYCBpbnN0ZWFkIHRvIGZhaWwgc2lsZW50bHkuXG4gKiAgICAgIHJldHVybiBhc3NlcnROZXZlcihhcmcpO1xuICogICAgfVxuICovXG5mdW5jdGlvbiBhc3NlcnROZXZlcih2YWx1ZSwgbm9UaHJvdykge1xuICAgIGlmIChub1Rocm93KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5oYW5kbGVkIGRpc2NyaW1pbmF0ZWQgdW5pb24gbWVtYmVyOiBcIiArIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG5leHBvcnRzLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBhc3NlcnROZXZlcjtcbiIsImltcG9ydCB7IE11dGV4IH0gZnJvbSBcImFzeW5jLW11dGV4XCI7XG5pbXBvcnQgeyBTdG9yYWdlU2NoZW1hIH0gZnJvbSBcIi4uLy4uL3R5cGluZ3MvU3RvcmFnZVNjaGVtYVwiO1xuaW1wb3J0IHsgcmV0cmlldmUsIHN0b3JlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9zdG9yYWdlXCI7XG5cbmNvbnN0IG11dGV4ZXMgPSBuZXcgTWFwPGtleW9mIFN0b3JhZ2VTY2hlbWEsIE11dGV4PigpO1xuXG5mdW5jdGlvbiBnZXRNdXRleEZvclN0b3JhZ2VWYWx1ZShuYW1lOiBrZXlvZiBTdG9yYWdlU2NoZW1hKSB7XG5cdGlmIChtdXRleGVzLmhhcyhuYW1lKSkgcmV0dXJuIG11dGV4ZXMuZ2V0KG5hbWUpITtcblxuXHRjb25zdCBtdXRleCA9IG5ldyBNdXRleCgpO1xuXHRtdXRleGVzLnNldChuYW1lLCBtdXRleCk7XG5cblx0cmV0dXJuIG11dGV4O1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBhIGdpdmVuIHN0b3JhZ2UgdmFyaWFibGUgYW5kIGV4ZWN1dGVzIHRoZSBjYWxsYmFjayB3aXRoIHRoZSB2YWx1ZVxuICogYXMgYXJndW1lbnQuIEl0IG1ha2VzIHN1cmUgdGhlcmUgYXJlIG5vIHJhY2UgY29uZGl0aW9ucyBieSBsb2NraW5nIHRoZVxuICogdmFyaWFibGUgd2l0aCBhIG11dGV4LlxuICpcbiAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yYWdlIGl0ZW1cbiAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSBvbiB0aGUgdmFsdWVcbiAqIEByZXR1cm5zIFRoZSByZXN1bHQgb2YgdGhlIGNhbGxiYWNrXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB3aXRoTG9ja2VkU3RvcmFnZUFjY2VzczxUIGV4dGVuZHMga2V5b2YgU3RvcmFnZVNjaGVtYSwgVT4oXG5cdG5hbWU6IFQsXG5cdGNhbGxiYWNrOiAodmFsdWU6IFN0b3JhZ2VTY2hlbWFbVF0pID0+IFByb21pc2U8VT5cbik6IFByb21pc2U8VT4ge1xuXHRjb25zdCBtdXRleCA9IGdldE11dGV4Rm9yU3RvcmFnZVZhbHVlKG5hbWUpO1xuXG5cdHJldHVybiBtdXRleC5ydW5FeGNsdXNpdmUoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHZhbHVlID0gYXdhaXQgcmV0cmlldmUobmFtZSk7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgY2FsbGJhY2sodmFsdWUpO1xuXHRcdGF3YWl0IHN0b3JlKG5hbWUsIHZhbHVlKTtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9KTtcbn1cbiIsImltcG9ydCBhc3NlcnROZXZlciBmcm9tIFwiYXNzZXJ0LW5ldmVyXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCB7IEN1c3RvbVNlbGVjdG9yc0ZvclBhdHRlcm4gfSBmcm9tIFwiLi4vLi4vdHlwaW5ncy9TdG9yYWdlU2NoZW1hXCI7XG5pbXBvcnQgeyBub3RpZnkgfSBmcm9tIFwiLi9ub3RpZnlcIjtcbmltcG9ydCB7IHdpdGhMb2NrZWRTdG9yYWdlQWNjZXNzIH0gZnJvbSBcIi4vd2l0aExvY2tlZFN0b3JhZ2VWYWx1ZVwiO1xuXG5sZXQgbm90aWZ5U3VjY2VzcyA9IGZhbHNlO1xuY29uc3QgbW9kaWZpZWRTZWxlY3RvcnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbmxldCBiYXRjaFVwZGF0ZVByb21pc2U6IFByb21pc2U8dm9pZD4gfCB1bmRlZmluZWQ7XG5sZXQgYmF0Y2hVcGRhdGVQcm9taXNlUmVzb2x2ZTogKCgpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuXG50eXBlIEFjdGlvblR5cGUgPSBcInN0b3JlXCIgfCBcInJlc2V0XCI7XG50eXBlIEFjdGlvbk5vdGlmaWNhdGlvbk1lc3NhZ2VzID0geyBzdWNjZXNzOiBzdHJpbmc7IGZhaWw6IHN0cmluZyB9O1xuXG5jb25zdCBtZXNzYWdlczogUmVjb3JkPEFjdGlvblR5cGUsIEFjdGlvbk5vdGlmaWNhdGlvbk1lc3NhZ2VzPiA9IHtcblx0c3RvcmU6IHtcblx0XHRzdWNjZXNzOiBcIkN1c3RvbSBzZWxlY3RvcnMgc2F2ZWRcIixcblx0XHRmYWlsOiBcIk5vIHNlbGVjdG9ycyB0byBzYXZlXCIsXG5cdH0sXG5cdHJlc2V0OiB7XG5cdFx0c3VjY2VzczogXCJDdXN0b20gc2VsZWN0b3JzIHJlc2V0XCIsXG5cdFx0ZmFpbDogXCJObyBjdXN0b20gc2VsZWN0b3JzIGZvciB0aGUgY3VycmVudCBwYWdlXCIsXG5cdH0sXG59O1xuXG4vKipcbiAqIE5vdGlmaWVzIHdpdGggYSB0b2FzdCBtZXNzYWdlIGFuZCByZXNldHMgdG8gdGhlIGluaXRpYWwgc3RhdGUgb25jZSBlbm91Z2hcbiAqIHRpbWUgaGFzIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCBjYWxsIHRvIHRoZSBmdW5jdGlvbi4gSXQgYWxzbyBjYWxsc1xuICogYGJhdGNoVXBkYXRlUHJvbWlzZVJlc29sdmVgIHNvIGFsbCB0aGUgb25nb2luZyBjYWxscyB0b1xuICogYHVwZGF0ZUN1c3RvbVNlbGVjdG9yc2AgY2FuIGZpbmlzaC5cbiAqL1xuY29uc3QgZGVib3VuY2VkTm90aWZ5QW5kUmVzZXQgPSBkZWJvdW5jZShhc3luYyAoYWN0aW9uOiBBY3Rpb25UeXBlKSA9PiB7XG5cdGNvbnN0IG1lc3NhZ2UgPSBub3RpZnlTdWNjZXNzXG5cdFx0PyBtZXNzYWdlc1thY3Rpb25dLnN1Y2Nlc3Ncblx0XHQ6IG1lc3NhZ2VzW2FjdGlvbl0uZmFpbDtcblx0Y29uc3QgdHlwZSA9IG5vdGlmeVN1Y2Nlc3MgPyBcInN1Y2Nlc3NcIiA6IFwid2FybmluZ1wiO1xuXG5cdGF3YWl0IG5vdGlmeShtZXNzYWdlLCB7IHR5cGUgfSk7XG5cblx0Ly8gUmVzZXQgdGhlIHN1Y2Nlc3MgZmxhZyBhbmQgY2xlYXIgdGhlIHNldCBhZnRlciB0aGUgZGVib3VuY2UgcGVyaW9kLlxuXHRub3RpZnlTdWNjZXNzID0gZmFsc2U7XG5cdG1vZGlmaWVkU2VsZWN0b3JzLmNsZWFyKCk7XG5cblx0aWYgKGJhdGNoVXBkYXRlUHJvbWlzZVJlc29sdmUpIHtcblx0XHRiYXRjaFVwZGF0ZVByb21pc2VSZXNvbHZlKCk7XG5cdFx0YmF0Y2hVcGRhdGVQcm9taXNlUmVzb2x2ZSA9IHVuZGVmaW5lZDtcblx0XHRiYXRjaFVwZGF0ZVByb21pc2UgPSB1bmRlZmluZWQ7XG5cdH1cbn0sIDIwMCk7XG5cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUN1c3RvbVNlbGVjdG9ycyhcblx0YWN0aW9uOiBBY3Rpb25UeXBlLFxuXHRwYXR0ZXJuOiBzdHJpbmcsXG5cdHNlbGVjdG9ycz86IEN1c3RvbVNlbGVjdG9yc0ZvclBhdHRlcm5cbikge1xuXHRjb25zdCBzZWxlY3RvcnNBZmZlY3RlZCA9IGF3YWl0IHdpdGhMb2NrZWRTdG9yYWdlQWNjZXNzKFxuXHRcdFwiY3VzdG9tU2VsZWN0b3JzXCIsXG5cdFx0YXN5bmMgKGN1c3RvbVNlbGVjdG9ycykgPT4ge1xuXHRcdFx0Y29uc3Qgc2VsZWN0b3JzRm9yUGF0dGVybiA9IGN1c3RvbVNlbGVjdG9ycy5nZXQocGF0dGVybikgPz8ge1xuXHRcdFx0XHRpbmNsdWRlOiBbXSxcblx0XHRcdFx0ZXhjbHVkZTogW10sXG5cdFx0XHR9O1xuXG5cdFx0XHRpZiAoYWN0aW9uID09PSBcInN0b3JlXCIpIHtcblx0XHRcdFx0aWYgKCFzZWxlY3RvcnMpIHRocm93IG5ldyBFcnJvcihcIk5vIHNlbGVjdG9ycyBwcm92aWRlZCB0byBzdG9yZVwiKTtcblxuXHRcdFx0XHRzZWxlY3RvcnNGb3JQYXR0ZXJuLmluY2x1ZGUgPSBBcnJheS5mcm9tKFxuXHRcdFx0XHRcdG5ldyBTZXQoWy4uLnNlbGVjdG9yc0ZvclBhdHRlcm4uaW5jbHVkZSwgLi4uc2VsZWN0b3JzLmluY2x1ZGVdKVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRzZWxlY3RvcnNGb3JQYXR0ZXJuLmV4Y2x1ZGUgPSBBcnJheS5mcm9tKFxuXHRcdFx0XHRcdG5ldyBTZXQoWy4uLnNlbGVjdG9yc0ZvclBhdHRlcm4uZXhjbHVkZSwgLi4uc2VsZWN0b3JzLmV4Y2x1ZGVdKVxuXHRcdFx0XHQpO1xuXHRcdFx0XHRjdXN0b21TZWxlY3RvcnMuc2V0KHBhdHRlcm4sIHNlbGVjdG9yc0ZvclBhdHRlcm4pO1xuXHRcdFx0XHRyZXR1cm4gWy4uLnNlbGVjdG9ycy5pbmNsdWRlLCAuLi5zZWxlY3RvcnMuZXhjbHVkZV07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhY3Rpb24gPT09IFwicmVzZXRcIikge1xuXHRcdFx0XHRjdXN0b21TZWxlY3RvcnMuZGVsZXRlKHBhdHRlcm4pO1xuXHRcdFx0XHRyZXR1cm4gc2VsZWN0b3JzRm9yUGF0dGVyblxuXHRcdFx0XHRcdD8gWy4uLnNlbGVjdG9yc0ZvclBhdHRlcm4uaW5jbHVkZSwgLi4uc2VsZWN0b3JzRm9yUGF0dGVybi5leGNsdWRlXVxuXHRcdFx0XHRcdDogW107XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhc3NlcnROZXZlcihhY3Rpb24pO1xuXHRcdH1cblx0KTtcblxuXHQvLyBVcGRhdGUgbm90aWZ5U3VjY2VzcyB0byB0cnVlIGlmIGFueSBvZiB0aGUgY2FsbHMgd2l0aGluIHRoZSBkZWJvdW5jZSBwZXJpb2QgaXMgc3VjY2Vzc2Z1bC5cblx0aWYgKHNlbGVjdG9yc0FmZmVjdGVkLmxlbmd0aCA+IDApIG5vdGlmeVN1Y2Nlc3MgPSB0cnVlO1xuXG5cdGZvciAoY29uc3Qgc2VsZWN0b3Igb2Ygc2VsZWN0b3JzQWZmZWN0ZWQpIHtcblx0XHRtb2RpZmllZFNlbGVjdG9ycy5hZGQoc2VsZWN0b3IpO1xuXHR9XG5cblx0YXdhaXQgZGVib3VuY2VkTm90aWZ5QW5kUmVzZXQoYWN0aW9uKTtcblxuXHRpZiAoYmF0Y2hVcGRhdGVQcm9taXNlKSB7XG5cdFx0YXdhaXQgYmF0Y2hVcGRhdGVQcm9taXNlO1xuXHR9IGVsc2Uge1xuXHRcdGJhdGNoVXBkYXRlUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0XHRiYXRjaFVwZGF0ZVByb21pc2VSZXNvbHZlID0gcmVzb2x2ZTtcblx0XHR9KTtcblx0XHRhd2FpdCBiYXRjaFVwZGF0ZVByb21pc2U7XG5cdH1cbn1cblxuLyoqXG4gKiBTdG9yZXMgdGhlIGN1c3RvbSBzZWxlY3RvcnMgZm9yIHRoZSBnaXZlbiBVUkwgcGF0dGVybi4gSXQgaGFuZGxlcyBiZWluZ1xuICogY2FsbGVkIG11bHRpcGxlIHRpbWVzIHRvIGhhbmRsZSBtdWx0aXBsZSBmcmFtZXMgd2FudGluZyB0byBjaGFuZ2UgdGhlIGN1c3RvbVxuICogc2VsZWN0b3JzLiBJdCB3YWl0cyBmb3IgYSBzZXF1ZW5jZSBvZiBjYWxscyB0byBmaW5pc2ggYmVmb3JlIHJldHVybmluZy4gT25jZVxuICogY2FsbHMgaGF2ZSBzdG9wcGVkIGl0IG5vdGlmaWVzIGlmIHN0b3JpbmcgdGhlIGN1c3RvbSBzZWxlY3RvcnMgd2FzXG4gKiBzdWNjZXNzZnVsLCB0aGF0IGlzIGlmIGFueSBvZiB0aGUgY2FsbHMgaW4gdGhlIHNlcXVlbmNlIHJlc3VsdGVkIGluIGN1c3RvbVxuICogc2VsZWN0b3JzIGJlaW5nIGFkZGVkLlxuICpcbiAqIEBwYXJhbSBwYXR0ZXJuIFRoZSBVUkwgcGF0dGVybiB3aGVyZSBzZWxlY3RvcnMgYXBwbHlcbiAqIEBwYXJhbSBzZWxlY3RvcnMgQW4gb2JqZWN0IHdpdGggYGluY2x1ZGVgIGFuZCBgZXhjbHVkZWAgQ1NTIHNlbGVjdG9ycyBmb3IgdGhlIGdpdmVuIHBhdHRlcm5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN0b3JlQ3VzdG9tU2VsZWN0b3JzKFxuXHRwYXR0ZXJuOiBzdHJpbmcsXG5cdHNlbGVjdG9yczogQ3VzdG9tU2VsZWN0b3JzRm9yUGF0dGVyblxuKSB7XG5cdGF3YWl0IHVwZGF0ZUN1c3RvbVNlbGVjdG9ycyhcInN0b3JlXCIsIHBhdHRlcm4sIHNlbGVjdG9ycyk7XG59XG5cbi8qKlxuICogUmVzZXRzIHRoZSBjdXN0b20gc2VsZWN0b3JzIGZvciB0aGUgZ2l2ZW4gVVJMIHBhdHRlcm4uIEl0IGhhbmRsZXMgYmVpbmdcbiAqIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byBoYW5kbGUgbXVsdGlwbGUgZnJhbWVzIHdhbnRpbmcgdG8gcmVzZXQgdGhlIGN1c3RvbVxuICogc2VsZWN0b3JzLiBJdCB3YWl0cyBmb3IgYSBzZXF1ZW5jZSBvZiBjYWxscyB0byBmaW5pc2ggYmVmb3JlIHJldHVybmluZy4gT25jZVxuICogY2FsbHMgaGF2ZSBzdG9wcGVkIGl0IG5vdGlmaWVzIGlmIHJlc2V0dGluZyB0aGUgY3VzdG9tIHNlbGVjdG9ycyB3YXNcbiAqIHN1Y2Nlc3NmdWwsIHRoYXQgaXMgaWYgYW55IG9mIHRoZSBjYWxscyBpbiB0aGUgc2VxdWVuY2UgcmVzdWx0ZWQgaW4gY3VzdG9tXG4gKiBzZWxlY3RvcnMgYmVpbmcgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0gcGF0dGVybiBUaGUgVVJMIHBhdHRlcm4gd2hlcmUgc2VsZWN0b3JzIGFwcGx5XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldEN1c3RvbVNlbGVjdG9ycyhwYXR0ZXJuOiBzdHJpbmcpIHtcblx0YXdhaXQgdXBkYXRlQ3VzdG9tU2VsZWN0b3JzKFwicmVzZXRcIiwgcGF0dGVybik7XG59XG4iXSwibmFtZXMiOlsiJDdiYmFlMTIxZTBmNWE1NmIkZXhwb3J0JDY1MDNlYzZlOGFhYmJhZiIsIiQ3YmJhZTEyMWUwZjVhNTZiJGV4cG9ydCRmN2FkMDMyODg2MWUyZjAzIiwiJDdiYmFlMTIxZTBmNWE1NmIkdmFyJG1hcHBpbmciLCJwYWlycyIsImtleXMiLCJPYmplY3QiLCJpIiwibGVuZ3RoIiwiaWQiLCJyZXNvbHZlZCIsIkVycm9yIiwiYnJvd3NlciIsImdldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiQ0hST01FX1NFTkRfTUVTU0FHRV9DQUxMQkFDS19OT19SRVNQT05TRV9NRVNTQUdFIiwiU0VORF9SRVNQT05TRV9ERVBSRUNBVElPTl9XQVJOSU5HIiwid3JhcEFQSXMiLCJleHRlbnNpb25BUElzIiwiYXBpTWV0YWRhdGEiLCJhbGFybXMiLCJjbGVhciIsIm1pbkFyZ3MiLCJtYXhBcmdzIiwiY2xlYXJBbGwiLCJnZXQiLCJnZXRBbGwiLCJib29rbWFya3MiLCJjcmVhdGUiLCJnZXRDaGlsZHJlbiIsImdldFJlY2VudCIsImdldFN1YlRyZWUiLCJnZXRUcmVlIiwibW92ZSIsInJlbW92ZSIsInJlbW92ZVRyZWUiLCJzZWFyY2giLCJ1cGRhdGUiLCJicm93c2VyQWN0aW9uIiwiZGlzYWJsZSIsImZhbGxiYWNrVG9Ob0NhbGxiYWNrIiwiZW5hYmxlIiwiZ2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IiLCJnZXRCYWRnZVRleHQiLCJnZXRQb3B1cCIsImdldFRpdGxlIiwib3BlblBvcHVwIiwic2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IiLCJzZXRCYWRnZVRleHQiLCJzZXRJY29uIiwic2V0UG9wdXAiLCJzZXRUaXRsZSIsImJyb3dzaW5nRGF0YSIsInJlbW92ZUNhY2hlIiwicmVtb3ZlQ29va2llcyIsInJlbW92ZURvd25sb2FkcyIsInJlbW92ZUZvcm1EYXRhIiwicmVtb3ZlSGlzdG9yeSIsInJlbW92ZUxvY2FsU3RvcmFnZSIsInJlbW92ZVBhc3N3b3JkcyIsInJlbW92ZVBsdWdpbkRhdGEiLCJzZXR0aW5ncyIsImNvbW1hbmRzIiwiY29udGV4dE1lbnVzIiwicmVtb3ZlQWxsIiwiY29va2llcyIsImdldEFsbENvb2tpZVN0b3JlcyIsInNldCIsImRldnRvb2xzIiwiaW5zcGVjdGVkV2luZG93IiwiZXZhbCIsInNpbmdsZUNhbGxiYWNrQXJnIiwicGFuZWxzIiwiZWxlbWVudHMiLCJjcmVhdGVTaWRlYmFyUGFuZSIsImRvd25sb2FkcyIsImNhbmNlbCIsImRvd25sb2FkIiwiZXJhc2UiLCJnZXRGaWxlSWNvbiIsIm9wZW4iLCJwYXVzZSIsInJlbW92ZUZpbGUiLCJyZXN1bWUiLCJzaG93IiwiZXh0ZW5zaW9uIiwiaXNBbGxvd2VkRmlsZVNjaGVtZUFjY2VzcyIsImlzQWxsb3dlZEluY29nbml0b0FjY2VzcyIsImhpc3RvcnkiLCJhZGRVcmwiLCJkZWxldGVBbGwiLCJkZWxldGVSYW5nZSIsImRlbGV0ZVVybCIsImdldFZpc2l0cyIsImkxOG4iLCJkZXRlY3RMYW5ndWFnZSIsImdldEFjY2VwdExhbmd1YWdlcyIsImlkZW50aXR5IiwibGF1bmNoV2ViQXV0aEZsb3ciLCJpZGxlIiwicXVlcnlTdGF0ZSIsIm1hbmFnZW1lbnQiLCJnZXRTZWxmIiwic2V0RW5hYmxlZCIsInVuaW5zdGFsbFNlbGYiLCJub3RpZmljYXRpb25zIiwiZ2V0UGVybWlzc2lvbkxldmVsIiwicGFnZUFjdGlvbiIsImhpZGUiLCJwZXJtaXNzaW9ucyIsImNvbnRhaW5zIiwicmVxdWVzdCIsInJ1bnRpbWUiLCJnZXRCYWNrZ3JvdW5kUGFnZSIsImdldFBsYXRmb3JtSW5mbyIsIm9wZW5PcHRpb25zUGFnZSIsInJlcXVlc3RVcGRhdGVDaGVjayIsInNlbmRNZXNzYWdlIiwic2VuZE5hdGl2ZU1lc3NhZ2UiLCJzZXRVbmluc3RhbGxVUkwiLCJzZXNzaW9ucyIsImdldERldmljZXMiLCJnZXRSZWNlbnRseUNsb3NlZCIsInJlc3RvcmUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXRCeXRlc0luVXNlIiwibWFuYWdlZCIsInN5bmMiLCJ0YWJzIiwiY2FwdHVyZVZpc2libGVUYWIiLCJkaXNjYXJkIiwiZHVwbGljYXRlIiwiZXhlY3V0ZVNjcmlwdCIsImdldEN1cnJlbnQiLCJnZXRab29tIiwiZ2V0Wm9vbVNldHRpbmdzIiwiZ29CYWNrIiwiZ29Gb3J3YXJkIiwiaGlnaGxpZ2h0IiwiaW5zZXJ0Q1NTIiwicXVlcnkiLCJyZWxvYWQiLCJyZW1vdmVDU1MiLCJzZXRab29tIiwic2V0Wm9vbVNldHRpbmdzIiwidG9wU2l0ZXMiLCJ3ZWJOYXZpZ2F0aW9uIiwiZ2V0QWxsRnJhbWVzIiwiZ2V0RnJhbWUiLCJ3ZWJSZXF1ZXN0IiwiaGFuZGxlckJlaGF2aW9yQ2hhbmdlZCIsIndpbmRvd3MiLCJnZXRMYXN0Rm9jdXNlZCIsIkRlZmF1bHRXZWFrTWFwIiwiV2Vha01hcCIsImNvbnN0cnVjdG9yIiwiY3JlYXRlSXRlbSIsIml0ZW1zIiwic3VwZXIiLCJ0aGlzIiwia2V5IiwiaGFzIiwibWFrZUNhbGxiYWNrIiwicHJvbWlzZSIsIm1ldGFkYXRhIiwiY2FsbGJhY2tBcmdzIiwibGFzdEVycm9yIiwicmVqZWN0IiwibWVzc2FnZSIsInJlc29sdmUiLCJwbHVyYWxpemVBcmd1bWVudHMiLCJudW1BcmdzIiwid3JhcE1ldGhvZCIsInRhcmdldCIsIm1ldGhvZCIsIndyYXBwZXIiLCJQcm94eSIsImFwcGx5IiwidGFyZ2V0TWV0aG9kIiwidGhpc09iaiIsImFyZ3MiLCJjYWxsIiwiaGFzT3duUHJvcGVydHkiLCJGdW5jdGlvbiIsImJpbmQiLCJ3cmFwT2JqZWN0Iiwid3JhcHBlcnMiLCJjYWNoZSIsImhhbmRsZXJzIiwicHJveHlUYXJnZXQiLCJwcm9wIiwicmVjZWl2ZXIiLCJ2YWx1ZSIsIm5hbWUiLCJQcm9taXNlIiwiY2JFcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwibm9DYWxsYmFjayIsIndyYXBBc3luY0Z1bmN0aW9uIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZGVzYyIsIlJlZmxlY3QiLCJkZWxldGVQcm9wZXJ0eSIsIndyYXBFdmVudCIsIndyYXBwZXJNYXAiLCJhZGRMaXN0ZW5lciIsImxpc3RlbmVyIiwiaGFzTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsIm9uUmVxdWVzdEZpbmlzaGVkV3JhcHBlcnMiLCJyZXEiLCJ3cmFwcGVkUmVxIiwiZ2V0Q29udGVudCIsImxvZ2dlZFNlbmRSZXNwb25zZURlcHJlY2F0aW9uV2FybmluZyIsIm9uTWVzc2FnZVdyYXBwZXJzIiwic2VuZGVyIiwic2VuZFJlc3BvbnNlIiwid3JhcHBlZFNlbmRSZXNwb25zZSIsInJlc3VsdCIsImRpZENhbGxTZW5kUmVzcG9uc2UiLCJzZW5kUmVzcG9uc2VQcm9taXNlIiwicmVzcG9uc2UiLCJzdGFjayIsImVyciIsImlzUmVzdWx0VGhlbmFibGUiLCJ0aGVuIiwic2VuZFByb21pc2VkUmVzdWx0IiwibXNnIiwiZXJyb3IiLCJfX21veldlYkV4dGVuc2lvblBvbHlmaWxsUmVqZWN0X18iLCJjYXRjaCIsIndyYXBwZWRTZW5kTWVzc2FnZUNhbGxiYWNrIiwicmVwbHkiLCJ3cmFwcGVkU2VuZE1lc3NhZ2UiLCJhcGlOYW1lc3BhY2VPYmoiLCJ3cmFwcGVkQ2IiLCJwdXNoIiwic3RhdGljV3JhcHBlcnMiLCJuZXR3b3JrIiwib25SZXF1ZXN0RmluaXNoZWQiLCJvbk1lc3NhZ2UiLCJvbk1lc3NhZ2VFeHRlcm5hbCIsInNldHRpbmdNZXRhZGF0YSIsInByaXZhY3kiLCJzZXJ2aWNlcyIsIndlYnNpdGVzIiwiY2hyb21lIiwibW9kdWxlIiwiZXhwb3J0cyIsIiQ4MjQ3OTA3NzNiNWU5YzE3JGV4cG9ydCRiZGZkNzA5YWU0ODI2Njk3IiwiJDgyNDc5MDc3M2I1ZTljMTckdmFyJGJ1bmRsZVVSTCIsIiQ4MjQ3OTA3NzNiNWU5YzE3JHZhciRnZXRCYXNlVVJMIiwidXJsIiwicmVwbGFjZSIsIm1hdGNoZXMiLCJtYXRjaCIsIiQ4MjQ3OTA3NzNiNWU5YzE3JHZhciRnZXRCdW5kbGVVUkwiLCJ1bmRlZmluZWQiLCJGVU5DX0VSUk9SX1RFWFQiLCJIQVNIX1VOREVGSU5FRCIsIlBMQUNFSE9MREVSIiwiV1JBUF9DVVJSWV9SSUdIVF9GTEFHIiwiV1JBUF9QQVJUSUFMX0ZMQUciLCJXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyIsIldSQVBfQVJZX0ZMQUciLCJXUkFQX1JFQVJHX0ZMQUciLCJJTkZJTklUWSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJOQU4iLCJNQVhfQVJSQVlfTEVOR1RIIiwid3JhcEZsYWdzIiwiYXJnc1RhZyIsImFycmF5VGFnIiwiYm9vbFRhZyIsImRhdGVUYWciLCJlcnJvclRhZyIsImZ1bmNUYWciLCJnZW5UYWciLCJtYXBUYWciLCJudW1iZXJUYWciLCJvYmplY3RUYWciLCJwcm9taXNlVGFnIiwicmVnZXhwVGFnIiwic2V0VGFnIiwic3RyaW5nVGFnIiwic3ltYm9sVGFnIiwid2Vha01hcFRhZyIsImFycmF5QnVmZmVyVGFnIiwiZGF0YVZpZXdUYWciLCJmbG9hdDMyVGFnIiwiZmxvYXQ2NFRhZyIsImludDhUYWciLCJpbnQxNlRhZyIsImludDMyVGFnIiwidWludDhUYWciLCJ1aW50OENsYW1wZWRUYWciLCJ1aW50MTZUYWciLCJ1aW50MzJUYWciLCJyZUVtcHR5U3RyaW5nTGVhZGluZyIsInJlRW1wdHlTdHJpbmdNaWRkbGUiLCJyZUVtcHR5U3RyaW5nVHJhaWxpbmciLCJyZUVzY2FwZWRIdG1sIiwicmVVbmVzY2FwZWRIdG1sIiwicmVIYXNFc2NhcGVkSHRtbCIsIlJlZ0V4cCIsInNvdXJjZSIsInJlSGFzVW5lc2NhcGVkSHRtbCIsInJlRXNjYXBlIiwicmVFdmFsdWF0ZSIsInJlSW50ZXJwb2xhdGUiLCJyZUlzRGVlcFByb3AiLCJyZUlzUGxhaW5Qcm9wIiwicmVQcm9wTmFtZSIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsInJlVHJpbVN0YXJ0IiwicmVXaGl0ZXNwYWNlIiwicmVXcmFwQ29tbWVudCIsInJlV3JhcERldGFpbHMiLCJyZVNwbGl0RGV0YWlscyIsInJlQXNjaWlXb3JkIiwicmVGb3JiaWRkZW5JZGVudGlmaWVyQ2hhcnMiLCJyZUVzY2FwZUNoYXIiLCJyZUVzVGVtcGxhdGUiLCJyZUZsYWdzIiwicmVJc0JhZEhleCIsInJlSXNCaW5hcnkiLCJyZUlzSG9zdEN0b3IiLCJyZUlzT2N0YWwiLCJyZUlzVWludCIsInJlTGF0aW4iLCJyZU5vTWF0Y2giLCJyZVVuZXNjYXBlZFN0cmluZyIsInJzQXN0cmFsUmFuZ2UiLCJyc0NvbWJvUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzRGluZ2JhdFJhbmdlIiwicnNMb3dlclJhbmdlIiwicnNVcHBlclJhbmdlIiwicnNWYXJSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc0Fwb3MiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc1pXSiIsInJzTWlzY0xvd2VyIiwicnNNaXNjVXBwZXIiLCJyc09wdENvbnRyTG93ZXIiLCJyc09wdENvbnRyVXBwZXIiLCJyZU9wdE1vZCIsInJzT3B0VmFyIiwicnNTZXEiLCJqb2luIiwicnNFbW9qaSIsInJzU3ltYm9sIiwicmVBcG9zIiwicmVDb21ib01hcmsiLCJyZVVuaWNvZGUiLCJyZVVuaWNvZGVXb3JkIiwicmVIYXNVbmljb2RlIiwicmVIYXNVbmljb2RlV29yZCIsImNvbnRleHRQcm9wcyIsInRlbXBsYXRlQ291bnRlciIsInR5cGVkQXJyYXlUYWdzIiwiY2xvbmVhYmxlVGFncyIsInN0cmluZ0VzY2FwZXMiLCJmcmVlUGFyc2VGbG9hdCIsInBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJwYXJzZUludCIsImZyZWVHbG9iYWwiLCIkcGFyY2VsJGdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsInByb2Nlc3MiLCJub2RlVXRpbCIsInR5cGVzIiwicmVxdWlyZSIsImJpbmRpbmciLCJlIiwibm9kZUlzQXJyYXlCdWZmZXIiLCJpc0FycmF5QnVmZmVyIiwibm9kZUlzRGF0ZSIsImlzRGF0ZSIsIm5vZGVJc01hcCIsImlzTWFwIiwibm9kZUlzUmVnRXhwIiwiaXNSZWdFeHAiLCJub2RlSXNTZXQiLCJpc1NldCIsIm5vZGVJc1R5cGVkQXJyYXkiLCJpc1R5cGVkQXJyYXkiLCJmdW5jIiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsImFycmF5Iiwic2V0dGVyIiwiaXRlcmF0ZWUiLCJhY2N1bXVsYXRvciIsImluZGV4IiwiYXJyYXlFYWNoIiwiYXJyYXlFYWNoUmlnaHQiLCJhcnJheUV2ZXJ5IiwicHJlZGljYXRlIiwiYXJyYXlGaWx0ZXIiLCJyZXNJbmRleCIsImFycmF5SW5jbHVkZXMiLCJiYXNlSW5kZXhPZiIsImFycmF5SW5jbHVkZXNXaXRoIiwiY29tcGFyYXRvciIsImFycmF5TWFwIiwiQXJyYXkiLCJhcnJheVB1c2giLCJ2YWx1ZXMiLCJvZmZzZXQiLCJhcnJheVJlZHVjZSIsImluaXRBY2N1bSIsImFycmF5UmVkdWNlUmlnaHQiLCJhcnJheVNvbWUiLCJhc2NpaVNpemUiLCJiYXNlUHJvcGVydHkiLCJiYXNlRmluZEtleSIsImNvbGxlY3Rpb24iLCJlYWNoRnVuYyIsImJhc2VGaW5kSW5kZXgiLCJmcm9tSW5kZXgiLCJmcm9tUmlnaHQiLCJzdHJpY3RJbmRleE9mIiwiYmFzZUlzTmFOIiwiYmFzZUluZGV4T2ZXaXRoIiwiYmFzZU1lYW4iLCJiYXNlU3VtIiwib2JqZWN0IiwiYmFzZVByb3BlcnR5T2YiLCJiYXNlUmVkdWNlIiwiY3VycmVudCIsImJhc2VUaW1lcyIsIm4iLCJiYXNlVHJpbSIsInN0cmluZyIsInNsaWNlIiwidHJpbW1lZEVuZEluZGV4IiwiYmFzZVVuYXJ5IiwiYmFzZVZhbHVlcyIsInByb3BzIiwiY2FjaGVIYXMiLCJjaGFyc1N0YXJ0SW5kZXgiLCJzdHJTeW1ib2xzIiwiY2hyU3ltYm9scyIsImNoYXJzRW5kSW5kZXgiLCJjb3VudEhvbGRlcnMiLCJwbGFjZWhvbGRlciIsImRlYnVyckxldHRlciIsImVzY2FwZUh0bWxDaGFyIiwiZXNjYXBlU3RyaW5nQ2hhciIsImNociIsImhhc1VuaWNvZGUiLCJ0ZXN0IiwibWFwVG9BcnJheSIsIm1hcCIsInNpemUiLCJmb3JFYWNoIiwib3ZlckFyZyIsInRyYW5zZm9ybSIsImFyZyIsInJlcGxhY2VIb2xkZXJzIiwic2V0VG9BcnJheSIsInN0cmluZ1NpemUiLCJsYXN0SW5kZXgiLCJ1bmljb2RlU2l6ZSIsInN0cmluZ1RvQXJyYXkiLCJ1bmljb2RlVG9BcnJheSIsInNwbGl0IiwiYXNjaWlUb0FycmF5IiwiY2hhckF0IiwidW5lc2NhcGVIdG1sQ2hhciIsIl8iLCJydW5JbkNvbnRleHQiLCJjb250ZXh0IiwidWlkIiwiQXJyYXkxIiwiZGVmYXVsdHMiLCJwaWNrIiwiRGF0ZSIsIkZ1bmN0aW9uMSIsIk1hdGgiLCJPYmplY3QxIiwiUmVnRXhwMSIsIlN0cmluZyIsIlR5cGVFcnJvciIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJmdW5jVG9TdHJpbmciLCJ0b1N0cmluZyIsImlkQ291bnRlciIsIm1hc2tTcmNLZXkiLCJleGVjIiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9iamVjdEN0b3JTdHJpbmciLCJvbGREYXNoIiwicmVJc05hdGl2ZSIsIkJ1ZmZlciIsIlN5bWJvbCIsIlVpbnQ4QXJyYXkiLCJhbGxvY1Vuc2FmZSIsImdldFByb3RvdHlwZSIsIm9iamVjdENyZWF0ZSIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwic3BsaWNlIiwic3ByZWFkYWJsZVN5bWJvbCIsImlzQ29uY2F0U3ByZWFkYWJsZSIsInN5bUl0ZXJhdG9yIiwiaXRlcmF0b3IiLCJzeW1Ub1N0cmluZ1RhZyIsInRvU3RyaW5nVGFnIiwiZ2V0TmF0aXZlIiwiY3R4Q2xlYXJUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3R4Tm93Iiwibm93IiwiY3R4U2V0VGltZW91dCIsInNldFRpbWVvdXQiLCJuYXRpdmVDZWlsIiwiY2VpbCIsIm5hdGl2ZUZsb29yIiwiZmxvb3IiLCJuYXRpdmVHZXRTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwibmF0aXZlSXNCdWZmZXIiLCJpc0J1ZmZlciIsIm5hdGl2ZUlzRmluaXRlIiwiaXNGaW5pdGUiLCJuYXRpdmVKb2luIiwibmF0aXZlS2V5cyIsIm5hdGl2ZU1heCIsIm1heCIsIm5hdGl2ZU1pbiIsIm1pbiIsIm5hdGl2ZU5vdyIsIm5hdGl2ZVBhcnNlSW50IiwibmF0aXZlUmFuZG9tIiwicmFuZG9tIiwibmF0aXZlUmV2ZXJzZSIsInJldmVyc2UiLCJEYXRhVmlldyIsIk1hcCIsIlNldCIsIm5hdGl2ZUNyZWF0ZSIsIm1ldGFNYXAiLCJyZWFsTmFtZXMiLCJkYXRhVmlld0N0b3JTdHJpbmciLCJ0b1NvdXJjZSIsIm1hcEN0b3JTdHJpbmciLCJwcm9taXNlQ3RvclN0cmluZyIsInNldEN0b3JTdHJpbmciLCJ3ZWFrTWFwQ3RvclN0cmluZyIsInN5bWJvbFByb3RvIiwic3ltYm9sVmFsdWVPZiIsInZhbHVlT2YiLCJzeW1ib2xUb1N0cmluZyIsImxvZGFzaCIsImlzT2JqZWN0TGlrZSIsImlzQXJyYXkiLCJMYXp5V3JhcHBlciIsIkxvZGFzaFdyYXBwZXIiLCJ3cmFwcGVyQ2xvbmUiLCJiYXNlQ3JlYXRlIiwicHJvdG8iLCJpc09iamVjdCIsImJhc2VMb2Rhc2giLCJjaGFpbkFsbCIsIl9fd3JhcHBlZF9fIiwiX19hY3Rpb25zX18iLCJfX2NoYWluX18iLCJfX2luZGV4X18iLCJfX3ZhbHVlc19fIiwiX19kaXJfXyIsIl9fZmlsdGVyZWRfXyIsIl9faXRlcmF0ZWVzX18iLCJfX3Rha2VDb3VudF9fIiwiX192aWV3c19fIiwiSGFzaCIsImVudHJpZXMiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsImFkZCIsIlN0YWNrIiwiZGF0YSIsImFycmF5TGlrZUtleXMiLCJpbmhlcml0ZWQiLCJpc0FyciIsImlzQXJnIiwiaXNBcmd1bWVudHMiLCJpc0J1ZmYiLCJpc1R5cGUiLCJza2lwSW5kZXhlcyIsImlzSW5kZXgiLCJhcnJheVNhbXBsZSIsImJhc2VSYW5kb20iLCJhcnJheVNhbXBsZVNpemUiLCJzaHVmZmxlU2VsZiIsImNvcHlBcnJheSIsImJhc2VDbGFtcCIsImFycmF5U2h1ZmZsZSIsImFzc2lnbk1lcmdlVmFsdWUiLCJlcSIsImJhc2VBc3NpZ25WYWx1ZSIsImFzc2lnblZhbHVlIiwib2JqVmFsdWUiLCJhc3NvY0luZGV4T2YiLCJiYXNlQWdncmVnYXRvciIsImJhc2VFYWNoIiwiYmFzZUFzc2lnbiIsImNvcHlPYmplY3QiLCJ3cml0YWJsZSIsImJhc2VBdCIsInBhdGhzIiwic2tpcCIsIm51bWJlciIsImxvd2VyIiwidXBwZXIiLCJiYXNlQ2xvbmUiLCJiaXRtYXNrIiwiY3VzdG9taXplciIsImlzRGVlcCIsImlzRmxhdCIsImlzRnVsbCIsImlucHV0IiwiaW5pdENsb25lQXJyYXkiLCJ0YWciLCJnZXRUYWciLCJpc0Z1bmMiLCJjbG9uZUJ1ZmZlciIsImluaXRDbG9uZU9iamVjdCIsImdldFN5bWJvbHNJbiIsImNvcHlTeW1ib2xzSW4iLCJrZXlzSW4iLCJiYXNlQXNzaWduSW4iLCJnZXRTeW1ib2xzIiwiY29weVN5bWJvbHMiLCJDdG9yIiwiY2xvbmVBcnJheUJ1ZmZlciIsImRhdGFWaWV3IiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImJ5dGVMZW5ndGgiLCJjbG9uZURhdGFWaWV3IiwiY2xvbmVUeXBlZEFycmF5IiwicmVnZXhwIiwiY2xvbmVSZWdFeHAiLCJzeW1ib2wiLCJpbml0Q2xvbmVCeVRhZyIsInN0YWNrZWQiLCJzdWJWYWx1ZSIsImdldEFsbEtleXNJbiIsImdldEFsbEtleXMiLCJiYXNlQ29uZm9ybXNUbyIsImJhc2VEZWxheSIsIndhaXQiLCJiYXNlRGlmZmVyZW5jZSIsImluY2x1ZGVzIiwiaXNDb21tb24iLCJ2YWx1ZXNMZW5ndGgiLCJvdXRlciIsImNvbXB1dGVkIiwidmFsdWVzSW5kZXgiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXNjYXBlIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsInZhcmlhYmxlIiwiaW1wb3J0cyIsInBvcCIsImhhc2giLCJnZXRNYXBEYXRhIiwiTEFSR0VfQVJSQVlfU0laRSIsImNyZWF0ZUJhc2VFYWNoIiwiYmFzZUZvck93biIsImJhc2VFYWNoUmlnaHQiLCJiYXNlRm9yT3duUmlnaHQiLCJiYXNlRXZlcnkiLCJiYXNlRXh0cmVtdW0iLCJpc1N5bWJvbCIsImJhc2VGaWx0ZXIiLCJiYXNlRmxhdHRlbiIsImRlcHRoIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJwYXRoIiwiY2FzdFBhdGgiLCJ0b0tleSIsImJhc2VHZXRBbGxLZXlzIiwia2V5c0Z1bmMiLCJzeW1ib2xzRnVuYyIsImJhc2VHZXRUYWciLCJpc093biIsInVubWFza2VkIiwiZ2V0UmF3VGFnIiwib2JqZWN0VG9TdHJpbmciLCJiYXNlR3QiLCJvdGhlciIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJJbmZpbml0eSIsInNlZW4iLCJiYXNlSW52b2tlIiwicGFyZW50IiwibGFzdCIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvdGhQcm9wcyIsIm9ialN0YWNrZWQiLCJvdGhTdGFja2VkIiwic2tpcEN0b3IiLCJvdGhWYWx1ZSIsImNvbXBhcmVkIiwib2JqQ3RvciIsIm90aEN0b3IiLCJlcXVhbE9iamVjdHMiLCJiYXNlSXNFcXVhbERlZXAiLCJiYXNlSXNNYXRjaCIsIm1hdGNoRGF0YSIsIm5vQ3VzdG9taXplciIsInNyY1ZhbHVlIiwiQ09NUEFSRV9QQVJUSUFMX0ZMQUciLCJiYXNlSXNOYXRpdmUiLCJiYXNlSXRlcmF0ZWUiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJwcm9wZXJ0eSIsImJhc2VLZXlzIiwiaXNQcm90b3R5cGUiLCJiYXNlS2V5c0luIiwibmF0aXZlS2V5c0luIiwiaXNQcm90byIsImJhc2VMdCIsImJhc2VNYXAiLCJpc0FycmF5TGlrZSIsImdldE1hdGNoRGF0YSIsIm1hdGNoZXNTdHJpY3RDb21wYXJhYmxlIiwiaXNLZXkiLCJpc1N0cmljdENvbXBhcmFibGUiLCJoYXNJbiIsImJhc2VNZXJnZSIsInNyY0luZGV4IiwibWVyZ2VGdW5jIiwic2FmZUdldCIsIm5ld1ZhbHVlIiwiaXNUeXBlZCIsImlzQXJyYXlMaWtlT2JqZWN0IiwiaXNQbGFpbk9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjcml0ZXJpYSIsImNvbXBhcmVyIiwic29ydCIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsIm90aENyaXRlcmlhIiwib3JkZXJzTGVuZ3RoIiwiY29tcGFyZUFzY2VuZGluZyIsImNvbXBhcmVNdWx0aXBsZSIsImJhc2VQaWNrQnkiLCJiYXNlU2V0IiwiYmFzZVB1bGxBbGwiLCJpbmRleE9mIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJwcmV2aW91cyIsImJhc2VVbnNldCIsImJhc2VSZXBlYXQiLCJiYXNlUmVzdCIsInN0YXJ0Iiwic2V0VG9TdHJpbmciLCJvdmVyUmVzdCIsImJhc2VTYW1wbGUiLCJiYXNlU2FtcGxlU2l6ZSIsIm5lc3RlZCIsImJhc2VTZXREYXRhIiwiYmFzZVNldFRvU3RyaW5nIiwiY29uc3RhbnQiLCJiYXNlU2h1ZmZsZSIsImJhc2VTbGljZSIsImVuZCIsImJhc2VTb21lIiwiYmFzZVNvcnRlZEluZGV4IiwicmV0SGlnaGVzdCIsImxvdyIsImhpZ2giLCJtaWQiLCJiYXNlU29ydGVkSW5kZXhCeSIsInZhbElzTmFOIiwidmFsSXNOdWxsIiwidmFsSXNTeW1ib2wiLCJ2YWxJc1VuZGVmaW5lZCIsIm90aElzRGVmaW5lZCIsIm90aElzTnVsbCIsIm90aElzUmVmbGV4aXZlIiwib3RoSXNTeW1ib2wiLCJzZXRMb3ciLCJiYXNlU29ydGVkVW5pcSIsImJhc2VUb051bWJlciIsImJhc2VUb1N0cmluZyIsImJhc2VVbmlxIiwiY3JlYXRlU2V0Iiwic2VlbkluZGV4IiwiYmFzZVVwZGF0ZSIsInVwZGF0ZXIiLCJiYXNlV2hpbGUiLCJpc0Ryb3AiLCJiYXNlV3JhcHBlclZhbHVlIiwiYWN0aW9ucyIsImFjdGlvbiIsImJhc2VYb3IiLCJiYXNlWmlwT2JqZWN0IiwiYXNzaWduRnVuYyIsInZhbHNMZW5ndGgiLCJjYXN0QXJyYXlMaWtlT2JqZWN0IiwiY2FzdEZ1bmN0aW9uIiwic3RyaW5nVG9QYXRoIiwiY2FzdFJlc3QiLCJjYXN0U2xpY2UiLCJjb3B5IiwiYXJyYXlCdWZmZXIiLCJ0eXBlZEFycmF5IiwidmFsSXNEZWZpbmVkIiwidmFsSXNSZWZsZXhpdmUiLCJjb21wb3NlQXJncyIsInBhcnRpYWxzIiwiaG9sZGVycyIsImlzQ3VycmllZCIsImFyZ3NJbmRleCIsImFyZ3NMZW5ndGgiLCJob2xkZXJzTGVuZ3RoIiwibGVmdEluZGV4IiwibGVmdExlbmd0aCIsInJhbmdlTGVuZ3RoIiwiaXNVbmN1cnJpZWQiLCJjb21wb3NlQXJnc1JpZ2h0IiwiaG9sZGVyc0luZGV4IiwicmlnaHRJbmRleCIsInJpZ2h0TGVuZ3RoIiwiaXNOZXciLCJjcmVhdGVBZ2dyZWdhdG9yIiwiaW5pdGlhbGl6ZXIiLCJjcmVhdGVBc3NpZ25lciIsImFzc2lnbmVyIiwic291cmNlcyIsImd1YXJkIiwiaXNJdGVyYXRlZUNhbGwiLCJpdGVyYWJsZSIsImNyZWF0ZUNhc2VGaXJzdCIsIm1ldGhvZE5hbWUiLCJ0cmFpbGluZyIsImNyZWF0ZUNvbXBvdW5kZXIiLCJjYWxsYmFjayIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsImFyZ3VtZW50cyIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJnZXRGdW5jTmFtZSIsImZ1bmNOYW1lIiwiZ2V0RGF0YSIsImlzTGF6aWFibGUiLCJwbGFudCIsImNyZWF0ZUh5YnJpZCIsInBhcnRpYWxzUmlnaHQiLCJob2xkZXJzUmlnaHQiLCJhcmdQb3MiLCJhcnkiLCJhcml0eSIsImlzQXJ5IiwiaXNCaW5kIiwiaXNCaW5kS2V5IiwiaXNGbGlwIiwiZ2V0SG9sZGVyIiwiaG9sZGVyc0NvdW50IiwibmV3SG9sZGVycyIsImNyZWF0ZVJlY3VycnkiLCJmbiIsInJlb3JkZXIiLCJjcmVhdGVJbnZlcnRlciIsInRvSXRlcmF0ZWUiLCJiYXNlSW52ZXJ0ZXIiLCJjcmVhdGVNYXRoT3BlcmF0aW9uIiwib3BlcmF0b3IiLCJkZWZhdWx0VmFsdWUiLCJjcmVhdGVPdmVyIiwiYXJyYXlGdW5jIiwiY3JlYXRlUGFkZGluZyIsImNoYXJzIiwiY2hhcnNMZW5ndGgiLCJjcmVhdGVSYW5nZSIsInN0ZXAiLCJ0b0Zpbml0ZSIsImJhc2VSYW5nZSIsImNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24iLCJ0b051bWJlciIsIndyYXBGdW5jIiwiaXNDdXJyeSIsIm5ld0RhdGEiLCJzZXREYXRhIiwic2V0V3JhcFRvU3RyaW5nIiwiY3JlYXRlUm91bmQiLCJwcmVjaXNpb24iLCJ0b0ludGVnZXIiLCJwYWlyIiwibm9vcCIsImNyZWF0ZVRvUGFpcnMiLCJzZXRUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwiZmxhdHRlbiIsIm90aGVyRnVuYyIsInR5cGUiLCJnZXRWYWx1ZSIsInN0dWJBcnJheSIsImhhc1BhdGgiLCJoYXNGdW5jIiwiaXNMZW5ndGgiLCJBcnJheUJ1ZmZlciIsImN0b3JTdHJpbmciLCJpc01hc2thYmxlIiwic3R1YkZhbHNlIiwib3RoZXJBcmdzIiwib2xkQXJyYXkiLCJzaG9ydE91dCIsInJlZmVyZW5jZSIsImRldGFpbHMiLCJpbnNlcnRXcmFwRGV0YWlscyIsInVwZGF0ZVdyYXBEZXRhaWxzIiwiZ2V0V3JhcERldGFpbHMiLCJjb3VudCIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsImNoYXJDb2RlQXQiLCJxdW90ZSIsInN1YlN0cmluZyIsImNsb25lIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsIiwicHVsbEFsbCIsInB1bGxBdCIsInVuaW9uIiwidW5pb25CeSIsInVuaW9uV2l0aCIsInVuemlwIiwiZ3JvdXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZCIsImZpbmRMYXN0IiwiZm9yRWFjaFJpZ2h0IiwiZ3JvdXBCeSIsImludm9rZU1hcCIsImtleUJ5IiwicGFydGl0aW9uIiwic29ydEJ5IiwiYmVmb3JlIiwiYmluZEtleSIsIldSQVBfQklORF9GTEFHIiwiZGVib3VuY2UiLCJvcHRpb25zIiwibGFzdEFyZ3MiLCJsYXN0VGhpcyIsIm1heFdhaXQiLCJ0aW1lcklkIiwibGFzdENhbGxUaW1lIiwibGFzdEludm9rZVRpbWUiLCJsZWFkaW5nIiwibWF4aW5nIiwiaW52b2tlRnVuYyIsInRpbWUiLCJsZWFkaW5nRWRnZSIsInRpbWVyRXhwaXJlZCIsInNob3VsZEludm9rZSIsInRpbWVTaW5jZUxhc3RDYWxsIiwidHJhaWxpbmdFZGdlIiwidGltZVdhaXRpbmciLCJyZW1haW5pbmdXYWl0IiwiZGVib3VuY2VkIiwiaXNJbnZva2luZyIsImZsdXNoIiwiZGVmZXIiLCJkZWxheSIsInJlc29sdmVyIiwibWVtb2l6ZWQiLCJDYWNoZSIsIm5lZ2F0ZSIsIm92ZXJBcmdzIiwidHJhbnNmb3JtcyIsImZ1bmNzTGVuZ3RoIiwicGFydGlhbCIsInBhcnRpYWxSaWdodCIsInJlYXJnIiwiZ3QiLCJndGUiLCJpc0Vycm9yIiwiaXNJbnRlZ2VyIiwiaXNOdW1iZXIiLCJpc1N0cmluZyIsImx0IiwibHRlIiwidG9BcnJheSIsIm5leHQiLCJkb25lIiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbiIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJtZXJnZSIsIm9taXQiLCJDTE9ORV9ERUVQX0ZMQUciLCJiYXNlUGljayIsInBpY2tCeSIsInRvUGFpcnMiLCJ0b1BhaXJzSW4iLCJjYW1lbENhc2UiLCJ3b3JkIiwidG9Mb3dlckNhc2UiLCJjYXBpdGFsaXplIiwidXBwZXJGaXJzdCIsImtlYmFiQ2FzZSIsImxvd2VyQ2FzZSIsImxvd2VyRmlyc3QiLCJzbmFrZUNhc2UiLCJzdGFydENhc2UiLCJ1cHBlckNhc2UiLCJ0b1VwcGVyQ2FzZSIsInBhdHRlcm4iLCJoYXNVbmljb2RlV29yZCIsInVuaWNvZGVXb3JkcyIsImFzY2lpV29yZHMiLCJhdHRlbXB0IiwiYmluZEFsbCIsIm1ldGhvZE5hbWVzIiwiZmxvdyIsImZsb3dSaWdodCIsIm1ldGhvZE9mIiwibWl4aW4iLCJvdmVyIiwib3ZlckV2ZXJ5Iiwib3ZlclNvbWUiLCJiYXNlUHJvcGVydHlEZWVwIiwicmFuZ2UiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbHkiLCJtdWx0aXBsaWVyIiwibXVsdGlwbGljYW5kIiwicm91bmQiLCJzdWJ0cmFjdCIsIm1pbnVlbmQiLCJzdWJ0cmFoZW5kIiwiYWZ0ZXIiLCJjYXN0QXJyYXkiLCJjaHVuayIsImNvbXBhY3QiLCJjb25jYXQiLCJjb25kIiwiY29uZm9ybXMiLCJiYXNlQ29uZm9ybXMiLCJwcm9wZXJ0aWVzIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcCIsImRyb3BSaWdodCIsImRyb3BSaWdodFdoaWxlIiwiZHJvcFdoaWxlIiwiZmlsbCIsImJhc2VGaWxsIiwiZmlsdGVyIiwiZmxhdE1hcCIsImZsYXRNYXBEZWVwIiwiZmxhdE1hcERlcHRoIiwiZmxhdHRlbkRlZXAiLCJmbGF0dGVuRGVwdGgiLCJmbGlwIiwiZnJvbVBhaXJzIiwiZnVuY3Rpb25zIiwiZnVuY3Rpb25zSW4iLCJpbml0aWFsIiwibWFwS2V5cyIsIm1hcFZhbHVlcyIsIm1hdGNoZXNQcm9wZXJ0eSIsIm50aEFyZyIsIm9taXRCeSIsIm9uY2UiLCJvcmRlckJ5IiwicHJvcGVydHlPZiIsInB1bGxBbGxCeSIsInB1bGxBbGxXaXRoIiwicmVzdCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJsaW1pdCIsInNwcmVhZCIsInRhaWwiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcSIsInVuaXFCeSIsInVuaXFXaXRoIiwidW5zZXQiLCJ1cGRhdGVXaXRoIiwidmFsdWVzSW4iLCJ3cmFwIiwiemlwT2JqZWN0IiwiemlwT2JqZWN0RGVlcCIsImVudHJpZXNJbiIsImV4dGVuZCIsImV4dGVuZFdpdGgiLCJjbGFtcCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJwb3NpdGlvbiIsImVzY2FwZVJlZ0V4cCIsImV2ZXJ5IiwiZmluZEtleSIsImZpbmRMYXN0S2V5IiwiZm9ySW4iLCJmb3JJblJpZ2h0IiwiZm9yT3duIiwiZm9yT3duUmlnaHQiLCJpblJhbmdlIiwiYmFzZUluUmFuZ2UiLCJpc0Jvb2xlYW4iLCJpc0VsZW1lbnQiLCJpc0VtcHR5IiwiaXNFcXVhbCIsImlzRXF1YWxXaXRoIiwiaXNNYXRjaCIsImlzTWF0Y2hXaXRoIiwiaXNOYU4iLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0IiwibGFzdEluZGV4T2YiLCJzdHJpY3RMYXN0SW5kZXhPZiIsIm1heEJ5IiwibWVhbiIsIm1lYW5CeSIsIm1pbkJ5Iiwic3R1Yk9iamVjdCIsInN0dWJTdHJpbmciLCJzdHViVHJ1ZSIsIm50aCIsIm5vQ29uZmxpY3QiLCJwYWQiLCJzdHJMZW5ndGgiLCJwYWRFbmQiLCJwYWRTdGFydCIsInJhZGl4IiwiZmxvYXRpbmciLCJ0ZW1wIiwicmVkdWNlIiwicmVkdWNlUmlnaHQiLCJyZXBlYXQiLCJzYW1wbGUiLCJzb21lIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzS2V5cyIsImltcG9ydHNWYWx1ZXMiLCJyZURlbGltaXRlcnMiLCJzb3VyY2VVUkwiLCJlc2NhcGVWYWx1ZSIsImludGVycG9sYXRlVmFsdWUiLCJlc1RlbXBsYXRlVmFsdWUiLCJldmFsdWF0ZVZhbHVlIiwidGltZXMiLCJ0b0xvd2VyIiwidG9TYWZlSW50ZWdlciIsInRvVXBwZXIiLCJ0cmltIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJzdWJzdHJpbmciLCJnbG9iYWwiLCJuZXdFbmQiLCJ1bmVzY2FwZSIsInVuaXF1ZUlkIiwicHJlZml4IiwiZWFjaCIsImVhY2hSaWdodCIsImZpcnN0IiwiVkVSU0lPTiIsImlzRmlsdGVyIiwidGFrZU5hbWUiLCJkcm9wTmFtZSIsImNoZWNrSXRlcmF0ZWUiLCJpc1Rha2VyIiwibG9kYXNoRnVuYyIsInJldFVud3JhcHBlZCIsImlzTGF6eSIsInVzZUxhenkiLCJpc0h5YnJpZCIsImlzVW53cmFwcGVkIiwib25seUxhenkiLCJjaGFpbk5hbWUiLCJkaXIiLCJpc1JpZ2h0IiwidmlldyIsImdldFZpZXciLCJpdGVyTGVuZ3RoIiwidGFrZUNvdW50IiwiaXRlckluZGV4IiwiY29tbWl0Iiwid3JhcHBlZCIsInRvSlNPTiIsImRlZmluZSIsImFtZCIsInBhcmNlbFJlcXVpcmUiLCJyZWdpc3RlciIsIkpTT04iLCJwYXJzZSIsIiQxdDc0RyIsIiQ1NmNmMDEyYTZhNGZjM2UxJGV4cG9ydHMiLCJhbGljZWJsdWUiLCJhbnRpcXVld2hpdGUiLCJhcXVhIiwiYXF1YW1hcmluZSIsImF6dXJlIiwiYmVpZ2UiLCJiaXNxdWUiLCJibGFjayIsImJsYW5jaGVkYWxtb25kIiwiYmx1ZSIsImJsdWV2aW9sZXQiLCJicm93biIsImJ1cmx5d29vZCIsImNhZGV0Ymx1ZSIsImNoYXJ0cmV1c2UiLCJjaG9jb2xhdGUiLCJjb3JhbCIsImNvcm5mbG93ZXJibHVlIiwiY29ybnNpbGsiLCJjcmltc29uIiwiY3lhbiIsImRhcmtibHVlIiwiZGFya2N5YW4iLCJkYXJrZ29sZGVucm9kIiwiZGFya2dyYXkiLCJkYXJrZ3JlZW4iLCJkYXJrZ3JleSIsImRhcmtraGFraSIsImRhcmttYWdlbnRhIiwiZGFya29saXZlZ3JlZW4iLCJkYXJrb3JhbmdlIiwiZGFya29yY2hpZCIsImRhcmtyZWQiLCJkYXJrc2FsbW9uIiwiZGFya3NlYWdyZWVuIiwiZGFya3NsYXRlYmx1ZSIsImRhcmtzbGF0ZWdyYXkiLCJkYXJrc2xhdGVncmV5IiwiZGFya3R1cnF1b2lzZSIsImRhcmt2aW9sZXQiLCJkZWVwcGluayIsImRlZXBza3libHVlIiwiZGltZ3JheSIsImRpbWdyZXkiLCJkb2RnZXJibHVlIiwiZmlyZWJyaWNrIiwiZmxvcmFsd2hpdGUiLCJmb3Jlc3RncmVlbiIsImZ1Y2hzaWEiLCJnYWluc2Jvcm8iLCJnaG9zdHdoaXRlIiwiZ29sZCIsImdvbGRlbnJvZCIsImdyYXkiLCJncmVlbiIsImdyZWVueWVsbG93IiwiZ3JleSIsImhvbmV5ZGV3IiwiaG90cGluayIsImluZGlhbnJlZCIsImluZGlnbyIsIml2b3J5Iiwia2hha2kiLCJsYXZlbmRlciIsImxhdmVuZGVyYmx1c2giLCJsYXduZ3JlZW4iLCJsZW1vbmNoaWZmb24iLCJsaWdodGJsdWUiLCJsaWdodGNvcmFsIiwibGlnaHRjeWFuIiwibGlnaHRnb2xkZW5yb2R5ZWxsb3ciLCJsaWdodGdyYXkiLCJsaWdodGdyZWVuIiwibGlnaHRncmV5IiwibGlnaHRwaW5rIiwibGlnaHRzYWxtb24iLCJsaWdodHNlYWdyZWVuIiwibGlnaHRza3libHVlIiwibGlnaHRzbGF0ZWdyYXkiLCJsaWdodHNsYXRlZ3JleSIsImxpZ2h0c3RlZWxibHVlIiwibGlnaHR5ZWxsb3ciLCJsaW1lIiwibGltZWdyZWVuIiwibGluZW4iLCJtYWdlbnRhIiwibWFyb29uIiwibWVkaXVtYXF1YW1hcmluZSIsIm1lZGl1bWJsdWUiLCJtZWRpdW1vcmNoaWQiLCJtZWRpdW1wdXJwbGUiLCJtZWRpdW1zZWFncmVlbiIsIm1lZGl1bXNsYXRlYmx1ZSIsIm1lZGl1bXNwcmluZ2dyZWVuIiwibWVkaXVtdHVycXVvaXNlIiwibWVkaXVtdmlvbGV0cmVkIiwibWlkbmlnaHRibHVlIiwibWludGNyZWFtIiwibWlzdHlyb3NlIiwibW9jY2FzaW4iLCJuYXZham93aGl0ZSIsIm5hdnkiLCJvbGRsYWNlIiwib2xpdmUiLCJvbGl2ZWRyYWIiLCJvcmFuZ2UiLCJvcmFuZ2VyZWQiLCJvcmNoaWQiLCJwYWxlZ29sZGVucm9kIiwicGFsZWdyZWVuIiwicGFsZXR1cnF1b2lzZSIsInBhbGV2aW9sZXRyZWQiLCJwYXBheWF3aGlwIiwicGVhY2hwdWZmIiwicGVydSIsInBpbmsiLCJwbHVtIiwicG93ZGVyYmx1ZSIsInB1cnBsZSIsInJlYmVjY2FwdXJwbGUiLCJyZWQiLCJyb3N5YnJvd24iLCJyb3lhbGJsdWUiLCJzYWRkbGVicm93biIsInNhbG1vbiIsInNhbmR5YnJvd24iLCJzZWFncmVlbiIsInNlYXNoZWxsIiwic2llbm5hIiwic2lsdmVyIiwic2t5Ymx1ZSIsInNsYXRlYmx1ZSIsInNsYXRlZ3JheSIsInNsYXRlZ3JleSIsInNub3ciLCJzcHJpbmdncmVlbiIsInN0ZWVsYmx1ZSIsInRhbiIsInRlYWwiLCJ0aGlzdGxlIiwidG9tYXRvIiwidHVycXVvaXNlIiwidmlvbGV0Iiwid2hlYXQiLCJ3aGl0ZSIsIndoaXRlc21va2UiLCJ5ZWxsb3ciLCJ5ZWxsb3dncmVlbiIsIiQ0OTZhMmJlYzJjNmE4MzczJGV4cG9ydHMiLCJvYmoiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCIkNjM3ZGYwYTE3ZjA2NjJhOSR2YXIkY29uY2F0IiwiJDYzN2RmMGExN2YwNjYyYTkkdmFyJHNsaWNlIiwiJDYzN2RmMGExN2YwNjYyYTkkdmFyJHN3aXp6bGUiLCIkNjM3ZGYwYTE3ZjA2NjJhOSRleHBvcnRzIiwicmVzdWx0cyIsImxlbiIsIiQyMTJjZGUzMDg4NGI3ZDJmJHZhciRoYXNPd25Qcm9wZXJ0eSIsIiQyMTJjZGUzMDg4NGI3ZDJmJHZhciRyZXZlcnNlTmFtZXMiLCIkMjEyY2RlMzA4ODRiN2QyZiR2YXIkbmFtZSIsIiQyMTJjZGUzMDg4NGI3ZDJmJHZhciRjcyIsIiQyMTJjZGUzMDg4NGI3ZDJmJGV4cG9ydHMiLCJ0byIsIiQyMTJjZGUzMDg4NGI3ZDJmJHZhciRjbGFtcCIsIm51bSIsIiQyMTJjZGUzMDg4NGI3ZDJmJHZhciRoZXhEb3VibGUiLCJzdHIiLCJ2YWwiLCJtb2RlbCIsImhzbCIsImh3YiIsInJnYiIsImhleEFscGhhIiwiaTIiLCJhbHBoYSIsImhleCIsInJnYmEiLCJwZXJjZW50IiwiciIsImciLCJiIiwiaHNsYSIsImh3YmEiLCJhIiwia2V5d29yZCIsIiQ3NDFlYTc0NDAwMzBmNTY5JHZhciRyZXZlcnNlS2V5d29yZHMiLCIkNzQxZWE3NDQwMDMwZjU2OSR2YXIkY29udmVydCIsImNoYW5uZWxzIiwibGFiZWxzIiwiaHN2IiwiY215ayIsInh5eiIsImxhYiIsImxjaCIsImFuc2kxNiIsImFuc2kyNTYiLCJoY2ciLCJhcHBsZSIsIiQ3NDFlYTc0NDAwMzBmNTY5JGV4cG9ydHMiLCJkZWx0YSIsImgiLCJzIiwibCIsInJkaWYiLCJnZGlmIiwiYmRpZiIsInYiLCJkaWZmIiwiZGlmZmMiLCJjIiwidyIsImsiLCJyZXZlcnNlZCIsImN1cnJlbnRDbG9zZXN0S2V5d29yZCIsImN1cnJlbnRDbG9zZXN0RGlzdGFuY2UiLCJkaXN0YW5jZSIsInkiLCJ4IiwieiIsInQyIiwidDMiLCJ0MSIsInNtaW4iLCJsbWluIiwiaGkiLCJmIiwicCIsInEiLCJ0Iiwidm1pbiIsInNsIiwid2giLCJibCIsInJhdGlvIiwibSIsInkyIiwieDIiLCJ6MiIsImF0YW4yIiwiUEkiLCJzcXJ0IiwiaHIiLCJjb3MiLCJzaW4iLCJzYXR1cmF0aW9uIiwiYW5zaSIsImNvbG9yIiwibXVsdCIsInJlbSIsImNvbG9yU3RyaW5nIiwiY2hhciIsImludGVnZXIiLCJjaHJvbWEiLCJncmF5c2NhbGUiLCJodWUiLCJwdXJlIiwibWciLCIkMzcwYWE1ZWIwNTQxMjBkNiR2YXIkZGVyaXZlQkZTIiwiZnJvbU1vZGVsIiwiZ3JhcGgiLCJtb2RlbHMiLCIkMzcwYWE1ZWIwNTQxMjBkNiR2YXIkYnVpbGRHcmFwaCIsInF1ZXVlIiwiYWRqYWNlbnRzIiwiYWRqYWNlbnQiLCJub2RlIiwidW5zaGlmdCIsIiQzNzBhYTVlYjA1NDEyMGQ2JHZhciRsaW5rIiwiZnJvbSIsIiQzNzBhYTVlYjA1NDEyMGQ2JHZhciR3cmFwQ29udmVyc2lvbiIsInRvTW9kZWwiLCJjdXIiLCJjb252ZXJzaW9uIiwiJDM3MGFhNWViMDU0MTIwZDYkZXhwb3J0cyIsIiQ4NmI1NmZjMWYzNTQ5N2NjJHZhciRjb252ZXJ0Iiwicm91dGVzIiwid3JhcHBlZEZuIiwiYXJnMCIsIiQ4NmI1NmZjMWYzNTQ5N2NjJHZhciR3cmFwUm91bmRlZCIsInJhdyIsIiQ4NmI1NmZjMWYzNTQ5N2NjJHZhciR3cmFwUmF3IiwiJDg2YjU2ZmMxZjM1NDk3Y2MkZXhwb3J0cyIsIiQxOTRkNmY0OTk1ZDU0ZjY4JHZhciRza2lwcGVkTW9kZWxzIiwiJDE5NGQ2ZjQ5OTVkNTRmNjgkdmFyJGhhc2hlZE1vZGVsS2V5cyIsIiQxOTRkNmY0OTk1ZDU0ZjY4JHZhciRsaW1pdGVycyIsIiQxOTRkNmY0OTk1ZDU0ZjY4JHZhciRDb2xvciIsInZhbHBoYSIsIm5ld0FycmF5IiwiJDE5NGQ2ZjQ5OTVkNTRmNjgkdmFyJHplcm9BcnJheSIsImhhc2hlZEtleXMiLCJzdHJpbmdpZnkiLCJmcmVlemUiLCJwbGFjZXMiLCJwZXJjZW50U3RyaW5nIiwidW5pdEFycmF5IiwidW5pdE9iamVjdCIsIiQxOTRkNmY0OTk1ZDU0ZjY4JHZhciRyb3VuZFRvUGxhY2UiLCIkMTk0ZDZmNDk5NWQ1NGY2OCR2YXIkZ2V0c2V0IiwiJDE5NGQ2ZjQ5OTVkNTRmNjgkdmFyJG1heGZuIiwic2F0dXJhdGlvbmwiLCJsaWdodG5lc3MiLCJzYXR1cmF0aW9udiIsIndibGFjayIsImhleGEiLCJyZ2JBcnJheSIsImFscGhhSGV4IiwicmdiTnVtYmVyIiwibHVtaW5vc2l0eSIsImx1bSIsImVsZW1lbnQiLCJjaGFuIiwiY29udHJhc3QiLCJjb2xvcjIiLCJsdW0xIiwibHVtMiIsImxldmVsIiwiY29udHJhc3RSYXRpbyIsImlzRGFyayIsImlzTGlnaHQiLCJsaWdodGVuIiwiZGFya2VuIiwic2F0dXJhdGUiLCJkZXNhdHVyYXRlIiwid2hpdGVuIiwiYmxhY2tlbiIsImZhZGUiLCJvcGFxdWVyIiwicm90YXRlIiwiZGVncmVlcyIsIm1peCIsIm1peGluQ29sb3IiLCJ3ZWlnaHQiLCJjb2xvcjEiLCJ3MSIsIncyIiwiTnVtYmVyIiwidG9GaXhlZCIsIiQxOTRkNmY0OTk1ZDU0ZjY4JHZhciRyb3VuZFRvIiwiY2hhbm5lbCIsIm1vZGlmaWVyIiwiJDE5NGQ2ZjQ5OTVkNTRmNjgkZXhwb3J0cyIsIiRhNzM1NTFkYTY2ZjNmZWMwJGV4cG9ydCQ2MjY4MGI2NWU2M2UxNGVjIiwiaGludFVwcGVyY2FzZUxldHRlcnMiLCJoaW50Rm9udEZhbWlseSIsImhpbnRGb250U2l6ZSIsImhpbnRXZWlnaHQiLCJoaW50QmFja2dyb3VuZENvbG9yIiwiaGludEJhY2tncm91bmRPcGFjaXR5IiwiaGludEZvbnRDb2xvciIsImhpbnRCb3JkZXJXaWR0aCIsImhpbnRCb3JkZXJSYWRpdXMiLCJoaW50TWluaW11bUNvbnRyYXN0UmF0aW8iLCJzY3JvbGxCZWhhdmlvciIsImhpbnRzVG9nZ2xlR2xvYmFsIiwiaGludHNUb2dnbGVIb3N0cyIsImhpbnRzVG9nZ2xlUGF0aHMiLCJoaW50c1RvZ2dsZVRhYnMiLCJlbmFibGVOb3RpZmljYXRpb25zIiwidG9hc3RQb3NpdGlvbiIsInRvYXN0VHJhbnNpdGlvbiIsInRvYXN0RHVyYXRpb24iLCJpbmNsdWRlU2luZ2xlTGV0dGVySGludHMiLCJ1cmxJblRpdGxlIiwiaW5jbHVkZVRhYk1hcmtlcnMiLCJ1cHBlcmNhc2VUYWJNYXJrZXJzIiwia2V5Ym9hcmRDbGlja2luZyIsImN1c3RvbVNlbGVjdG9ycyIsInNob3dXaGF0c05ld1BhZ2VPblVwZGF0ZSIsIm5ld1RhYlBvc2l0aW9uIiwiaGFzU2VlblNldHRpbmdzUGFnZSIsImRpcmVjdENsaWNrV2l0aE5vRm9jdXNlZERvY3VtZW50IiwiZGlyZWN0Q2xpY2tXaGVuRWRpdGluZyIsIiRhNzM1NTFkYTY2ZjNmZWMwJHZhciRpc1ZhbGlkQ29sb3IiLCIkcGFyY2VsJGludGVyb3BEZWZhdWx0IiwiJGE3MzU1MWRhNjZmM2ZlYzAkdmFyJGlzV2l0aGluUmFuZ2UiLCIkYTczNTUxZGE2NmYzZmVjMCR2YXIkdmFsaWRhdG9ycyIsIiRhNzM1NTFkYTY2ZjNmZWMwJGV4cG9ydCRjNDA2YzQyMjdhMTEzYzVlIiwiJGE3MzU1MWRhNjZmM2ZlYzAkZXhwb3J0JDg3YzJjMTRjZjM4NWM1NTUiLCJ2YWxpZGF0b3IiLCIkNmU4OGNlNTQ2MzgyOWMwNiR2YXIkdXNlTG9jYWxTdG9yYWdlIiwiJDZlODhjZTU0NjM4MjljMDYkdmFyJHJlcGxhY2VyIiwiX2tleSIsImRhdGFUeXBlIiwiJDZlODhjZTU0NjM4MjljMDYkdmFyJHJldml2ZXIiLCJhc3luYyIsIiQ2ZTg4Y2U1NDYzODI5YzA2JGV4cG9ydCQ2ZjU3ODEzZmU5ZjMxYmY5Iiwic3RyaW5naWZpZWQiLCIkNmU4OGNlNTQ2MzgyOWMwNiRleHBvcnQkYmQyMzNkOWNmNjE4NzNmOSIsIiQ2ZTg4Y2U1NDYzODI5YzA2JGV4cG9ydCRkZTZjMWRmNmEyNDE4NDFlIiwiJDZlODhjZTU0NjM4MjljMDYkZXhwb3J0JDhhNGQxN2I2ZTg0ODZlNjYiLCJyZXRyaWV2ZWQiLCJqc29uU3RyaW5nIiwicGFyc2VkVmFsdWUiLCJjdXN0b21TZWxlY3RvcnNNYXAiLCIkZTJmN2JjZWU1ODk2MGQ2YSRleHBvcnRzIiwiZ2V0QnVuZGxlVVJMIiwiJGJmNTdkMDQ3YzUxMGE5MTYkZXhwb3J0cyIsIiQ1YTZlMzU5YmI0OTZmNTFmJGV4cG9ydHMiLCIkODllYmUwM2VkN2MzODhmOCRleHBvcnRzIiwiJGI2M2JkOGU3ZWEyZmIxOTUkZXhwb3J0cyIsIiQ2MTVmMDg2NDYyNTY3MmMwJGV4cG9ydHMiLCIkODhhMzc0ODIyZDYzOTRlZSRleHBvcnRzIiwiJDgwNTA5NTEzMWU0NWFmYjkkZXhwb3J0JGJjYWU5YmE2MjdmNjA0YjYiLCJpY29uNDgiLCJVUkwiLCJpY29uMTI4IiwiaWNvblN2ZyIsImljb25LZXlib2FyZDQ4Iiwib2Zmc2NyZWVuRG9jdW1lbnQiLCJ3aGF0c05ld1BhZ2UiLCJvbmJvYXJkaW5nIiwiJGY5YTdmZTY1M2U4ZmNiYmYkZXhwb3J0JDliNzY5MmYwYzIwN2E3Y2QiLCIkZjlhN2ZlNjUzZThmY2JiZiRleHBvcnQkYjY3OWFiZGI2MzA5ZTUxYiIsInN0YXR1cyIsIiRkOTkwZDIwYmEyODExMjYwJGV4cG9ydCQyM2ZlOWI1ZTA2YTJmOTU1IiwiY3VycmVudFRhYiIsImN1cnJlbnRXaW5kb3ciLCJhY3RpdmUiLCIkZDk5MGQyMGJhMjgxMTI2MCRleHBvcnQkMmZkNjEzZGZjYmFkZGY0YyIsIiQxNmZjYzIxMDBhY2Y2ZWM2JGV4cG9ydCQxMDUwZjgzNWI2M2I2NzFlIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsIiQxNmZjYzIxMDBhY2Y2ZWM2JGV4cG9ydCQ2N2ViZWY2MGU2ZjI4YTYiLCJib2R5IiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsInZlcmIiLCJ0aHJvdyIsInJldHVybiIsIm9wIiwiJDFmOTRkN2E2N2E3MzJhNzMkZXhwb3J0JDU5Y2IwMDk2ZDU3ODMxMzMiLCIkYzliNzVhNDZkNjM3MGNkYiRleHBvcnQkMmUyYmNkODczOWFlMDM5IiwiU2VtYXBob3JlIiwiX21heENvbmN1cnJlbmN5IiwiX2NhbmNlbEVycm9yIiwiX3F1ZXVlIiwiX3dhaXRlcnMiLCJfdmFsdWUiLCJhY3F1aXJlIiwiX3RoaXMiLCJsb2NrZWQiLCJpc0xvY2tlZCIsInRpY2tldFByb21pc2UiLCJfZGlzcGF0Y2giLCJydW5FeGNsdXNpdmUiLCJfYSIsInJlbGVhc2UiLCJfYiIsIndhaXRGb3JVbmxvY2siLCJfY3VycmVudFJlbGVhc2VyIiwicmVsZWFzZXIiLCJ0aWNrZXQiLCJuZXh0VGlja2V0Iiwic2hpZnQiLCJyZWxlYXNlZCIsIl9yZXNvbHZlV2FpdGVycyIsIndhaXRlciIsIiQyMjMwMGY5OGI0NDg3MTZiJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkiLCJNdXRleCIsImNhbmNlbEVycm9yIiwiX3NlbWFwaG9yZSIsIiQ0YzNjNmFhNTkyZGYwZWI3JGV4cG9ydCQ5NGU0ZGZhOGU4OGZlZTE2IiwiJDljM2FmNGI2NWQ0OGNiOGIkdmFyJHByZWxvYWRUYWJzIiwiJDljM2FmNGI2NWQ0OGNiOGIkZXhwb3J0JDE3ZmUzZmIyYmIzMDkyZWIiLCJjdXJyZW50VGFiSWQiLCJjb21wbGV0ZWQiLCIkOWMzYWY0YjY1ZDQ4Y2I4YiRleHBvcnQkZDM5Y2M2ZGQ4Y2NlZjhhOCIsIiQ5YzNhZjRiNjVkNDhjYjhiJGV4cG9ydCQ1MGZlMDc0ZDc2ZTNhYzZhIiwidGFiSWQiLCJwcmVsb2FkVGFiRGV0YWlscyIsImN1cnJlbnRNYWluRnJhbWUiLCJmcmFtZSIsImZyYW1lSWQiLCJkZWxldGUiLCIkOWUzZWE0NTFkNjE3YjNlNyR2YXIkZ2V0RW1wdHlTdGFjayIsImZyZWUiLCJhc3NpZ25lZCIsIiQ5ZTNlYTQ1MWQ2MTdiM2U3JHZhciRyZXNldFN0YWNrIiwiZW1wdHlTdGFjayIsIiQ5ZTNlYTQ1MWQ2MTdiM2U3JHZhciRtdXRleCIsIiQ5ZTNlYTQ1MWQ2MTdiM2U3JGV4cG9ydCQ3YWU2NTk1ZWYzNWU5MThkIiwic3RhY2tzIiwiJDllM2VhNDUxZDYxN2IzZTckdmFyJF9nZXRTdGFjayIsIiQ5ZTNlYTQ1MWQ2MTdiM2U3JHZhciRfc2F2ZVN0YWNrIiwiJDllM2VhNDUxZDYxN2IzZTckZXhwb3J0JDJmNDU2NGM0M2E2MGYwODkiLCIkOWUzZWE0NTFkNjE3YjNlNyRleHBvcnQkNzg3Mzk5MjY3OTlmNmQwOSIsImFtb3VudCIsImhpbnRzQ2xhaW1lZCIsImhpbnQiLCJoaW50c0luVGFiIiwiaGludHMiLCIkOWUzZWE0NTFkNjE3YjNlNyRleHBvcnQkODMzN2YxYWE1Y2ZkYmVhMiIsIm90aGVyRnJhbWVzSWRzIiwicmVjbGFpbWVkIiwicmVjbGFpbWVkRnJvbUZyYW1lIiwiJDllM2VhNDUxZDYxN2IzZTckZXhwb3J0JDEzMjI4NGQ2MjVmOWU3MzQiLCIkOWUzZWE0NTFkNjE3YjNlNyRleHBvcnQkNzA1YTc0YmQyOGZiOGUxYiIsImZpbHRlcmVkSGludHMiLCJsb2NhbGVDb21wYXJlIiwiJDNkOGU3NzJlMDY3ODYzM2MkZXhwb3J0JGRhYjFkOTQ1MjIxYzFlOWUiLCJoaW50c0J5RnJhbWUiLCJyZXF1ZXN0cyIsImhpbnRGcmFtZUlkIiwiaGludHNJbkZyYW1lIiwiJGVjMTA3NzM3NmFhYjliNzIkdmFyJGxhc3RTY3JvbGxGcmFtZUlkIiwiJGVjMTA3NzM3NmFhYjliNzIkdmFyJHRvQWxsRnJhbWVzIiwiJGVjMTA3NzM3NmFhYjliNzIkZXhwb3J0JGFkM2U3Y2MwNDM4ZTNhMWYiLCJ0YXJnZXRUYWJJZCIsInJlcXVlc3RzQnlGcmFtZSIsInNlbmRpbmciLCJyYW5nb0FjdGlvbiIsImFsbFNldHRsZWQiLCIkOGQwYmU1YzM3MWZjMWI4ZSR2YXIkcHJlbG9hZFRhYk9uQ29tcGxldGVkSGFuZGxlciIsIm9uQ29tcGxldGVkIiwiJDhkMGJlNWMzNzFmYzFiOGUkZXhwb3J0JGU3MTM5MGJjY2EwN2RkMjYiLCJvbkNvbW1pdHRlZCIsIiQ3NTBiNTRhMWU5YmQ2ZDFhJGV4cG9ydCQyY2VlODRmZDBiZDZlYjliIiwiJDc1MGI1NGExZTliZDZkMWEkZXhwb3J0JDJlZWVmNzIzMWVmMDdiYTQiLCJpY29uUGF0aCIsInBhdGhuYW1lIiwiJGNhM2ZkN2NkMDkxMDBiZjIkZXhwb3J0JGJkOTdjNjY2MDJlMzIyZDIiLCJrZXlib2FyZENsaWNraW5nT2xkIiwiJDNiOTBhZDdkMzFmMzdmNmEkZXhwb3J0JDRkNjI5YTM3NzFiYjU5OWIiLCJjb250ZXh0cyIsInRpdGxlIiwiY2hlY2tlZCIsIm9uQ2hhbmdlZCIsImNoYW5nZXMiLCIkY2M0ZWM0YjY3NTE1NTI3ZSR2YXIkbXV0ZXgiLCIkY2M0ZWM0YjY3NTE1NTI3ZSR2YXIkd2l0aFRhYk1hcmtlcnMiLCJ0YWJNYXJrZXJzIiwidGFiSWRzVG9NYXJrZXJzIiwibWFya2Vyc1RvVGFiSWRzIiwiJGNjNGVjNGI2NzUxNTUyN2UkZXhwb3J0JDMzZjZlNDI2YjViYTQ3NiIsIm1hcmtlciIsIiRjYzRlYzRiNjc1MTU1MjdlJGV4cG9ydCQ1MzAwZjBjMDY1MmIyOTg1IiwiJGNjNGVjNGI2NzUxNTUyN2UkdmFyJHJlc2V0VGFiTWFya2VycyIsIiRjYzRlYzRiNjc1MTU1MjdlJGV4cG9ydCQxMGIwOGQ2MDdlZWRjMWUyIiwiYWxsIiwidGFiIiwiJGNjNGVjNGI2NzUxNTUyN2UkZXhwb3J0JGQ4ODM2YWNmNTBkZTkxMzMiLCJyZWZyZXNoaW5nIiwiJGEyZWQ2ZDM4NDczMmVhZmUkZXhwb3J0JDk1ZGYwOGJhZTU0Y2I0ZGYiLCJuYXZpZ2F0b3IiLCJ2ZW5kb3IiLCJvblJlbW92ZWQiLCIkY2M0ZWM0YjY3NTE1NTI3ZSR2YXIkcmVsZWFzZU1hcmtlciIsIm9uUmVwbGFjZWQiLCJhZGRlZFRhYklkIiwicmVtb3ZlZFRhYklkIiwidGFiTWFya2VyIiwiJGM1MDFmNDc4YWM2ODVhM2EkdmFyJG11dGV4IiwiJGM1MDFmNDc4YWM2ODVhM2EkdmFyJHVwZGF0ZVJlY2VudFRhYiIsIndpbmRvd0lkIiwidGFic0J5UmVjZW5jeSIsInRhYnNJZHMiLCIkYzUwMWY0NzhhYzY4NWEzYSRleHBvcnQkOWY0ODMyODBhM2Q4NDA5NiIsIm9uQWN0aXZhdGVkIiwiYWN0aXZlSW5mbyIsInJlbW92ZUluZm8iLCIkZTIyOTE2Mjg0YTA4Y2ZkNyR2YXIkcmVzZXRIaW50c1N0YWNrcyIsIiRlMjI5MTYyODRhMDhjZmQ3JGV4cG9ydCQzYzNhZDZiYjc4MTk2MDU5Iiwib25JbnN0YWxsZWQiLCJyZWFzb24iLCJwcmV2aW91c1ZlcnNpb24iLCJoaW50c1RvZ2dsZSIsImhvc3RzIiwiJGUyMjkxNjI4NGEwOGNmZDckdmFyJHN3aXRjaFRvU3luY1N0b3JhZ2UiLCJzdG9yaW5nIiwiaHJlZiIsImN1cnJlbnRWZXJzaW9uIiwiZ2V0TWFuaWZlc3QiLCJ2ZXJzaW9uIiwiY3VycmVudE1ham9yIiwiY3VycmVudE1pbm9yIiwicHJldmlvdXNNYWpvciIsInByZXZpb3VzTWlub3IiLCJvblN0YXJ0dXAiLCIkMTIxNWI4MTY2NTMwMDk4NyRleHBvcnQkNTI2Zjk3NzY0ZGRiNGVmMyIsIiQxMjE1YjgxNjY1MzAwOTg3JGV4cG9ydCRjOTI3OTBlN2EzYTk3OWRiIiwiaG9zdCIsIm9yaWdpbiIsIiRiOTVlOTI1NDFhMTMyZjg3JGV4cG9ydCQ4NzdkMWMyNGFiYTJjNjgiLCIkNDYwYTdlM2NjY2I0MzExNiRleHBvcnQkZDRhNThmZWFjNDE5OWFhNSIsInByZXZpb3VzTmFtZSIsIm1haW5BY3Rpb24iLCJsZWdhY3lBY3Rpb24iLCJtYWluIiwidGV4dFRvQ29weSIsIiQ3NWRhNDg2MGZmZTYwNWFlJGV4cG9ydCQ1ZTE0Y2RhZGU5M2Q2ZjdiIiwidGV4dCIsImljb25VcmwiLCIkNzVkYTQ4NjBmZmU2MDVhZSRleHBvcnQkMmI2ZjFiMWYxOGQ0MTNkMCIsImF1dG9DbG9zZSIsIiRjNmVhMGM4MTFkYTVhNzM3JGV4cG9ydCQzMzdmZmZlOWQ1NmY4MjgyIiwidGFic1RvQ2xvc2UiLCJhbGxUYWJzSW5XaW5kb3ciLCJmaWx0ZXJGdW5jdGlvbiIsInRhYnNJZHNUb1JlbW92ZSIsIiQxZDVlYzJlOGI3OGEyOWE5JGV4cG9ydCQzZGFlOWVlMTljNDM3Yjc3IiwicHJldmlvdXNUYWJzIiwicHJldmlvdXNUYWJJZCIsIiQyZTFhNTRmODM0MTEzZGU4JGV4cG9ydCQxZjlkYTQ2OGZmZDBiZDg5IiwibWFya2VycyIsInNwbGl0VGFicyIsIiQyZTFhNTRmODM0MTEzZGU4JHZhciRnZXRGaXJzdFRhYkJ5V2luZG93IiwiZm9jdXNlZCIsImRpc2NhcmRlZCIsIiQxMWQzZjg4Njk3NTRlNTBmJGV4cG9ydCQ0ODFmNmRkZjYyYjk3ZGU4IiwiJDExZDNmODg2OTc1NGU1MGYkZXhwb3J0JDdiMWJmNjA4ZTY2NGNiOGIiLCIkMTQ2NTMxMmNhOTVmMGJlZCRleHBvcnQkOWEwYTMxZmEzYmVkYzBjIiwiY29tbWFuZCIsIiQ3NmI4MGFhNTAzZjBjMTdiJHZhciRiYWNrZ3JvdW5kQ29tbWFuZHMiLCIkNzZiODBhYTUwM2YwYzE3YiRleHBvcnQkMmY4NDdlYWNlOWUwOTA3NyIsImZvY3VzQWN0aW9uSW5kZXgiLCIkYmQ1ODllYjA2Zjg5MTI5MiR2YXIkZ2V0VGV4dEZyb21DbGlwYm9hcmQiLCJ0ZXh0RnJvbUNsaXBib2FyZCIsImNsaXBib2FyZCIsInJlYWRUZXh0Iiwib2Zmc2NyZWVuIiwiaGFzRG9jdW1lbnQiLCJjbG9zZURvY3VtZW50IiwiY3JlYXRlRG9jdW1lbnQiLCJyZWFzb25zIiwiUmVhc29uIiwiQ0xJUEJPQVJEIiwianVzdGlmaWNhdGlvbiIsIiRiZDU4OWViMDZmODkxMjkyJHZhciRnZXRDbGlwYm9hcmRNYW5pZmVzdFYzIiwiJGJkNTg5ZWIwNmY4OTEyOTIkZXhwb3J0JDM1YzYyZDg0N2YxM2U3NjMiLCJjbGlwVGV4dCIsIlN5bnRheEVycm9yIiwiJGJkNTg5ZWIwNmY4OTEyOTIkZXhwb3J0JDM0MTBhNjc3ZWQ1MmExOGUiLCJqc29uUmVzcG9uc2UiLCJ3cml0ZVRleHQiLCJjb3B5UGFzdGVBcmVhIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsIkhUTUxUZXh0QXJlYUVsZW1lbnQiLCJzZWxlY3QiLCJleGVjQ29tbWFuZCIsIiRiZDU4OWViMDZmODkxMjkyJHZhciRjb3B5VG9DbGlwYm9hcmRNYW5pZmVzdFYzIiwiJDFmMzhjY2M3ZTUyNmQyNmUkdmFyJHRyaWVkVG9Gb2N1c0RvY3VtZW50IiwiJDFmMzhjY2M3ZTUyNmQyNmUkZXhwb3J0JDNiNzA1M2Q2MTkwMGY1ZGEiLCJmb2N1c2VkRG9jdW1lbnQiLCIkMDBkMjRjMTkwNGQ1Y2ZlNCRleHBvcnQkZmI3NDdlNGNhOGExN2VmOSIsIiQ5MjRlZmI2Njk0YTNiYTQzJHZhciR0YWxvbklzV2FpdGluZ0ZvclJlc3BvbnNlIiwiJDkyNGVmYjY2OTRhM2JhNDMkdmFyJHdyaXRlVHlwZUNoYXJhY3RlcnNSZXNwb25zZSIsIiQ5MjRlZmI2Njk0YTNiYTQzJHZhciRoYW5kbGVEaXJlY3RDbGlja0VsZW1lbnRSZXF1ZXN0IiwiJDkyNGVmYjY2OTRhM2JhNDMkZXhwb3J0JDhkMjg3MjNlYzAwOWE4MjkiLCIkNmY1YzA0NTZlZmQ1ZWNhZSRleHBvcnQkOWU1MmIxMGQ1N2RkZjllMyIsInVybHMiLCJsYXN0UmVsYXRlZFRhYiIsIm9wZW5lclRhYklkIiwiJDNjOGM0MmVhNDNjODRhZDYkdmFyJGFzc2VydE5ldmVyIiwibm9UaHJvdyIsIiQzYzhjNDJlYTQzYzg0YWQ2JGV4cG9ydHMiLCJhc3NlcnROZXZlciIsImRlZmF1bHQiLCIkMTRjZDUzOWMxYTY5YWRhNyR2YXIkbXV0ZXhlcyIsIiQxNGNkNTM5YzFhNjlhZGE3JGV4cG9ydCQ5MDBiYTM4M2MyOTUzZDhiIiwibXV0ZXgiLCIkMTRjZDUzOWMxYTY5YWRhNyR2YXIkZ2V0TXV0ZXhGb3JTdG9yYWdlVmFsdWUiLCIkNTlhNjQ5NjIwMzhkNzdjOCR2YXIkbm90aWZ5U3VjY2VzcyIsIiQ1OWE2NDk2MjAzOGQ3N2M4JHZhciRtb2RpZmllZFNlbGVjdG9ycyIsIiQ1OWE2NDk2MjAzOGQ3N2M4JHZhciRiYXRjaFVwZGF0ZVByb21pc2UiLCIkNTlhNjQ5NjIwMzhkNzdjOCR2YXIkYmF0Y2hVcGRhdGVQcm9taXNlUmVzb2x2ZSIsIiQ1OWE2NDk2MjAzOGQ3N2M4JHZhciRtZXNzYWdlcyIsInN0b3JlIiwic3VjY2VzcyIsImZhaWwiLCJyZXNldCIsIiQ1OWE2NDk2MjAzOGQ3N2M4JHZhciRkZWJvdW5jZWROb3RpZnlBbmRSZXNldCIsIiRqRTFldiIsIiQ1OWE2NDk2MjAzOGQ3N2M4JHZhciR1cGRhdGVDdXN0b21TZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCJzZWxlY3RvcnNBZmZlY3RlZCIsInNlbGVjdG9yc0ZvclBhdHRlcm4iLCJpbmNsdWRlIiwiZXhjbHVkZSIsInNlbGVjdG9yIiwiJDU5YTY0OTYyMDM4ZDc3YzgkZXhwb3J0JGE3ZTc0NDIyZWYwOWQ1MjIiLCIkNTlhNjQ5NjIwMzhkNzdjOCRleHBvcnQkOWY1NzE2ODk5NGMyMjdkNCIsIm9uQ2xpY2tlZCIsIm1lbnVJdGVtSWQiLCJsYXN0Rm9jdXNlZFdpbmRvdyIsImlzQ3VycmVudFRhYiIsImxpbmtzIiwibGV0dGVyIiwib25Db21tYW5kIiwiaW50ZXJuYWxDb21tYW5kIl0sInZlcnNpb24iOjMsImZpbGUiOiJiYWNrZ3JvdW5kLmMzN2Y2NmIzLmpzLm1hcCJ9
